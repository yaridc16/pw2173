!function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=72)}([function(t,e,i){"use strict";function r(t){if(""!=t.debugLog){t.bSubmitted+=t.debugLog.length,(t.bSubmitted>5e5||(new Date).getTime()-t.startTime>18e4)&&(t.debugLog="last packet",t.keepDebugLog=!1),t.debugLogLastSubmitted=(new Date).getTime();var e=t.debugLog;if(t.debugLog="",t.serverHost){var i=c.buildUrl(t.serverHost()+"/sdl?",{p:t.playerId,pv:t.playerVersion,se:t.sessionId,sid:t.subid,domain:t.domain,r:t.debugLogReason});u.requestWithAjax({url:i,postData:e,method:e?"post":"get"})}}}function n(t){if(t.debugLogBuffer.length<1e5)t.debugLog=t.debugLogBuffer,t.debugLogBuffer="";else{t.debugLog=t.debugLogBuffer.substr(t.debugLogBuffer.length-1e5);var e=t.debugLog.indexOf("\n");t.debugLog=-1===e?"":t.debugLog.substr(e+1),t.debugLogBuffer=""}}function a(t,e){var i=e.debugLogReason,a=void 0===i?void 0:i,s=e.keepDebugLog,o=void 0!==s&&s,l=e.debugLogSubmittedDueToException,d=void 0!==l&&l;void 0!==a&&(t.debugLogReason=a),n(t),r(t),o&&(t.keepDebugLog=!0),d&&(t.debugLogSubmittedDueToException=!0)}function s(t){if(t.debugLog="",t.debugLogBuffer="",t.debugLogLastSubmitted=(new Date).getTime(),t.bSubmitted=0,t.debugLogSubmittedDueToException=!1,t.logToHTML){var e=window.document.createElement("div"),i=window.document.createElement("pre");e.style.cssText="border: 1px solid; height: 300px; width: 1200px; resize: both; overflow: auto;",e.appendChild(i),window.document.body.appendChild(e),t.debugDocElement=i}}function o(t,e,i){if(t&&(!i||t.keepDetailedDebugLog)){t.logDebugToConsole&&window.console&&window.console.log((new Date).getTime()+"\t"+e),t.logToHTML&&(t.debugDocElement.innerHTML+=e+"<br>");var n;n=JSON&&JSON.stringify?JSON.stringify(e):'"'+e+'"';var a=(new Date).getTime()+"\t"+n+"\n",s=a.length;if(s>1e5&&(a=(new Date).getTime()+"\ttruncated line\n",s=a.length),!t.keepDebugLog){if(t.debugLogBuffer&&t.debugLogBuffer.length>1e7)return;return void(t.debugLogBuffer+=a)}var o=t.debugLog.length;o>0&&o+s>1e5&&r(t),t.debugLog+=a,((new Date).getTime()-t.debugLogLastSubmitted>3e3||t.debugLog.length>1e5)&&r(t)}}function l(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+="property: "+i+" value: ["+t[i]+"]\n");return e+="toString():  value: ["+t.toString()+"]"}function d(t,e,i,r,n){var a="";e.cxpid&&(a+="cxp:"+e.cxpid),e.cxvid&&(a+=" cxv:"+e.cxvid),(e.cxpid||e.cxvid)&&(a=" ("+a+")");var s="";try{s=n&&n.length?JSON.stringify(n):""}catch(t){}o(t,"vastId "+e.vastId+" uniqId "+e.uniqId+a+" - "+i+s,r)}Object.defineProperty(e,"__esModule",{value:!0});var u=i(15),c=i(3);e.submitDebugLog=r,e.submitDebugLogBuffer=n,e.submitFullDebugLog=a,e.initDebugLog=s,e.debugLog=o,e.errFullDetails=l,e.debugLogVast=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(10);!function(t){t[t.JSONP=1]="JSONP",t[t.XHR_POST=2]="XHR_POST"}(e.gpvMethod||(e.gpvMethod={}));!function(t){t[t.AD_COMPLETE=1]="AD_COMPLETE",t[t.SKIP=2]="SKIP",t[t.LONG_IMPRESSION=3]="LONG_IMPRESSION",t[t.NO_SUITABLE_MEDIA=4]="NO_SUITABLE_MEDIA",t[t.ONLY_FLASH_BUT_NOT_SUPPORTED=5]="ONLY_FLASH_BUT_NOT_SUPPORTED",t[t.NO_VALID_CREATIVES=6]="NO_VALID_CREATIVES",t[t.NON_LINEAR=7]="NON_LINEAR",t[t.VPAID_VOLUME_VIOLIATION=8]="VPAID_VOLUME_VIOLIATION",t[t.DOUBLE_PARALLEL_STARTED=9]="DOUBLE_PARALLEL_STARTED",t[t.PARALLEL_STARTED=10]="PARALLEL_STARTED",t[t.NO_VAST_TRACKER=11]="NO_VAST_TRACKER",t[t.FLASH_FAILURE=12]="FLASH_FAILURE",t[t.VPAID_LOAD_FAILURE=13]="VPAID_LOAD_FAILURE",t[t.INIT_AD_ERROR=14]="INIT_AD_ERROR",t[t.START_AD_ERROR=15]="START_AD_ERROR",t[t.START_AD_TIMEOUT=16]="START_AD_TIMEOUT",t[t.VPAID_ERROR_INITING=17]="VPAID_ERROR_INITING",t[t.VPAID_ERROR_READY=18]="VPAID_ERROR_READY",t[t.VIDEO_ERROR=19]="VIDEO_ERROR",t[t.HTTP_ERROR_REQUERY=20]="HTTP_ERROR_REQUERY",t[t.HTTP_ERROR_TERMINATE=21]="HTTP_ERROR_TERMINATE",t[t.VAST_DMVAST_ERROR=22]="VAST_DMVAST_ERROR",t[t.VAST_NO_AD=23]="VAST_NO_AD",t[t.EMPTY_RESPONSE=24]="EMPTY_RESPONSE",t[t.JS_EXCEPTION=25]="JS_EXCEPTION",t[t.UNKNOWN_ERROR=26]="UNKNOWN_ERROR",t[t.IS_BLOCKED=27]="IS_BLOCKED",t[t.LOAD_AD_TIMEOUT=28]="LOAD_AD_TIMEOUT"}(e.TerminateReason||(e.TerminateReason={}));var n=function(){function t(){var t=this;this.flashSupport=!1,this.observableOnly=!1,this.beingVpaid=!1,this.curUniq=0,this.parallelStartAd=!0,this.freqRetry=!1,this.anyPlaying=!1,this.allowSound=!1,this.usejsv=!1,this.playerIds=[],this.gpvAttempt=0,this.activeVastIds=[],this.debug={},this.conf={},this.initOverrides=[],this.gpvConfLoaded=!1,this.gpvRequeryInterval=6e5,this.gpvRetryInterval=1e4,this.loadAdTimer=60,this.thirdPartyTimeout=0,this.vastWaitFactor=1,this.totalVastRetries=null,this.maxTotalVastRetries=null,this.maxFailedVastRetries=null,this.maxAdStarts=null,this.vpaidInitLimit=3,this.wrapperLimit=null,this.sizeTolerance=null,this.widthOverwrite=null,this.heightOverwrite=null,this.adsAfterContent=!1,this.debugLogReason="gpv",this.logToHTML=!1,this.submitDebugLogOnPlayerError=!1,this.submitDebugLogOnVastError=!1,this.submitDebugLogForVastId=null,this.moat=null,this.plist=[],this.initialStartAd=null,this.domIsReady=!1,this.domReadyTime=null,this.remainingVasts=[],this.paused=!1,this.scheduledPixelSent=!1,this.anyAdPlayed=!1,this.curAdStarts=0,this.startTime=(new Date).getTime(),this.domReady=new r.Promise(function(e){t.domReadyResolve=function(){return t.domIsReady=!0,e()}})}return t.prototype.AllowedSound=function(){return this.dynamicSound||this.volume>0||0!=this.muted||this.info.mobile},t.prototype.getPlayerDataByUniq=function(t){for(var e=0,i=this.plist.length;e<i;e++)if(this.plist[e].uniqId==t)return this.plist[e];return null},t}();e.Players=n;!function(t){t[t.None=0]="None",t[t.Fetching=1]="Fetching",t[t.Fetched=2]="Fetched",t[t.Loading=3]="Loading",t[t.Initing=4]="Initing",t[t.Ready=5]="Ready",t[t.Started=6]="Started",t[t.Playing=7]="Playing",t[t.Completed=8]="Completed",t[t.Finished=9]="Finished",t[t.Error=10]="Error"}(e.PlayerDataState||(e.PlayerDataState={}))},function(t,e,i){"use strict";function r(t,i,n){if(i&&n&&n.vastTracker.quartiles){var a=n.vastTracker.quartiles,s=e.QUARTILE_NAMES[t],o=a[s];if(t==D.COMPLETE&&(o=n.vastTracker.assetDuration),!o)return void y.debugLogVast(i,n,"unknown vast tracker quarter - "+s,!1);for(var l in a)l&&a.hasOwnProperty(l)&&(!n.vastTracker.progress||n.vastTracker.progress<a[l])&&a[l]<o&&r(Object.keys(a).indexOf(l)+1,i,n);!n.vastTracker.progress||n.vastTracker.progress<=o?(y.debugLogVast(i,n,"advancing progress accordingly",!1),n.vastTracker.setProgress(o)):y.debugLogVast(i,n,"progress is in the right place",!1)}}function n(t,e,i,r,n,a,s,o,l){if(t){if("function"==typeof t.vastError)return t.vastError(e,i,r,n,a,s,o,l);if(i!=P.CORS_WITH_CREDENTIALS){var d,u="",c=0;if(void 0!==a&&a){if(i!=P.JS_EXCEPTION&&a.vastErrorWasReported)return;d=a.mediaURL,d="",c=a.state>=E.PlayerDataState.Started?((new Date).getTime()-a.startAdTime)/1e3:((new Date).getTime()-a.loadAdTime)/1e3,u=c.toFixed(1)}else d="";void 0===s&&(s=!1),void 0===o&&(o=!1),void 0===l&&(l="vast error"),n&&(r+=y.errFullDetails(n));var h={errorCode:i,errorMessage:r,mediaURL:d};s&&!a.logStartWasDone&&(h.logStartRequest=1,a.logStartWasDone=!0),o&&!a.logLoadWasDone&&(h.logLoadRequest=1,a.logLoadWasDone=!0),""!=u&&(h.time=u),a.vastErrorWasReported=!0,b.logVastEvent(t,b.CEDATO_EVENT.E_VAST_ERROR,a,h),y.debugLogVast(t,a,"errorCode "+i+" - "+r,!1),i!=P.JS_EXCEPTION||t.keepDebugLog||t.debugLogSubmittedDueToException||!t.submitDebugLogOnVastError||y.submitFullDebugLog(t,{debugLogReason:l,debugLogSubmittedDueToException:!0})}}}function a(t){try{var e=t.split("/"),i=e[0],r=e[1];switch(i){case"video":return["video",r];case"application":if(-1!=r.indexOf("javascript"))return["jsvpaid"];if(-1!=r.indexOf("shockwave-flash"))return["flvpaid"];default:return[null]}}catch(t){return[null]}}function s(t,e){var i=null;if(e)i={message:e.message,code:P.VAST_DMVAST_ERROR};else{for(var r=!1,n=t.documentElement.childNodes,a=0,s=n.length;a<s;a++)"Ad"===n[a].nodeName&&(r=!0);r||(i={message:"no <Ad> element",code:P.VAST_NO_AD})}return i}function o(t,e,i){try{if(!(i&&i.ads&&i.ads.length))return n(t,e.vastId,P.EMPTY_RESPONSE,"VAST error - empty response",null,e,!1,!0),y.debugLogVast(t,e,"VAST error - empty response",!1),E.TerminateReason.EMPTY_RESPONSE;y.debugLogVast(t,e,"got response with data",!0),y.debugLog(t,i,!0);for(var r=[-1,-1,-1],s=r[0],o=r[1],l=r[2],d=["","",""],u=d[0],c=d[1],h=0,p=0,f="",A="",g=i.ads.length,b=!1,T=0;T<g;T++){var _=i.ads[T];if(y.debugLogVast(t,e,"got ad",!1),y.debugLog(t,_,!0),0==_.creatives.length)return n(t,e.vastId,P.NO_VALID_CREATIVES,"no valid creatives were found",null,e,!1,!0),E.TerminateReason.NO_VALID_CREATIVES;for(var R=0,L=_.creatives.length;R<L;R++){var S=_.creatives[R];switch(y.debugLogVast(t,e,"got creative",!0),y.debugLog(t,S,!0),S.type){case"linear":var w=S;y.debugLogVast(t,e,"creative is linear with "+w.mediaFiles.length+" medias",!0);for(var I=0,D=w.mediaFiles.length;I<D;I++){var O=w.mediaFiles[I];y.debugLogVast(t,e,"got media",!0),y.debugLog(t,O,!0),y.debugLogVast(t,e,"got media - mimeType: "+O.mimeType,!1),A+=O.mimeType+",";var C=a(O.mimeType),x=C[0],k=C[1];if(t.callingFlashObject&&"flvpaid"!==x)y.debugLogVast(t,e,"in vpaid flash only flash is supported",!0);else{switch(x){case"video":if(t.usejsv){if(["webm","mp4","wmv","flv"].indexOf(k)<0){y.debugLogVast(t,e,"unsupported jsv video mimeType: "+O.mimeType,!0);continue}if(O.deliveryType&&"streaming"==O.deliveryType||m.isStreamingUrl(O.fileURL)||O.fileURL.length<8){y.debugLogVast(t,e,"dont allow streaming",!0);continue}}else try{if(!t.hasVideoSupport){y.debugLogVast(t,e,"no video support for mimeType: "+O.mimeType,!1);continue}if(!V.canPlayType(O.mimeType)){y.debugLogVast(t,e,"unsupported mimeType: "+O.mimeType,!0);continue}}catch(t){}break;case"jsvpaid":e.hasJSVPAID=!0;break;case"flvpaid":if(e.hasFlashVPAID=!0,!t.flashSupport){b=!0,y.debugLogVast(t,e,"flash mimetype but we don't have flash support",!0);continue}break;default:y.debugLogVast(t,e,"not a valid mimeType: "+O.mimeType,!0);continue}var N=!1;if(e.vastPreferType!=v.VIDEO_ONLY||"video"==x){if(e.vastPreferType==v.VPAID_FLV_DEFAULT)N=!0;else if(e.vastPreferType==v.VPAID_JS_DEFAULT)N=!1;else{if(e.vastPreferType==v.VPAID_FLV_ONLY&&"jsvpaid"==x){y.debugLogVast(t,e,"only flash allowed",!0);continue}if((e.vastPreferType==v.VPAID_JS_ONLY||t.observableOnly)&&"flvpaid"==x){y.debugLogVast(t,e,"only js allowed",!0);continue}}if("video"==x){var U=!0;if(O.bitrate&&h){if(U=!1,O.bitrate>h){y.debugLogVast(t,e,"bitrate is higher than chosen: "+O.bitrate,!0);continue}O.bitrate==h?U=!0:y.debugLogVast(t,e,"choosing bitrate "+O.bitrate+" over previously chosen bitrate "+h,!0)}else if(p&&O.width){U=!1;var M=O.width*O.height;if(M>p){y.debugLogVast(t,e,"size is higher than chosen: "+M,!0);continue}M==p?U=!0:y.debugLogVast(t,e,"choosing size "+M+" over previously chosen size "+p,!0)}if(U&&c){if("mp4"==c||"webm"==c||"mp4"==k&&("ogg"==c||"3gp"==c)){y.debugLogVast(t,e,"same speed but already chosen preferred "+c+" over "+k,!0);continue}y.debugLogVast(t,e,"choosing video "+k+" over previously chosen "+c,!0)}}else if("video"==u){y.debugLogVast(t,e,"prefer video over flash/js",!0);continue}if(-1!==O.fileURL.indexOf("cdn.altitude-arena.com")&&(N=!0),"flvpaid"==x){if("jsvpaid"==u){if(!e.previousAdType&&!N){y.debugLogVast(t,e,"preferring vpaidjs to flash",!0);continue}if("flvpaid"==e.previousAdType){y.debugLogVast(t,e,"had flash before now trying JS ",!0);continue}}}else if("jsvpaid"==x&&"flvpaid"==u){if("jsvpaid"==e.previousAdType){y.debugLogVast(t,e,"preferring flash choice if previous is vpaidjs ",!0);continue}if(!e.previousAdType&&N){y.debugLogVast(t,e,"preferring flash to vpaidjs",!0);continue}}W=[x,k,O.mimeType],u=W[0],c=W[1],W[2],G=[T,R,I],s=G[0],o=G[1],l=G[2],O.bitrate&&(h=O.bitrate),O.width&&(p=O.width*O.height)}else y.debugLogVast(t,e,"only video vast allowed",!1)}}break;case"non-linear":break;case"companion":for(var j=S,B=0,F=j.variations.length;B<F;B++){var H=j.variations[B];H.width==t.width&&H.height==t.height&&("image/jpeg"==H.type||(f=H.htmlResource))}}}if(u){try{var _=i.ads[s],J=_.creatives[o],O=J.mediaFiles[l];y.debugLog(t,_,!0),y.debugLog(t,J,!0),y.debugLog(t,O,!0),e.adParameters=J.adParameters,_.impressionURLTemplates&&(1!=_.impressionURLTemplates.length||_.impressionURLTemplates[0])||(_.impressionURLTemplates=[]),e.ad=_,e.creative=J,"flvpaid"==u?(e.isFlash=1,e.adType="flvpaid"):"jsvpaid"==u?(e.isFlash=0,e.adType="jsvpaid"):(e.isFlash=0,e.adType="video"),y.debugLogVast(t,e,"chosen ad type is "+e.adType,!1),e.mediaURL=O.fileURL,e.mediaURL.trim&&(e.mediaURL=e.mediaURL.trim()),e.companionHTML=f,e.state=E.PlayerDataState.Fetched}catch(i){return n(t,e.vastId,P.JS_EXCEPTION,"fpv-chosen gave JS exception: ",i,e,!1,!0),E.TerminateReason.JS_EXCEPTION}return null}var q=void 0;return b?(q=E.TerminateReason.ONLY_FLASH_BUT_NOT_SUPPORTED,n(t,e.vastId,P.FLASH_ONLY_NOT_SUPPORTED,"only flash available, but is not supported",null,e,!1,!0)):(q=E.TerminateReason.NO_SUITABLE_MEDIA,n(t,e.vastId,P.NO_SUITABLE_MEDIA,"no suitable media: "+A,null,e,!1,!0)),t.DMVAST.util.track(_.errorURLTemplates,{ERRORCODE:403}),q}}catch(i){return n(t,e.vastId,P.JS_EXCEPTION,"fpv gave JS exception: ",i,e,!1,!0),E.TerminateReason.JS_EXCEPTION}var W,G}function l(t,e){var i=null,r=e.quotaExpirationTime&&(new Date).getTime()>e.quotaExpirationTime;if(null!=e.allocatedQuotaImp&&(e.allocatedQuotaImp<=0||r)?i=I.AD_START:null!=e.allocatedQuotaReq&&(e.allocatedQuotaReq<=0||r)&&(i=I.AD_REQUEST),r||null!=i){var n=m.buildUrl(t.serverHost()+"/get_vast_allocation?",{v:e.vastId,capt:i}),a=function(r){if(null!=r&&R.isNumeric(r)&&r>0){switch(y.debugLogVast(t,e,"received "+r+" quota from server.",!1),e.quotaExpirationTime=null!=e.quotaExpirationSec?(new Date).getTime()+1e3*e.quotaExpirationSec:null,i){case I.AD_REQUEST:e.allocatedQuotaReq=+r;break;case I.AD_START:e.allocatedQuotaImp=+r}u(t,e)}else y.debugLogVast(t,e,"did not receive a positive integer as the quota. Removing from list.",!1),T.destroyPlayerData(t,e)};g.requestWithAjax({url:n}).then(function(t){return a(t.responseText)},function(){return a()})}else u(t,e)}function d(t,e,i){return t.frozen?(y.debugLogVast(t,e,i+" - frozen - quiting",!1),!0):!(!t.chilled||!e.adType||"video"==e.adType)&&(y.debugLogVast(t,e,i+" - chilled - quiting",!1),!0)}function u(t,e){if(!d(t,e,"FetchVast")){e.loadAdTime=(new Date).getTime(),e.state=E.PlayerDataState.Fetching,e.roundNo++,e.totalRoundNo++,e.initAdEnvObject=null,t.totalVastRetries++;var i=0;if(e.maxFailedVastRetries>0&&(i=e.maxFailedVastRetries),t.maxFailedVastRetries>0&&(0==i||t.maxFailedVastRetries<i)&&(i=t.maxFailedVastRetries),i>0&&e.roundNo>i||t.maxTotalVastRetries>0&&t.totalVastRetries>t.maxTotalVastRetries){if(!e.lastChanceRetry)return y.debugLogVast(t,e,"crossed number of allowed retries: "+i,!1),void T.destroyPlayerData(t,e);y.debugLogVast(t,e,"additional last retry granted after: "+i,!1),w.logHttpError(t,e,null,"last chance","additional last retry",e.withCredentials,!1)}e.lastChanceRetry=!1;var r=_.macros(t,e)(e.vastURL);y.debugLogVast(t,e,"fetchPlayerVast, url: "+r+" ("+e.vastURL+")",!1),e.ad=null,e.creative=null,e.mediaURL="",e.isFlash=0,e.adType&&(e.previousAdType=e.adType),e.adType=null,e.vpaidPlaying=!1,e.vastTracker=null,e.skipVastTracker=!1,e.hasFlashVPAID=!1,e.hasJSVPAID=!1,h(t,e,r),c(e),e.fetchAdUrl(r)}}function c(t){var e=T.adTypesProto[t.adType||"vast"];T.setPrototype(t,e)}function h(t,e,i){var r=L.PlayerDataSpotx.getChannelId(i);if(e.isIMA=S.PlayerDataGoogleIMA.isGoogleIMA(i),e.isIMA){var n=i.match(/^(http:|https:)?\/\/ima3vpaid.appspot.com\/\?adTagUrl=(.+)/);n&&n[2]&&(i=decodeURIComponent(n[2]),y.debugLogVast(t,e,"IMA - unwrap adapter",!1)),e.vastURL=i,e.mediaURL=i,!t.flashSupport||e.vastPreferType!=v.VPAID_FLV_ONLY&&e.vastPreferType!=v.VPAID_FLV_DEFAULT?(y.debugLogVast(t,e,"IMA - use JS SDK",!1),e.adType="jsima"):(y.debugLogVast(t,e,"IMA - use flash SDK",!1),e.adType="flvpaid")}else r&&(y.debugLogVast(t,e,"is Spotx go to SDK",!1),e.channelId=r,e.adType="spotx")}function p(t,e,i){var r=null,n=i.match(/^data:(.*?)(;base64)?,(.*)$/);if(n)try{var a=";base64"==n[2]?atob(n[3]):decodeURIComponent(n[3]);e.vastResponseXML=g.parseTextToXML(a)}catch(t){r="Inline VAST failed: "+t.message}else-1!==i.indexOf("noad.xml")?r="No Ads expected":(i=m.upgradeProtocol(t.protocol,i))||(r="Invalid VAST url");return{error:r,vastUrl:i}}function f(t,e,i,r){var a,s=i.code,o=i.message;switch(s){case g.HttpError.NO_XHR_SUPPORT:y.debugLogVast(t,e,"xhr error - no supported xhr object",!1),n(t,e.vastId,P.NO_AVAILABLE_XHR,"Fetch VAST error - no available xhr",null,e,!1,!0),a=E.TerminateReason.HTTP_ERROR_TERMINATE;break;case g.HttpError.OPEN:y.debugLogVast(t,e,"xhr error on open: "+o,!1),a=E.TerminateReason.HTTP_ERROR_REQUERY;break;case g.HttpError.SEND:y.debugLogVast(t,e,"xhr error on send: "+o,!1),a=E.TerminateReason.HTTP_ERROR_REQUERY;break;case g.HttpError.CORS:var l=void 0,d=void 0;r.withCredentials?(e.withCredentials=!1,e.lastChanceRetry=!0,e.logLastChanceRetry=!0,d=P.CORS_WITH_CREDENTIALS,l="disabling withCredentials mode",a=E.TerminateReason.HTTP_ERROR_REQUERY):(d=P.CORS_WITHOUT_CREDENTIALS,l="stopping requery",a=E.TerminateReason.HTTP_ERROR_TERMINATE),y.debugLogVast(t,e,"xhr cross origin exception, credentials: "+r.withCredentials+" - "+l,!1),n(t,e.vastId,d,"Fetch VAST error - xhr cross origin exception, credentials: "+r.withCredentials,null,e,!1,!0);break;case g.HttpError.STATUS:y.debugLogVast(t,e,"xhr status error - "+o,!1),n(t,e.vastId,P.XHR_STATUS,"Fetch VAST error - "+o,null,e,!1,!0),a=E.TerminateReason.HTTP_ERROR_TERMINATE;break;case g.HttpError.TIMEOUT:y.debugLogVast(t,e,"xhr timeout error",!1),a=E.TerminateReason.HTTP_ERROR_REQUERY;break;default:case g.HttpError.UNKNOWN:y.debugLogVast(t,e,"xhr JS exection - "+o,!1),n(t,e.vastId,P.JS_EXCEPTION,"Fetch VAST error - JS exception: ",{message:o},e,!1,!0),a=E.TerminateReason.HTTP_ERROR_REQUERY}return w.logHttpError(t,e,s,null,o,r.withCredentials,!!a),a}function A(t,e){if(0==e.length)return void y.debugLog(t,"no more ads can be added",!1);var i=null;t.remainingVasts=[];for(var r=0,n=e;r<n.length;r++){var a=n[r];0==a.group&&null===i?(y.debugLog(t,"premium vast found, vastId: "+a.vastId,!1),i=0,t.plist.push(a)):t.remainingVasts.push(a)}if(null===i){t.currentGroup=1;for(var s=0,o=t.remainingVasts;s<o.length;s++){var l=o[s];t.plist.push(l)}t.remainingVasts=[]}else t.currentGroup=i;y.debugLog(t,"initiating fetch player vasts",!1);for(var d=0,c=t.plist.length;d<c;d++)!function(e,i){var r=t.plist[e];if(r.state==E.PlayerDataState.None){T.prepareAdContainers(t,r);var n=(t.debug.delayRequest||0)+(r.delay.Request||0)+50*e;setTimeout(function(){u(t,r)},n)}}(d)}Object.defineProperty(e,"__esModule",{value:!0});var v,g=i(15),m=i(3),y=i(0),b=i(11),E=i(1),T=i(9),_=i(27),R=i(7),L=i(32),S=i(34),w=i(4);!function(t){t[t.VIDEO_ONLY=0]="VIDEO_ONLY",t[t.VPAID_FLV_DEFAULT=1]="VPAID_FLV_DEFAULT",t[t.VPAID_JS_DEFAULT=2]="VPAID_JS_DEFAULT",t[t.VPAID_FLV_ONLY=3]="VPAID_FLV_ONLY",t[t.VPAID_JS_ONLY=4]="VPAID_JS_ONLY"}(v=e.vastPreferType||(e.vastPreferType={}));var I;!function(t){t[t.AD_START=1]="AD_START",t[t.AD_REQUEST=2]="AD_REQUEST"}(I=e.CAP_TYPE||(e.CAP_TYPE={}));var P;!function(t){t[t.JS_EXCEPTION=3]="JS_EXCEPTION",t[t.VIDEO_ERROR=4]="VIDEO_ERROR",t[t.PROCESS_ERROR=5]="PROCESS_ERROR",t[t.VPAID_UNKNOWN_ERROR=22]="VPAID_UNKNOWN_ERROR",t[t.GAVE_UP_ON_VPW=25]="GAVE_UP_ON_VPW",t[t.EMPTY_RESPONSE=26]="EMPTY_RESPONSE",t[t.NO_SUITABLE_MEDIA=27]="NO_SUITABLE_MEDIA",t[t.FLASH_ONLY_NOT_SUPPORTED=28]="FLASH_ONLY_NOT_SUPPORTED",t[t.NO_VALID_CREATIVES=29]="NO_VALID_CREATIVES",t[t.GAVE_UP_ON_AD_LOAD=59]="GAVE_UP_ON_AD_LOAD",t[t.GAVE_UP_ON_AD_START=60]="GAVE_UP_ON_AD_START",t[t.DOUBLE_START_OR_IMPRESSION=61]="DOUBLE_START_OR_IMPRESSION",t[t.LONG_IMPRESSION=62]="LONG_IMPRESSION",t[t.PARALLEL_STARTED=63]="PARALLEL_STARTED",t[t.DOUBLE_PARALLEL_STARTED=64]="DOUBLE_PARALLEL_STARTED",t[t.NO_AVAILABLE_XHR=101]="NO_AVAILABLE_XHR",t[t.CORS_WITH_CREDENTIALS=102]="CORS_WITH_CREDENTIALS",t[t.CORS_WITHOUT_CREDENTIALS=103]="CORS_WITHOUT_CREDENTIALS",t[t.XHR_STATUS=104]="XHR_STATUS",t[t.VPAID_TIMEOUT=110]="VPAID_TIMEOUT",t[t.VPAID_EMPTY_VAST=111]="VPAID_EMPTY_VAST",t[t.VPAID_EMPTY_BLOCKED_DOMAIN=112]="VPAID_EMPTY_BLOCKED_DOMAIN",t[t.VPAID_NO_AVAILABLE_ADS=113]="VPAID_NO_AVAILABLE_ADS",t[t.VPAID_VAST_ERROR=114]="VPAID_VAST_ERROR",t[t.VPAID_SECURITY_ERROR=115]="VPAID_SECURITY_ERROR",t[t.VPAID_STREAM_ERROR=116]="VPAID_STREAM_ERROR",t[t.VPAID_START_TIMEOUTED=117]="VPAID_START_TIMEOUTED",t[t.VPAID_INTERNAL_VPAID_ERROR=118]="VPAID_INTERNAL_VPAID_ERROR",t[t.VPAID_INNER_VPW_EXCEPTION=156]="VPAID_INNER_VPW_EXCEPTION",t[t.VPAID_IMA_NON_LINEAR=157]="VPAID_IMA_NON_LINEAR",t[t.VPAID_VOLUME_VIOLATION=300]="VPAID_VOLUME_VIOLATION",t[t.VAST_DMVAST_ERROR=201]="VAST_DMVAST_ERROR",t[t.VAST_NO_AD=202]="VAST_NO_AD",t[t.VPAIDJS_LOAD=324]="VPAIDJS_LOAD",t[t.VPAIDFLV_NO_URL=2035]="VPAIDFLV_NO_URL",t[t.VPAIDFLV_LOAD=2036]="VPAIDFLV_LOAD"}(P=e.VAST_ERROR||(e.VAST_ERROR={}));var D;!function(t){t[t.FIRST=1]="FIRST",t[t.MIDPOINT=2]="MIDPOINT",t[t.THIRD=3]="THIRD",t[t.COMPLETE=4]="COMPLETE"}(D=e.Quartiles||(e.Quartiles={})),e.QUARTILE_NAMES=[null,"firstQuartile","midpoint","thirdQuartile","complete"],e.verifyPlayerProgress=r,e.vastError=n;var V=document.createElement("video");e.vastProcessResponseXml=s,e.vastProcessResponse=o,e.allocateAndFetchPlayerVast=l,e.isCold=d,e.fetchPlayerVast=u,e.setPlayerDataClass=c,e.preprocessVastUrl=p,e.handleVastRequestError=f,e.addRemainingVasts=A},function(t,e,i){"use strict";function r(){try{throw new Error}catch(a){var t=a.stack.split("\n"),e=0;for(var i in t)if(t.hasOwnProperty(i)&&t[i].match(/http[s]?:\/\//)){e=Number(i)+1;break}var r;t[e+1]&&(r=t[e+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/)),r&&r[1]||(r=t[e].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/)),r&&r[1]||!t[e+1]||(r=t[e+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/)),r&&r[1]||(r=t[e].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/)),r&&r[1]||!t[e+1]||(r=t[e+1].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/)),r&&r[1]||(r=t[e].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/));var n="";return r[1]&&(n=r[1]),n&&":"===n.substr(n.length-1)&&(n=n.substring(0,n.length-1)),n}}function n(t,e){if(null!=t)return t?"https:":"http:";try{var i=e||window.location||document.location;if(i&&"http:"==i.protocol)return"http:"}catch(t){}return"https:"}function a(t){try{if(t&&0===t.protocol.indexOf("file"))return!0;if(document&&document.location&&0===document.location.protocol.indexOf("file"))return!0;if(window.location&&0===window.location.protocol.indexOf("file"))return!0;if(location&&0===location.protocol.indexOf("file"))return!0}catch(t){return!0}return!1}function s(t){var e=t||location||window.location||document.location;return!(a(t)||e&&(-1!=e.host.indexOf("localhost")||-1!=e.host.indexOf("127.0.0.1")||e.port&&"80"!=e.port))}function o(){var t="";try{if(parent!==window){t=document.referrer;var e=window.location.ancestorOrigins;if(e){var i=e[e.length-1];i&&t.substring(0,i.length)!=i&&(t=i)}}else t=top.location.href}catch(t){}return t}function l(t){try{var e=document.createElement("a");return e.href=t,e.host}catch(e){return t}}function d(t,e,i){void 0===i&&(i={noCB:!1});var r=[];for(var n in e)if(e.hasOwnProperty(n)&&void 0!==e[n]&&"function"!=typeof e[n]){var a=String(e[n]);if("extra"===n){if(a.length)for(var s=a.split("&"),o=0;o<s.length;o++)r.push(s[o])}else n&&n.length&&a.length?r.push([n,f(a)].join("=")):n&&n.length?r.push(n+"="):a&&a.length&&r.push(a)}return i.noCB||r.push("cb="+(new Date).getTime().toFixed(0)),[t,-1==t.indexOf("?")&&r.length>0?"?":"",r.join("&")].join("")}function u(t){return t.split(".").pop().split(/\#|\?/)[0]}function c(t){var e=t.split("/"),i=e[0].toLowerCase(),r=!("rtsp:"!==i&&"rtp:"!==i);if(!r){var n=u(t);"m3u8"!==n&&"m3u"!==n&&"swf"!==n||(r=!0)}return r}function h(t,e){var i,r;i=e?{}:[];try{var n,a=t.slice(t.indexOf("?")+1).split("&");for(n=0;n<a.length;n++){r=a[n].split("="),e||i.push(r[0]);var s=r[1];e&&(s=p(s)),i[r[0]]||(i[r[0]]=s)}}catch(t){i={}}return i}function p(t){try{t=decodeURIComponent(t)}catch(e){try{t=unescape(t)}catch(t){}}return t}function f(t){try{t=encodeURIComponent(t)}catch(e){try{t=escape(t)}catch(t){}}return t}function A(t,e){e.trim&&(e=e.trim());var i=e.split("//");return i.length>1?(i[0]=t,i.join("//")):null}function v(t,e,i){return e&&e.trim&&e.replace?(e=e.trim(),"https:"==t.toLowerCase()&&(e=e.replace(/^http:/i,"https:")),a(i)&&(e=e.replace(/^\/\//,t+"//")),e):e}function g(t,e,i){var r;return r="c"==i?e.protocol+"//cdn1-m"+e.networkId+".algovid.tv":e.serverHost("mc"),-1!==t.indexOf("track.eyeviewads.com")&&(r=e.serverHost("m")),t.trim&&(t=t.trim()),r+"/vpr/"+encodeURIComponent(encodeURIComponent(t))+"/a.jsv"}Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptPath=r,e.getProtocol=n,e.isFileProtocol=a,e.useCredentials=s,e.getDetectedUrl=o,e.getHost=l,e.buildUrl=d,e.fileExtension=u,e.isStreamingUrl=c,e.getUrlVars=h,e.decodeURISafe=p,e.encodeURISafe=f,e.changeProtocol=A,e.upgradeProtocol=v,e.getVprUrl=g},function(t,e,i){"use strict";function r(t,e,i){var r={category:"fasttag",event:t.flashCallingVpaid?" vpaidfl":t.jsCallingVpaid?"vpaidjs":"player",label:e?"OK":"Failed",error:i};y.clientEvent(t,r,e?_:T)}function n(t,e,i){var r={category:"sound",event:"mute",error:i,url:e.mediaURL,vast:e.vastId};y.clientEvent(t,r,R)}function a(t,e,i,r){var n={category:"sound",event:i?"enabled":"rejected",error:r,url:e.mediaURL,vast:e.vastId};y.clientEvent(t,n,i?L:R)}function s(t,e,i){var r={category:"vpaidjs",event:"disappeared",error:"vpaidJS event called after destroy:"+i,url:e.mediaURL,vast:e.vastId};y.clientEvent(t,r,S)}function o(t,e){var i={category:"jsv",event:"init",loadable:!!t.JSV,videoSupported:t.hasVideoSupport,forced:e};y.clientEvent(t,i,w)}function l(t,e){if(t.info.mobile){var i={category:"jsv",event:"impression",usejsv:t.usejsv,label:e};y.clientEvent(t,i,I)}}function d(t,e,i,r){if(!t.usejsv&&t.info.mobile){var n={category:"autoplay",label:r,domain:t.domain,videoSrc:e.currentSrc};i&&i.then?i.then(function(){n.event="OK",y.clientEvent(t,n,P)},function(e){var i=e.name,r=e.message;n.error=i,n.message=r,n.event="AbortError"!==i?"Failed":"Aborted",y.clientEvent(t,n,"AbortError"!==i?O:V)}):(n.event="Unknown",y.clientEvent(t,n,D))}}function u(t,e,i){var r={category:"vasterror",event:i,url:e.vastURL,requestedUrl:e.requestedVastURL};y.clientEvent(t,r,C)}function c(t,e,i,r,n,a,s){var o=location||window.location||document.location||{protocol:null,origin:null,host:null,port:null},l={category:"httperror",reason:n,url:e.vastURL,requestedUrl:e.requestedVastURL,credentials:a,action:s?"terminate":"requery",mobile:t.info&&t.info.mobile,locProtocol:o.protocol,locOrigin:o.origin,locHost:o.host,locPort:o.port};r?(l.event=r,y.clientEvent(t,l,k)):(l.event=E.HttpError[i].toLowerCase(),y.clientEvent(t,l,x))}function h(t,e){var i={category:"xmlparse",error:e};y.clientEvent(t,i,N)}function p(t,e,i,r,n){var a={category:"vastwrapper",wrapperDepth:i,url:e.vastURL,requestedUrl:e.requestedVastURL,credentials:r};n?(a.event="error",a.reason=E.HttpError[n].toLowerCase()):a.event="success",i>0&&y.clientEvent(t,a,U)}function f(t,e,i){var r={category:"failedretries"};e?(r.event="vast-gpv",r.vastMaxRetries=e.maxFailedVastRetries/(i?2:1)):(r.event="players-gpv",r.playerMaxRetries=t.maxFailedVastRetries/(i?2:1)),y.clientEvent(t,r,M)}function A(t,e,i){var r={category:"pause",event:"pause",label:"string"==typeof i?i:i.adType,platform:t&&t.detect,adType:e&&e.adType,state:e&&e.state,vastId:e&&e.vastId,vastUrl:e&&e.vastURL,mediaUrl:e&&e.mediaURL};y.clientEvent(t,r,B)}function v(t,e,i){var r={category:"pause",event:"resume",label:"string"==typeof i?i:i.adType,platform:t&&t.detect,adType:e&&e.adType,state:e&&e.state,vastId:e&&e.vastId,vastUrl:e&&e.vastURL,mediaUrl:e&&e.mediaURL};y.clientEvent(t,r,F)}function g(t,e,i){var r={category:"requery",event:b.TerminateReason[i].toLowerCase(),url:e.vastURL};i!=b.TerminateReason.NO_VAST_TRACKER&&i!=b.TerminateReason.START_AD_ERROR||y.clientEvent(t,r,H)}function m(t,e){var i={category:"loadad",url:e.vastURL,longStart:e.longStartAd,adType:e.adType};y.clientEvent(t,i,J)}Object.defineProperty(e,"__esModule",{value:!0});var y=i(6),b=i(1),E=i(15),T=.1,_=.01;e.fastTagStatus=r;var R=.1,L=.01;e.vpaidVolumeError=n,e.vpaidVolumeChanged=a;var S=.01;e.vpaidJSDisappearedError=s;var w=.01,I=.005;e.jsvUsage=o,e.logImpression=l;var P=.01,D=.01,V=.01,O=.1;e.validateVideoStart=d;var C=1e-6;e.logVastError=u;var x=1e-5,k=.005;e.logHttpError=c;var N=.1;e.logParseXmlError=h;var U=.01;e.logVastWrapper=p;var M=1e-4;e.logMaxFailedRetries=f;var j=0;1===Math.floor(100*Math.random()+1)&&(j=1);var B=j,F=j;e.logPauseCall=A,e.logResumeCall=v;var H=.01;e.clientLogRequeryReason=g;var J=.01;e.clientLogLoadAdStopper=m},function(t,e,i){"use strict";function r(t,e){e.isPaused=!0,b.debugLog(t," pause - got playing playerData, vastId: "+e.vastId,!1);try{e.pauseAd()}catch(i){b.debugLog(t," pause gave exception on "+e.adType+" pause: "+i.message)}}function n(t,e){if(!t.paused&&(t.interactive||!("content"==e||e instanceof w.PlayerData))){var i=S.getPlayingPlayerData(t);e instanceof w.PlayerData&&e!==i||"content"==e&&i||(t.autoplay=!1,t.paused=!0,t.autoplayOverwrite=!0,b.debugLog(t," pause callback called",!1),N.logPauseCall(t,i,e),i?(i.isPaused=!0,e!==i&&r(t,i),i.longImpressionTimeout.cancel(),v(t,i,"adpause")):("content"!==e&&t.contentUrlPlayer&&t.contentUrlPlayer.isVisible()&&t.contentUrlPlayer.pauseContent(),b.debugLog(t," pause - no playing playerData",!1)),setTimeout(function(){v(t,null,"player.paused")},0),t.beingVpaid&&L.callingVpaidEvent(t,"jsAdPaused",{}))}}function a(t,e){if(t.paused||!t.autoplay){t.paused=!1,t.autoplay=!0,t.autoplayOverwrite=!0,b.debugLog(t," resume callback called",!1);var i=S.getPlayingPlayerData(t);if(N.logResumeCall(t,i,e),i){if(t.contentUrlPlayer&&t.contentUrlPlayer.isVisible()&&t.contentUrlPlayer.hideContent(),v(t,i,"adplay"),t.allowLongImpressions||i.longImpressionTimeout.rewind(),b.debugLog(t," resume - got playing playerData, vastId: "+i.vastId,!1),i.isPaused=!1,e!=i)try{i.resumeAd()}catch(e){b.debugLog(t," resume gave exception on "+i.adType+" resume: "+e.message)}}else b.debugLog(t," resume - no playing playerData",!1),"content"!=e&&(t.started?(t.contentUrlPlayer&&t.contentUrlPlayer.playContent(),R.playNext(t,!0)):t.mainAutoplay||(t.preRoll>0?(t.contentUrlPlayer&&t.contentUrlPlayer.unlock(),t.contentUrlPlayer&&t.contentUrlPlayer.showSpinner(),M.startPrerollTimeout(t)):t.contentUrlPlayer&&t.contentUrlPlayer.playContent(),R.unlockSlots(t),R.playNext(t,!0)));t.started?v(t,null,"player.resumed"):(t.started=!0,v(t,null,"player.started")),t.beingVpaid&&L.callingVpaidEvent(t,"jsAdPlaying",{})}}function s(t){v(t,null,"adplay"),t.autoplayOverwrite=!0,t.autoplay=!0,b.debugLog(t," play callback called",!1),R.playNext(t,!0),t.anyPlaying||(t.autoplay=!0)}function o(t){t.autoplay=!1,t.autoplayOverwrite=!0;var e=S.getPlayingPlayerData(t);return p(t,e),e}function l(t){t.frozen&&(t.autoplay=!0,t.autoplayOverwrite=!0,t.frozen=!1,V.gpvAnswer(t,t.vasts))}function d(t,e,i,r){if((t.width!=e||t.height!=i)&&(t.width=e,t.height=i,t.widthOverwrite=e,t.heightOverwrite=i,t.rootDivElem)){t.rootDivElem.style.width=e+"px",t.rootDivElem.style.height=i+"px";for(var n=0,a=t.plist.length;n<a;n++){var s=t.plist[n];s.flashElement&&(s.flashElement.width=e,s.flashElement.height=i);try{s.resizeAd&&s.resizeAd(e,i,r)}catch(e){b.debugLog(t," resizeAd gave exception on "+s.adType+" resize: "+e.message)}}}}function u(t,e,i){if(void 0===e&&(e=t.volume),void 0===i&&(i=0==e),!(t.volume==e&&t.muted==i||t.muted&&i)){e>0&&(t.dynamicSound=!0),t.volume=e,t.muted=i,t.contentUrlPlayer&&t.contentUrlPlayer.setVolume(t.volume,t.muted);for(var r=0,n=t.plist;r<n.length;r++){var a=n[r];try{a.syncVolume()}catch(e){b.debugLog(t," syncVolume gave exception on "+a.adType+" syncVolume: "+e.message)}}}}function c(t,e){v(t,null,"closed"),t.closed=!0,p(t),t.controls&&t.controls.destroy();var i=e?t.divElem:t.rootDivElem;i&&i.parentNode&&i.parentNode.removeChild(i)}function h(t){var e=S.getPlayingPlayerData(t);e?(t.beingVpaid&&(L.restoreCallingFlashObjectStyle(t,e),L.callingVpaidEvent(t,"jsAdComplete",{}),L.callingVpaidEvent(t,"jsAdStopped",{}),t.divElem.style.display="none"),T.finishPlayerData(t,e,E.TerminateReason.SKIP)):t.contentUrlPlayer&&t.contentUrlPlayer.nextVideo()&&t.contentUrlPlayer.showContent()}function p(t,e){if(b.debugLog(t,"freezing players",!1),t.frozen=!0,S.destroyAllPlayerDatas(t,e),v(t,null,"player.adspaused"),e)e.sameVastTimer.cancel(),b.debugLog(t,"leaving players objects for now",!1);else if(b.debugLog(t,"removing players objects",!1),null!=t.initialStartAd&&(clearTimeout(t.initialStartAd),t.initialStartAd=null),null!=t.domLoadTimeout&&(clearTimeout(t.domLoadTimeout),t.domLoadTimeout=null),null!=t.requeryGpvTimer&&(clearInterval(t.requeryGpvTimer),t.requeryGpvTimer=null),t.callingFlashObject)try{t.callingFlashObjectParent.removeChild(t.companionsRootDivElem),t.callingFlashObjectParent.removeChild(t.rootDivElem)}catch(e){b.debugLog(t,"removing root divs gave exception: "+e.message,!1)}}function f(t){var e=S.getPlayingPlayerData(t),i=t.paused||!t.mainAutoplay&&!t.started;return e?m({content:!1,paused:i},e.getProgress()):t.contentUrlPlayer?m({content:!0,paused:i},t.contentUrlPlayer.getProgress()):null}function A(t,e){var i={_pause:function(){n(t,"api")},_play:function(){a(t,"api")},_overrideInit:function(e){var i=e.data;if(!1===t.gpvConfLoaded)for(var r in i)i.hasOwnProperty(r)&&t.initOverrides.push({name:r,value:i[r]});else void 0!==i.allowSound&&t.allowSound!=i.allowSound&&u(t,i.allowSound?1:0,!i.allowSound),void 0!==i.contentUrl&&P._setContentUrls(t,i.contentUrl),void 0!==i.contentImage&&P._setContentImage(t,i.contentImage,i.contentImagePosition||"")},_setContentUrls:function(e){!1===t.gpvConfLoaded?t.initOverrides.push({name:"contentUrl",value:e.data.urls}):P._setContentUrls(t,e.data.urls,e.data.samePosition)},_setContentImage:function(e){!1===t.gpvConfLoaded?(t.initOverrides.push({name:"contentImage",value:e.data.url}),t.initOverrides.push({name:"contentImagePosition",value:e.data.pos})):P._setContentImage(t,e.data.url,e.data.pos)},_seekContent:function(e){!0===t.gpvConfLoaded&&P._seekContent(t,e.data)},_setContent:function(e){t.initOverrides.push({name:"content",value:e.data})},_setPausable:function(e){t.initOverrides.push({name:"pausable",value:e.data})},_sound:function(e){if(!1===t.gpvConfLoaded)t.initOverrides.push({name:"sound",value:e.data});else{var i=V.extractVolumeValue(e.data);null!=i&&(void 0===i.volume&&!1===i.muted&&(i.volume=t.volume||1),u(t,i.volume,i.muted))}},_resize:function(e){d(t,e.data.width,e.data.height,"normal")},_skip:function(){h(t)},_close:function(e){c(t,e.data.preserveDiv)},_pauseads:function(){o(t)},_resumeads:function(){l(t)},_show:function(){I.removeClass(t.rootDivElem,I.cssClass("hidden"))},_hide:function(){I.assignClass(t.rootDivElem,I.cssClass("hidden"))}};t.apiInterface=e.registerPlayer(t.divId,new _.PlayerInterface(t.playerVersion)),t.apiInterface.getProgress=function(){return f(t)},t.initOverrides=[];for(var r in i)i.hasOwnProperty(r)&&t.apiInterface.on(r,i[r]);if("function"==typeof t.apiInterface.init)try{var s=t.apiInterface.init(t.divId,{playerEvents:t.playerEvents});if(s&&"function"==typeof s.then)return s}catch(e){b.debugLog(t,"Init API gave exception: "+e.message,!1)}return y.Promise.resolve()}function v(t,e,i,r){var n={playerId:t.playerId,subid:t.subid};e&&(n.vastId=e.cxvid||e.vastId,D.assignWhen(D.NotNull,n,e.customVars)),D.assignWhen(D.NotNull,n,r),t.moat&&e&&j.dispatchMoatEvent(t,e,i),U.updateControlBar(t);try{t.apiInterface.trigger(i,n)}catch(t){}}function g(t,e,i,r){if(void 0===r&&(r=!1),!e.skipVastTracker&&e.vastTracker?e.vastTracker.click():e.skipVastTracker||k.vastError(t,e.vastId,k.VAST_ERROR.JS_EXCEPTION,"no vastTracker for click",null,e,!1,!1,"vastTracker error"),i=i||e.adClickUrl,b.debugLogVast(t,e,"adClick url:"+i,!1),v(t,e,"click",{url:i}),x.triggerBeacon(t,e,"adclick",{clickUrl:i}),C.logVastEvent(t,O.CEDATO_EVENT.E_CLICK,e,{url:i}),t.beingVpaid&&L.callingVpaidEvent(t,"jsAdClickthrough",{url:i}),r)return void b.debugLogVast(t,e,e.adType+" - external handling of the click through",!1);i&&"string"==typeof i&&window.open(i,"_blank")}var m=this&&this.__assign||Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};Object.defineProperty(e,"__esModule",{value:!0});var y=i(10),b=i(0),E=i(1),T=i(8),_=i(35),R=i(13),L=i(12),S=i(9),w=i(17),I=i(19),P=i(23),D=i(16),V=i(36),O=i(6),C=i(11),x=i(20),k=i(2),N=i(4),U=i(38),M=i(37),j=i(64);e.pausePlayer=r,e.pausePlayingPlayer=n,e.resumePlayingPlayer=a,e.playPlayingPlayer=s,e.playerPauseAds=o,e.playerResumeAds=l,e.resizePlayer=d,e.setPlayerVolume=u,e.collapsePlayer=c,e.skipVideo=h,e.freezePlayers=p,e.getProgress=f,e.setupAPI=A,e.notifyApi=v,e.adClick=g},function(t,e,i){"use strict";function r(t){T=t}function n(t,e,i){for(var r=0,n=t.length;r<n;r++)if(void 0!==e[t[r]]&&null!==e[t[r]])switch(t[r]){case"flashSupport":i[t[r]]=e[t[r]]?"1":"0";break;default:i[t[r]]=e[t[r]]}}function a(t,e,i,r){n(t,e,r),n(t,i,r)}function s(t){var e={};for(var i in t)t.hasOwnProperty(i)&&void 0!==w[i]&&"function"!=typeof w[i]&&(e[w[i]]=t[i]);return e}function o(t,e){for(var i in e)e.hasOwnProperty(i)&&null!=w[i]&&"function"!=typeof w[i]&&t.push([i,String(e[i])].join("="))}function l(t,e,i,r){if(e&&A[e]){var n=b[e];n&&n.url&&!n.exclude&&d(t,e,n,i,r),t.playerEvents&&t.playerEvents.emit(A[e],t,i,r)}}function d(t,e,i,r,n){var s=i.url,l=i.immediate,d=i.server;try{var c=l,p=t||{},r=r||{},n=n||{},f=[];o(f,p),o(f,r),o(f,n),v.debugLog(t,"logEvent:"+A[e]+" "+s+"?"+f.join("&"),!1);var g=((new Date).getTime()-t.startTime)/1e3,m=s.substring(s.lastIndexOf("/")+1),y={name:m,common:{},extra:{}};switch(a(V,p,{},y.common),y.common.timeFromStart=g.toFixed(1),e){case A.E_REQUEST:a(I.concat(P),r,n,y.extra);break;case A.E_LOADED:a(["memUsed","time","vastType","actualVastType"].concat(I,P),r,n,y.extra),c=c||null!=r&&null!=r.chosenVastId;break;case A.E_MIDS:a(["duration","quartile"].concat(I,P),r,n,y.extra);break;case A.E_END:a(["duration"].concat(I,P),r,n,y.extra);break;case A.E_CLICK:a(I.concat(P),r,n,y.extra);break;case A.E_ADSTART:a(["time","roundNo","gpvOrdNo","vastType","actualVastType","retryTestGroup","cookie","widthDetected","heightDetected"].concat(I,P),r,n,y.extra);break;case A.E_ADSTART_WO_IMPRESSION:a(I.concat(P),r,n,y.extra);break;case A.E_VAST_ERROR:a(["errorCode","errorMessage","mediaURL","logStartRequest","logLoadRequest","time"].concat(I,P),r,n,y.extra);break;case A.E_START:case A.E_SERVED_AND_START:a(["playerId"],p,n,y.extra);break;case A.E_SCHEDULED:a(["playerId","fpwReadyTime","gpvTime","domReadyTime","gpvM","gpvAttempt"],p,n,y.extra),y.extra.time=g.toFixed(1);break;case A.E_DETECTED:a(["playerId","widthDetected","heightDetected"],p,n,y.extra);break;case A.E_ADPLAYED:a(["playerId","gpvOrdNo"],p,n,y.extra),y.extra.time=g.toFixed(1);break;case A.E_VPWS:a(["playerId"],p,n,y.extra),a(["time","state","time2"],r,n,y.extra);break;case A.E_CONTENT_CLICK:a(["playerId"],p,n,y.extra);break;case A.E_PLAYER_ERROR:a(["playerId"],p,n,y.extra),a(["errorCode","errorMessage"],r,n,y.extra)}var b=t.serverHost(d)+s.substring(0,s.lastIndexOf("/"));if(void 0===E[b]){var _={flushTimerId:null,events:[]};E[b]=_}0==E[b].events.length&&(E[b].flushTimerId=function(e){return setTimeout(function(){return u(t,e)},T)}(b)),E[b].events.push(y),c&&(u(t,b),L>0&&h(t))}catch(t){}}function u(t,e){if(e){var i=E[e].events;if(i.length)if(1==i.length)try{var r=i[0],n=[e,"/",r.name,"?"].join(""),a=m.extend(r.common,r.extra),o=s(a),l=g.buildUrl(n,o);t.sendPixel(l)}catch(t){}else try{for(var d={base:[e,"/multiple-events?"].join(""),common:{},eventsList:[],eventsData:[]},c=0,h=i.length;c<h;c++){var p={},r=i[c];if(0==c)d.common=r.common;else for(var f in r.common)r.common.hasOwnProperty(f)&&r.common[f]!=d.common[f]&&(p[f]=r.common[f]);for(var f in r.extra)r.extra.hasOwnProperty(f)&&(p[f]=r.extra[f]);d.eventsList.push(r.name),d.eventsData.push(s(p))}for(var A=d.eventsList.join(","),v=[],c=0;c<d.eventsData.length;c++){var y=d.eventsData[c],b=[];for(var T in y)y.hasOwnProperty(T)&&b.push([T,y[T]].join(":"));v.push(b.join(","))}var _=v.join("|"),l=g.buildUrl(d.base,m.extend({events:A,data:_},s(d.common)));t.sendPixel(l)}catch(t){}E[e].events=[],clearTimeout(E[e].flushTimerId)}else for(var R in E)E.hasOwnProperty(R)&&u(t,R)}function c(t,e,i){try{L>=_?h(t):0==L&&(S=setTimeout(function(){return h(t)},T)),null==R[e]&&(R[e]={}),null==R[e][i]&&(R[e][i]=0,L+=1),R[e][i]+=1}catch(t){}}function h(t){try{var e=b[A.E_ACTUAL_REQUEST],i={};a(D,t,{},i);var r=s(i),n=1;for(var o in R)if(R.hasOwnProperty(o))for(var l in R[o])if(R[o].hasOwnProperty(l)){var d=R[o][l];d>0&&(r["p"+n]=o,r["v"+n]=l,1!=d&&(r["c"+n]=d),n++)}var u=g.buildUrl(t.serverHost(e.server)+e.url,r);t.sendPixel(u),clearTimeout(S),L=0,R={}}catch(t){}}function p(t,e,i,r){r&&(i+=v.errFullDetails(r)),l(t,A.E_PLAYER_ERROR,{errorCode:e,errorMessage:i},{}),v.debugLog(t,"errorCode "+e+" - "+i,!1),3!=e||t.keepDebugLog||t.debugLogSubmittedDueToException||!t.submitDebugLogOnPlayerError||v.submitFullDebugLog(t,{debugLogReason:"player error",debugLogSubmittedDueToException:!0})}function f(t,e,i){if(void 0===i&&(i=1),y&&-1!=O.indexOf(e.category)&&!(Math.random()>i)){e.count=Math.round((e.count||1)/i);try{var r=b[A.E_CLIENT_EVENT],n={p:t.playerId,pv:t.playerVersion};t.appParams&&t.appParams.appn&&(n.appn=t.appParams.appn);var a=g.buildUrl(t.serverHost(r.server)+r.url,m.extend(n,e));t.sendPixel(a),v.debugLog(t,"client event:"+a,!0)}catch(t){}}}Object.defineProperty(e,"__esModule",{value:!0});var A,v=i(0),g=i(3),m=i(7);!function(t){t[t.E_REQUEST=1]="E_REQUEST",t[t.E_LOADED=2]="E_LOADED",t[t.E_MIDS=3]="E_MIDS",t[t.E_END=4]="E_END",t[t.E_ADSTART=5]="E_ADSTART",t[t.E_ADSTART_WO_IMPRESSION=6]="E_ADSTART_WO_IMPRESSION",t[t.E_CLICK=7]="E_CLICK",t[t.E_VAST_ERROR=8]="E_VAST_ERROR",t[t.E_ACTUAL_REQUEST=9]="E_ACTUAL_REQUEST",t[t.E_START=10]="E_START",t[t.E_SERVED_AND_START=11]="E_SERVED_AND_START",t[t.E_VPWS=12]="E_VPWS",t[t.E_CONTENT_CLICK=13]="E_CONTENT_CLICK",t[t.E_ADPLAYED=14]="E_ADPLAYED",t[t.E_SCHEDULED=15]="E_SCHEDULED",t[t.E_DETECTED=16]="E_DETECTED",t[t.E_PLAYER_ERROR=17]="E_PLAYER_ERROR",t[t.E_SUBMIT_DEBUG_LOG=18]="E_SUBMIT_DEBUG_LOG",t[t.E_CLIENT_EVENT=19]="E_CLIENT_EVENT"}(A=e.CEDATO_EVENT||(e.CEDATO_EVENT={}));!function(t){t[t.Video=0]="Video",t[t.FlashVpaid=1]="FlashVpaid",t[t.ImaFlash=2]="ImaFlash",t[t.JsVpaid=3]="JsVpaid",t[t.ImaJs=4]="ImaJs",t[t.FlashJsVpaid=5]="FlashJsVpaid",t[t.Spotx=6]="Spotx"}(e.VastType||(e.VastType={}));var y=!1,b=(C={},C[A.E_REQUEST]={url:"/vpx/requesti"},C[A.E_LOADED]={url:"/vpx/loadedi"},C[A.E_MIDS]={url:"/vpx/midsi"},C[A.E_END]={url:"/vpx/endi",immediate:!0},C[A.E_ADSTART]={url:"/vpx/starti",immediate:!0},C[A.E_ADSTART_WO_IMPRESSION]={url:null,immediate:!0},C[A.E_CLICK]={url:"/vpx/click",immediate:!0},C[A.E_VAST_ERROR]={url:"/vpx/errori",immediate:!1},C[A.E_ACTUAL_REQUEST]={exclude:!0,server:"a",url:"/areq",immediate:!1},C[A.E_START]={url:"/ppx/starti",immediate:!0},C[A.E_SERVED_AND_START]={url:"/ppx/served_and_starti",immediate:!0},C[A.E_VPWS]={url:"/ppx/vpwsi",immediate:!0},C[A.E_ADPLAYED]={url:"/ppx/adplayedi",immediate:!0},C[A.E_SCHEDULED]={url:"/ppx/scheduledi",immediate:!0},C[A.E_DETECTED]={url:null,immediate:!0},C[A.E_PLAYER_ERROR]={url:"/ppx/errori",immediate:!0},C[A.E_CONTENT_CLICK]={url:null,immediate:!0},C[A.E_SUBMIT_DEBUG_LOG]={exclude:!0,url:"sdl",immediate:!1},C[A.E_CLIENT_EVENT]={exclude:!0,url:"/lpx/v1",immediate:!1},C),E={},T=1e4;e.setEventThrottleTime=r;var _=15,R={},L=0,S=null,w={subid:"sid",domain:"domain",domainDetected:"dd",widthDetected:"wd",heightDetected:"hd",sessionId:"se",playerVersion:"pv",timeFromStart:"s",flashSupport:"f",detect:"sa",vastId:"v",playerId:"p",demandId:"dmid",memUsed:"m",time:"t",time2:"t2",duration:"d",quartile:"qd",gpvTime:"gt",fpwReadyTime:"ft",domReadyTime:"dt",gpvM:"gm",roundNo:"r",gpvOrdNo:"gpvn",totalMemS:"tm",vastType:"y",actualVastType:"yy",state:"st",gpvAttempt:"ga",errorCode:"en",errorMessage:"em",mediaURL:"mu",logStartRequest:"ls",logLoadRequest:"lr",cedatoxPlayerId:"cxp",cedatoxVastId:"cxv",chosenVastId:"cv",parentPlayerId:"pp",retryTestGroup:"rtg",gpvCookie:"gpvck",cookie:"ck"},I=["playerId","vastId","demandId"],P=["cedatoxPlayerId","cedatoxVastId","chosenVastId","parentPlayerId"],D=["subid","domain","sessionId","playerVersion","domainDetected","gpvCookie","detect"],V=D.concat(["timeFromStart","flashSupport"]);e.logEvent=l,e.logActualRequest=c,e.playerError=p;var O=["loadad"];e.clientEvent=f;var C},function(module,exports,__webpack_require__){"use strict";function isString(t){return"[object String]"===Object.prototype.toString.call(t)}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function ensureArray(t){return isArray(t)?t.slice():t?[t]:[]}function isNumeric(t){return!isNaN(parseFloat(t))&&isFinite(t)}function extend(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function hashCode(t){var e,i,r,n=0;if(0===t.length)return n;for(e=0,r=t.length;e<r;e++)i=t.charCodeAt(e),n=(n<<5)-n+i,n|=0;return Math.abs(n)}function json_decode(str){return JSON&&JSON.parse?JSON.parse(str):eval("("+str+")")}function getFixedAgoTime(t){return(((new Date).getTime()-t)/1e3).toFixed(1)}function injectScript(t,e){try{var i=document.createElement("script"),r=document.getElementsByTagName("head")[0]||document.documentElement;i.setAttribute("type","text/javascript"),e&&(i.async=!0),i.src=t,r.appendChild(i)}catch(t){}}function injectScriptOnce(t,e,i){var r,n=document.getElementsByTagName("head")[0]||document.documentElement;document.getElementById(t)||(r=document.createElement("script"),r.setAttribute("type","text/javascript"),r.id=t,r.onload=i,r.src=e(),n.appendChild(r))}function injectScriptSDK(t,e,i,r){void 0===r&&(r=!1);var n=document.getElementsByTagName("head")[0]||document.documentElement;if(!r||(scripts.onLoadedFuncs[t]=scripts.onLoadedFuncs[t]||[],i&&scripts.onLoadedFuncs[t].push(i),!document.getElementById(t))){var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.id=t,a.onload=function(){if(r)for(;scripts.onLoadedFuncs[t].length;)scripts.onLoadedFuncs[t].shift()();else i()},a.src=e(),n.appendChild(a)}}function stringifyObject(t){try{return JSON.stringify(t).replace(/[\"\{\}]/g,"").replace(/\,/g,", ").replace(/\:/g,": ")}catch(t){}return null}function shuffleArray(t){if(t.length>1)for(var e=t.length-1;e>=0;e--){var i=Math.floor(Math.random()*(e+1)),r=t[i];t[i]=t[e],t[e]=r}return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isString=isString,exports.isArray=isArray,exports.ensureArray=ensureArray,exports.isNumeric=isNumeric,exports.extend=extend,exports.hashCode=hashCode,exports.json_decode=json_decode,exports.getFixedAgoTime=getFixedAgoTime,exports.injectScript=injectScript,exports.injectScriptOnce=injectScriptOnce;var scripts={onLoadedFuncs:[]};exports.injectScriptSDK=injectScriptSDK,exports.stringifyObject=stringifyObject,exports.shuffleArray=shuffleArray},function(t,e,i){"use strict";function r(t,e){for(var i=0,r=t.plist.length;i<r;i++)if(t.plist[i]!=e&&t.plist[i].state==l.PlayerDataState.Playing)return!0;return!1}function n(t,e,i,r,n){void 0===i&&(i=l.TerminateReason.UNKNOWN_ERROR);var a="finish reason - "+l.TerminateReason[i].toLowerCase().replace(/_/g," ");a+=(r?", errorCode: "+r:"")+(n?", errorMessage: "+n:""),d.debugLogVast(t,e,a,!1)}function a(t,e,i,a,d){return void 0===i&&(i=l.TerminateReason.UNKNOWN_ERROR),"function"==typeof t.finishPlayerData?t.finishPlayerData(e,i,a,d):(n(t,e,i,a,d),e.vpaidPlaying=!1,t.anyPlaying=t.anyPlaying&&r(t,e),u.hideAdvertising(t,e),i==l.TerminateReason.AD_COMPLETE&&t.readyForStartAd&&h.resetReadyForStartAd(t),0==t.currentGroup?(u.destroyPlayerData(t,e),void c.addRemainingVasts(t,t.remainingVasts)):c.isCold(t,e,"FinishPlayerData")?(u.destroyPlayerData(t,e),void h.playNext(t)):s(e,i)?(i==l.TerminateReason.AD_COMPLETE&&e.sameVastTimer.trigger(),u.destroyPlayerData(t,e),void h.playNext(t)):void o(t,e,e.getRequeryFrequency()))}function s(t,e){for(var i=f,r=0,n=A;r<n.length;r++){var a=n[r];if(a.reasons.indexOf(e)>=0){i=a.action;break}}return!!i.terminate||(i.error&&i.error>=1&&(t.state=l.PlayerDataState.Error,t.errorCount=t.errorCount+i.error),i.maxRetries&&(t.maxFailedVastRetries=Math.min(i.maxRetries,t.maxFailedVastRetries)),!1)}function o(t,e,i){return t.getPlayerDataByUniq(e.uniqId)?null!=e.requeryTimeout?void d.debugLogVast(t,e,"requery vast already scheduled - ignoring",!1):(d.debugLogVast(t,e,"requeryAd: start",!1),e.loadAdTimeout.cancel(),e.startAdHalfTimeout.cancel(),e.startAdTimeout.cancel(),e.longImpressionTimeout.cancel(),null!=e.initAdThrottler&&(clearInterval(e.initAdThrottler),e.initAdThrottler=null),u.clearPlayerData(t,e),d.debugLogVast(t,e,"scheduling requery vast",!1),void(e.requeryTimeout=setTimeout(function(){e.requeryTimeout=null,d.debugLogVast(t,e,"requery",!1),c.allocateAndFetchPlayerVast(t,e)},i))):void d.debugLogVast(t,e,"requery vast removed from plist - ignoring",!1)}Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),d=i(0),u=i(9),c=i(2),h=i(13),p=l.TerminateReason,f={error:1},A=[{action:{terminate:!0},reasons:[p.SKIP,p.AD_COMPLETE,p.NO_SUITABLE_MEDIA,p.NO_VALID_CREATIVES,p.NON_LINEAR,p.LONG_IMPRESSION,p.VPAID_VOLUME_VIOLIATION,p.VIDEO_ERROR,p.VPAID_ERROR_READY,p.START_AD_ERROR,p.HTTP_ERROR_TERMINATE,p.IS_BLOCKED,p.LOAD_AD_TIMEOUT]},{action:{error:0},reasons:[p.DOUBLE_PARALLEL_STARTED,p.PARALLEL_STARTED]},{action:{error:100},reasons:[p.START_AD_TIMEOUT]},{action:{error:105,maxRetries:3},reasons:[p.ONLY_FLASH_BUT_NOT_SUPPORTED]}];e.anyOtherPlaying=r,e.finishPlayerData=a},function(t,e,i){"use strict";function r(t,e){if(Object.setPrototypeOf)Object.setPrototypeOf(t,e);else if({__proto__:[]}instanceof Array)t.__proto__=e;else for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}function n(t,e){if(!e.viewable){e.viewable=!0,t.started||t.paused||(t.started=!0,b.notifyApi(t,null,"player.started"));try{e.showAd()}catch(i){f.debugLogVast(t,e,"showAd gave exception of "+e.adType+" : "+i.message,!1)}t.contentUrlPlayer&&!t.paused&&t.contentUrlPlayer.hideContent()}}function a(t,e){y.restoreCallingFlashObjectStyle(t,e),u(t,e),t.anyPlaying||S.showContent(t)}function s(t){for(var e=0,i=t.plist.length;e<i;e++)if(t.plist[e].state==A.PlayerDataState.Playing)return t.plist[e];return null}function o(t,e){e.adContainersReady=t.domReady.then(function(){t.flashSupport&&g.createFlashElement(t,e),t.mainAutoplay||(e.adVideo=v.createVideoElement(t),e.adContainer=p(e.vastId),e.adContainer.appendChild(e.adVideo),t.divElem.appendChild(e.adContainer))})}function l(t,e){try{e.stopAd&&e.stopAd()}catch(i){f.debugLogVast(t,e,"parallel stopAd of "+e.adType+" gave exception: "+i.message,!1)}}function d(t,e){try{e.clearAd&&e.clearAd()}catch(i){f.debugLog(t,"clearAd gave exception on "+e.adType+": "+i.message,!1)}t.flashSupport&&g.destroyPlayerDataFlash(t,e)}function u(t,e){e.viewable=!1;try{e.hideAd&&e.hideAd()}catch(i){f.debugLogVast(t,e,"hideAd gave exception of "+e.adType+" : "+i.message,!1)}e.flashElementDiv&&!t.singleVPW&&(e.flashElementDiv.style.zIndex=(-1-e.uniqId).toString())}function c(t,e){try{if(f.debugLogVast(t,e,"destroying player data",!1),-1===t.plist.indexOf(e)||e.state==A.PlayerDataState.Finished)return!1;e.state=A.PlayerDataState.Finished,null!=e.requeryTimeout&&(clearInterval(e.requeryTimeout),e.requeryTimeout=null),e.loadAdTimeout.cancel(),e.startAdHalfTimeout.cancel(),e.startAdTimeout.cancel(),e.sameVastTimer.cancel(),e.longImpressionTimeout.cancel(),null!=e.initAdThrottler&&(clearInterval(e.initAdThrottler),e.initAdThrottler=null),setTimeout(function(){-1!==t.plist.indexOf(e)&&t.plist.splice(t.plist.indexOf(e),1);try{d(t,e),e.companionsElementDiv&&(e.companionsElementDiv.parentNode.removeChild(e.companionsElementDiv),e.companionsElementDiv.innerHTML="",e.companionsElementDiv=null)}catch(e){f.debugLog(t,"remove companions div gave exception: "+e.message,!1)}},1e3)}catch(i){m.vastError(t,e&&e.vastId,m.VAST_ERROR.JS_EXCEPTION,"destroy player data exception: "+i.message,i,e,!1,!1,"destroy player")}}function h(t,e){e?f.debugLog(t,"destroying all players except for vastId "+e.vastId,!1):f.debugLog(t,"destroying all players",!1);for(var i=0;i<t.plist.length;i++)t.plist[i]!==e&&c(t,t.plist[i])}function p(t){var e=document.createElement("div");return e.style.zIndex="0",e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.margin="0",e.style.padding="0",e.style.backgroundColor="#000",e.style.overflow="hidden",e.id="__cedato_ad_container_"+t+"_"+Math.floor(5e3*Math.random()),e}Object.defineProperty(e,"__esModule",{value:!0});var f=i(0),A=i(1),v=i(26),g=i(31),m=i(2),y=i(12),b=i(5),E=i(22),T=i(34),_=i(51),R=i(53),L=i(32),S=i(23);e.setPrototype=r,e.adTypesProto={video:R.PlayerDataVideo.prototype,flvpaid:g.PlayerDataVpaidFlash.prototype,jsvpaid:_.PlayerDataVpaidJs.prototype,jsima:T.PlayerDataGoogleIMA.prototype,spotx:L.PlayerDataSpotx.prototype,vast:E.PlayerDataVast.prototype},e.showAdvertising=n,e.hideAdvertising=a,e.getPlayingPlayerData=s,e.prepareAdContainers=o,e.stopPlayerData=l,e.clearPlayerData=d,e.hidePlayerData=u,e.destroyPlayerData=c,e.destroyAllPlayerDatas=h,e.createAdContainer=p},function(t,e,i){(function(e,r){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */
!function(e,i){t.exports=i()}(0,function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function n(t){return"function"==typeof t}function a(t){W=t}function s(t){G=t}function o(){return void 0!==q?function(){q(d)}:l()}function l(){var t=setTimeout;return function(){return t(d,1)}}function d(){for(var t=0;t<J;t+=2){(0,Z[t])(Z[t+1]),Z[t]=void 0,Z[t+1]=void 0}J=0}function u(t,e){var i=arguments,r=this,n=new this.constructor(h);void 0===n[tt]&&V(n);var a=r._state;return a?function(){var t=i[a-1];G(function(){return I(a,n,t,r._result)})}():R(r,n,t,e),n}function c(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var i=new e(h);return b(i,t),i}function h(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function A(t){try{return t.then}catch(t){return nt.error=t,nt}}function v(t,e,i,r){try{t.call(e,i,r)}catch(t){return t}}function g(t,e,i){G(function(t){var r=!1,n=v(i,e,function(i){r||(r=!0,e!==i?b(t,i):T(t,i))},function(e){r||(r=!0,_(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&n&&(r=!0,_(t,n))},t)}function m(t,e){e._state===it?T(t,e._result):e._state===rt?_(t,e._result):R(e,void 0,function(e){return b(t,e)},function(e){return _(t,e)})}function y(t,e,i){e.constructor===t.constructor&&i===u&&e.constructor.resolve===c?m(t,e):i===nt?(_(t,nt.error),nt.error=null):void 0===i?T(t,e):n(i)?g(t,e,i):T(t,e)}function b(e,i){e===i?_(e,p()):t(i)?y(e,i,A(i)):T(e,i)}function E(t){t._onerror&&t._onerror(t._result),L(t)}function T(t,e){t._state===et&&(t._result=e,t._state=it,0!==t._subscribers.length&&G(L,t))}function _(t,e){t._state===et&&(t._state=rt,t._result=e,G(E,t))}function R(t,e,i,r){var n=t._subscribers,a=n.length;t._onerror=null,n[a]=e,n[a+it]=i,n[a+rt]=r,0===a&&t._state&&G(L,t)}function L(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var r=void 0,n=void 0,a=t._result,s=0;s<e.length;s+=3)r=e[s],n=e[s+i],r?I(i,r,n,a):n(a);t._subscribers.length=0}}function S(){this.error=null}function w(t,e){try{return t(e)}catch(t){return at.error=t,at}}function I(t,e,i,r){var a=n(i),s=void 0,o=void 0,l=void 0,d=void 0;if(a){if(s=w(i,r),s===at?(d=!0,o=s.error,s.error=null):l=!0,e===s)return void _(e,f())}else s=r,l=!0;e._state!==et||(a&&l?b(e,s):d?_(e,o):t===it?T(e,s):t===rt&&_(e,s))}function P(t,e){try{e(function(e){b(t,e)},function(e){_(t,e)})}catch(e){_(t,e)}}function D(){return st++}function V(t){t[tt]=st++,t._state=void 0,t._result=void 0,t._subscribers=[]}function O(t,e){this._instanceConstructor=t,this.promise=new t(h),this.promise[tt]||V(this.promise),H(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&T(this.promise,this._result))):_(this.promise,C())}function C(){return new Error("Array Methods must be provided an Array")}function x(t){return new O(this,t).promise}function k(t){var e=this;return new e(H(t)?function(i,r){for(var n=t.length,a=0;a<n;a++)e.resolve(t[a]).then(i,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function N(t){var e=this,i=new e(h);return _(i,t),i}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(t){this[tt]=D(),this._result=this._state=void 0,this._subscribers=[],h!==t&&("function"!=typeof t&&U(),this instanceof j?P(this,t):M())}function B(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=j}var F=void 0;F=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var H=F,J=0,q=void 0,W=void 0,G=function(t,e){Z[J]=t,Z[J+1]=e,2===(J+=2)&&(W?W(d):$())},z="undefined"!=typeof window?window:void 0,Q=z||{},X=Q.MutationObserver||Q.WebKitMutationObserver,K="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),Y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),$=void 0;$=K?function(){return function(){return e.nextTick(d)}}():X?function(){var t=0,e=new X(d),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}():Y?function(){var t=new MessageChannel;return t.port1.onmessage=d,function(){return t.port2.postMessage(0)}}():void 0===z?function(){try{var t=i(43);return q=t.runOnLoop||t.runOnContext,o()}catch(t){return l()}}():l();var tt=Math.random().toString(36).substring(16),et=void 0,it=1,rt=2,nt=new S,at=new S,st=0;return O.prototype._enumerate=function(t){for(var e=0;this._state===et&&e<t.length;e++)this._eachEntry(t[e],e)},O.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,r=i.resolve;if(r===c){var n=A(t);if(n===u&&t._state!==et)this._settledAt(t._state,e,t._result);else if("function"!=typeof n)this._remaining--,this._result[e]=t;else if(i===j){var a=new i(h);y(a,t,n),this._willSettleAt(a,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},O.prototype._settledAt=function(t,e,i){var r=this.promise;r._state===et&&(this._remaining--,t===rt?_(r,i):this._result[e]=i),0===this._remaining&&T(r,this._result)},O.prototype._willSettleAt=function(t,e){var i=this;R(t,void 0,function(t){return i._settledAt(it,e,t)},function(t){return i._settledAt(rt,e,t)})},j.all=x,j.race=k,j.resolve=c,j.reject=N,j._setScheduler=a,j._setAsap=s,j._asap=G,j.prototype={constructor:j,then:u,catch:function(t){return this.then(null,t)}},j.polyfill=B,j.Promise=j,j})}).call(e,i(41),i(42))},function(t,e,i){"use strict";function r(t){return null!=t.cxpid&&null!=t.cxvid}function n(t){return t.isIMA?"jsima"==t.adType?c.VastType.ImaJs:c.VastType.ImaFlash:"spotx"==t.adType?c.VastType.Spotx:"flvpaid"==t.adType?c.VastType.FlashVpaid:"jsvpaid"==t.adType?c.VastType.JsVpaid:c.VastType.Video}function a(t){return t.hasFlashVPAID&&t.hasJSVPAID?c.VastType.FlashJsVpaid:n(t)}function s(t,e){u(t,c.CEDATO_EVENT.E_REQUEST,e,{})}function o(t,e,i){if(!(i<=0)){var r=((e.duration||0)/4).toFixed(2);e.quartile&&e.quartile==i-1||o(t,e,i-1),e.quartile=i,u(t,i==f.Quartiles.COMPLETE?c.CEDATO_EVENT.E_END:c.CEDATO_EVENT.E_MIDS,e,{quartile:i,duration:r})}}function l(t,e){c.logActualRequest(t,e.playerId,e.vastId),r(e)&&c.logActualRequest(t,e.cxpid,e.cxvid),null!=e.allocatedQuotaReq&&(e.allocatedQuotaReq-=1)}function d(t,e,i){(void 0===i||i<0)&&(i=null);var s=(((new Date).getTime()-e.loadAdTime)/1e3).toFixed(1);u(t,c.CEDATO_EVENT.E_LOADED,e,{time:s,memUsed:i,vastType:a(e),actualVastType:n(e)}),r(e)&&c.logEvent(t,c.CEDATO_EVENT.E_SERVED_AND_START,{},{playerId:e.playerId})}function u(t,e,i,n){r(i)?(i.cedatoxPlayerId=null,i.cedatoxVastId=i.cxvid,i.chosenVastId=null,i.parentPlayerId=i.cxpid,c.logEvent(t,e,i,n),i.cedatoxPlayerId=i.playerId,i.cedatoxVastId=null,i.chosenVastId=i.vastId,i.parentPlayerId=null,p.extend(n,{playerId:i.cxpid,vastId:i.cxvid}),c.logEvent(t,e,i,n)):c.logEvent(t,e,i,n)}Object.defineProperty(e,"__esModule",{value:!0});var c=i(6),h=i(6);e.CEDATO_EVENT=h.CEDATO_EVENT;var p=i(7),f=i(2);e.isCedatox=r,e.reportingActualVastType=n,e.reportingVastType=a,e.logVastRequest=s,e.logVastProgress=o,e.logVastActualRequest=l,e.logVastLoaded=d,e.logVastEvent=u},function(t,e,i){"use strict";function r(t){return-1!=navigator.appName.indexOf("Microsoft")?window[t]:document[t]}function n(t){var e=null;if(t.flashCallingVpaid){if(u.debugLog(t,"prepare calling flash object",!1),null==(e=r(t.flashCallingVpaid))){for(var i=document.getElementsByTagName("object"),n=0,a=i.length;n<a;n++)if(i[n].connectToJSPlayer){e=i[n];break}if(null==e)for(var s=document.getElementsByTagName("embed"),n=0,a=s.length;n<a;n++)if(s[n].connectToJSPlayer){e=s[n];break}}else u.debugLog(t,"got connceting clash object from prms",!1);if(null==e)return u.debugLog(t,"could not identify calling object",!1),!1;if(!e.connectToJSPlayer)return u.debugLog(t,"flash connect callback not found",!1),!1;t.allowLongImpressions=!0,t.callingFlashObject=e}else if(t.jsCallingVpaid){var o=window;if(!o[t.jsCallingVpaid]||!o[t.jsCallingVpaid].pEvent)return c.playerError(t,6,"vpaid parent not found in post calling js obj: "+t.jsCallingVpaid),!1;t.callingJSVpaid=o[t.jsCallingVpaid]}return h.FlashInterface.globalInit(t.flashCallingVpaid),t.callingFlashObject&&(t.callingFlashInterface=new h.FlashInterface(t.flashCallingVpaid),t.callingFlashInterface.reverseConnect(t.callingFlashObject,"connectToJSPlayer")),!0}function a(t){if(t.beingVpaid){u.debugLog(t,"post prepare js callbacks",!1);var e;t.callingFlashObject?e=t.callingFlashInterface.emitter():t.jsCallingVpaid&&(e=new d.EventEmitter2),e.on("debugLog",function(e){var i=e.line,r=e.detailed;u.debugLog(t,"flash: "+i,r)}),e.on("inPlayAd",function(){return setTimeout(function(){p.playPlayingPlayer(t)},0)}),e.on("inStopAd",function(){return setTimeout(function(){t.autoplay=!1,t.autoplayOverwrite=!0,u.debugLog(t,"vp stop callback called",!1),p.freezePlayers(t),s(t,"jsAdStopped",{})},0)}),e.on("inPauseAd",function(){return setTimeout(function(){t.autoplay=!1,t.autoplayOverwrite=!0,u.debugLog(t,"vp pause callback called",!1),p.pausePlayingPlayer(t,"vpaidplayer")},0)}),e.on("inResumeAd",function(){return setTimeout(function(){u.debugLog(t,"vp resume callback called",!1),p.resumePlayingPlayer(t,"vpaidplayer")},0)}),e.on("inSetAdVolume",function(e){return setTimeout(function(){u.debugLog(t,"vp set volume callback called",!1),p.setPlayerVolume(t,e&&e.volume)},0)}),e.on("inResizeAd",function(e){return setTimeout(function(){u.debugLog(t,"vp resize callback called",!1),p.resizePlayer(t,e.width,e.height,e.viewMode)},0)}),e.on("inResizeAd",function(){return setTimeout(function(){u.debugLog(t,"vpExpandAdCallbackFuncName called",!1)},0)}),e.on("inInitAd",function(e){var i=e.slot;if(i&&(f||null==f&&document.body.contains(i))){var r=t.rootDivElem;r.parentNode.removeChild(r),i.parentNode.style.margin=0,i.parentNode.style.padding=0,(Math.abs(i.offsetTop)>50||Math.abs(i.offsetLeft)>50)&&(i.style.position="fixed",i.style.top=0,i.style.left=0),i.appendChild(r)}setTimeout(function(){p.resizePlayer(t,e.width||t.width,e.height||t.height,e.viewMode),s(t,"jsAdReadyToStart",{})},0)});var i=document.createElement("div");i.setAttribute("id",t.divId);var r="0",n=t.widthOverwrite||t.width,a=t.heightOverwrite||t.height;if(t.callingFlashObject&&(r="-"+a),i.setAttribute("style","width:"+n+"px;height:"+a+"px;position:relative;top:"+r+"px;"),t.rootDivElem=i,t.callingFlashObject){var o=t.callingFlashObject.parentNode||t.callingFlashObject.parentElement;t.callingFlashObjectParent=o,t.callingFlashObject.nextSibling?o.insertBefore(i,t.callingFlashObject.nextSibling):o.appendChild(i)}else if(t.jsCallingVpaid){var l=document.querySelector("body");l.appendChild(i),t.callingJSVpaid.handshake(function(t,i){return setTimeout(e.emit(t,i),0)})}if(t.companionsRootDivElem=document.createElement("div"),t.companionsDivElem=document.createElement("div"),t.companionsDivElem.setAttribute("style","width:100%;height:100%;position:relative;top:0px; display: block;"),t.companionsRootDivElem.appendChild(t.companionsDivElem),t.callingFlashObject)o.insertBefore(t.companionsRootDivElem,i);else if(t.jsCallingVpaid){var l=document.querySelector("body");l.appendChild(t.companionsRootDivElem)}return!0}}function s(t,e,i){t.callingFlashInterface?setTimeout(function(){return t.callingFlashInterface.call(e,i)},0):t.jsCallingVpaid&&t.callingJSVpaid.pEvent(e,i)}function o(t,e){t.callingFlashObject&&!e.flashPrevStyle&&(e.flashPrevStyle={position:e.flashElement.style.position,top:e.flashElement.style.top,left:e.flashElement.style.left},e.flashElement.style.position="absolute",e.flashElement.style.top="-1000px",e.flashElement.style.left="-1000px",t.rootDivElem.style.top="0px",t.divElem.style.top="0px")}function l(t,e){t.callingFlashObject&&e.flashPrevStyle&&(e.flashPrevStyle.position&&(e.flashElement.style.position=e.flashPrevStyle.position),e.flashElement.style.top=e.flashPrevStyle.top,e.flashElement.style.left=e.flashPrevStyle.left,t.divElem.style.display="none",t.rootDivElem.style.display="none",e.flashPrevStyle=null)}Object.defineProperty(e,"__esModule",{value:!0});var d=i(14),u=i(0),c=i(6),h=i(25),p=i(5),f=null;e.prePrepareCallingObject=n,e.postPrepareCallingObject=a,e.callingVpaidEvent=s,e.hideCallingFlashObject=o,e.restoreCallingFlashObjectStyle=l},function(t,e,i){"use strict";function r(t){t.chilled=!0;for(var e=0,i=t.plist.length;e<i;e++){t.plist[e].unlockAdSlot()}}function n(t,e){if(void 0===e&&(e=!1),"function"==typeof t.playNext)return t.playNext(e);var i=t.readyForStartAd?null:1;if(u.debugLog(t,"playNext called, group: "+(null!=i?i:"any"),!1),t.frozen)return u.debugLog(t,"playNext canceled - player frozen",!1),!1;if(!t.autoplay&&!e)return u.debugLog(t,"playNext canceled - manual mode - not trying to auto play",!1),!1;if(t.postRoll)return u.debugLog(t,"playNext canceled - postRoll, still playing content",!1),!1;if(t.anyPlaying)return u.debugLog(t,"playNext canceled - still playing previous media",!1),!1;if(t.parallelStartAd){for(var r=!1,n=0,a=t.plist.length;n<a;n++){var s=t.plist[n];if(s.state==c.PlayerDataState.Started&&s.sureFastStart){if(((new Date).getTime()-s.startAdTime)/1e3<3)return u.debugLogVast(t,s,"is sure fast starter and is trying to start - quiting",!1),!1;u.debugLogVast(t,s,"is sure fast starter and is trying to start but passed grace time",!1)}}for(var n=0,a=t.plist.length;n<a;n++){var s=t.plist[n];if(u.debugLogVast(t,s,"state is: "+s.state,!0),s.canPlay(e,i)){if(u.debugLogVast(t,s,"is ready to play",!1),r=!0,h.playPlayer(t,s),t.anyPlaying)return!0;if(s.sureFastStart)return u.debugLogVast(t,s,"sure fast start - breaking",!1),!0}else s.canPlay(e)&&u.debugLogVast(t,s,"is ready but on different group",!1)}return r}for(var o=null,n=0,a=t.plist.length;n<a;n++){var s=t.plist[n];u.debugLogVast(t,s,"state is: "+s.state,!0),s.canPlay(e,i)&&(o?s.errorCount<o.errorCount&&(o=s):o=s)}if(o){u.debugLogVast(t,o,"is ready to play",!1),t.beingVpaid&&(t.autoplay=!1);var l=h.playPlayer(t,o);return t.anyPlaying=t.anyPlaying||l,!0}return u.debugLog(t,"no vast is ready to play",!0),!1}function a(t){for(var e=0,i=0,r=t.plist.length;i<r;i++){var n=t.plist[i];"video"!=n.adType&&n.state>=c.PlayerDataState.Initing&&n.state<=c.PlayerDataState.Completed&&e++}return e}function s(t,e){var i=a(t);if(t.vpaidInitLimit&&i>=t.vpaidInitLimit)return null;for(var r="in group "+e.group+", ",n=!0,s=0,o=t.plist.length;s<o;s++)if(t.plist[s].group<=1&&t.plist[s].state<c.PlayerDataState.Initing&&!t.plist[s].errorCount&&t.plist[s].roundNo<=1){n=!1;break}for(var l=!0,s=0,o=t.plist.length;s<o;s++)if(t.plist[s].group<=1&&t.plist[s].state<c.PlayerDataState.Playing&&!t.plist[s].errorCount&&t.plist[s].roundNo<=1){l=!1;break}return e.duplicatedNow?"flvpaid"==e.adType&&t.singleVPW&&t.anyPlaying?null:(e.duplicatedNow=!1,r+" just duplicated"):e.group<=1&&e.errorCount<=1?r+" and no/low error count":e.group>1&&!l?null:e.group>1&&t.anyPlaying?null:e.group<=1?r+" and can init more":n?r+" and can init more, all group 1 inited":null}function o(t){t.frozen&&p.notifyApi(t,null,"player.finished"),t.postRoll&&(t.postRoll=!1,n(t,!0))}function l(t,e){if(!e.allowSameVastLoad())return void u.debugLogVast(t,e,"same vastId loader was rejected",!1);u.debugLogVast(t,e,"same vastId loader",!1);try{var i=e.duplicatePlayed();t.plist.push(i),A.prepareAdContainers(t,i),f.allocateAndFetchPlayerVast(t,i)}catch(i){f.vastError(t,e.vastId,f.VAST_ERROR.JS_EXCEPTION,"svi gave JS exception: ",i,e)}}function d(t){if(t.frozen)return void u.debugLog(t,"ResetReadyForStartAd - frozen - quiting",!1);if(t.parallelStartAd){for(var e=!0,i=0,r=t.plist.length;i<r;i++)if(1==t.plist[i].group&&0==t.plist[i].errorCount){e=!1;break}if(e)return void u.debugLog(t,"all have errors, not reseting readyForStartAd",!1);u.debugLog(t,"reseting readyForStartAd",!1),t.readyForStartAd=!1,null!=t.initialStartAd&&(clearTimeout(t.initialStartAd),t.initialStartAd=null),t.initialStartAd=setTimeout(function(){u.debugLog(t,"readyForStartAd",!1),t.readyForStartAd=!0,t.initialStartAd=null,n(t)},12e3)}else t.readyForStartAd=!0}Object.defineProperty(e,"__esModule",{value:!0});var u=i(0),c=i(1),h=i(28),p=i(5),f=i(2),A=i(9);e.unlockSlots=r,e.playNext=n,e.getInitedVastsCount=a,e.canInitAd=s,e.contentEnded=o,e.sameVastLoad=l,e.resetReadyForStartAd=d},function(t,e,i){var r;!function(n){function a(){this._events={},this._conf&&s.call(this,this._conf)}function s(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners&&(this._events.maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),this.wildcard&&(this.listenerTree={}))}function o(t){this._events={},this.newListener=!1,s.call(this,t)}function l(t,e,i,r){if(!i)return[];var n,a,s,o,d,u,c,h=[],p=e.length,f=e[r],A=e[r+1];if(r===p&&i._listeners){if("function"==typeof i._listeners)return t&&t.push(i._listeners),[i];for(n=0,a=i._listeners.length;n<a;n++)t&&t.push(i._listeners[n]);return[i]}if("*"===f||"**"===f||i[f]){if("*"===f){for(s in i)"_listeners"!==s&&i.hasOwnProperty(s)&&(h=h.concat(l(t,e,i[s],r+1)));return h}if("**"===f){c=r+1===p||r+2===p&&"*"===A,c&&i._listeners&&(h=h.concat(l(t,e,i,p)));for(s in i)"_listeners"!==s&&i.hasOwnProperty(s)&&("*"===s||"**"===s?(i[s]._listeners&&!c&&(h=h.concat(l(t,e,i[s],p))),h=h.concat(l(t,e,i[s],r))):h=s===A?h.concat(l(t,e,i[s],r+2)):h.concat(l(t,e,i[s],r)));return h}h=h.concat(l(t,e,i[f],r+1))}if(o=i["*"],o&&l(t,e,o,r+1),d=i["**"])if(r<p){d._listeners&&l(t,e,d,p);for(s in d)"_listeners"!==s&&d.hasOwnProperty(s)&&(s===A?l(t,e,d[s],r+2):s===f?l(t,e,d[s],r+1):(u={},u[s]=d[s],l(t,e,{"**":u},r+1)))}else d._listeners?l(t,e,d,p):d["*"]&&d["*"]._listeners&&l(t,e,d["*"],p);return h}function d(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var i=0,r=t.length;i+1<r;i++)if("**"===t[i]&&"**"===t[i+1])return;for(var n=this.listenerTree,a=t.shift();a;){if(n[a]||(n[a]={}),n=n[a],0===t.length){if(n._listeners){if("function"==typeof n._listeners)n._listeners=[n._listeners,e];else if(u(n._listeners)&&(n._listeners.push(e),!n._listeners.warned)){var s=c;void 0!==this._events.maxListeners&&(s=this._events.maxListeners),s>0&&n._listeners.length>s&&(n._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",n._listeners.length),console.trace&&console.trace())}}else n._listeners=e;return!0}a=t.shift()}return!0}var u=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=10;o.EventEmitter2=o,o.prototype.delimiter=".",o.prototype.setMaxListeners=function(t){this._events||a.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t},o.prototype.event="",o.prototype.once=function(t,e){return this.many(t,1,e),this},o.prototype.many=function(t,e,i){function r(){0==--e&&n.off(t,r),i.apply(this,arguments)}var n=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");return r._origin=i,this.on(t,r),n},o.prototype.emit=function(){this._events||a.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var e,i,r,n,s,o=arguments.length;if(this._all&&this._all.length){if(s=this._all.slice(),o>3)for(e=new Array(o),n=1;n<o;n++)e[n]=arguments[n];for(r=0,i=s.length;r<i;r++)switch(this.event=t,o){case 1:s[r].call(this,t);break;case 2:s[r].call(this,t,arguments[1]);break;case 3:s[r].call(this,t,arguments[1],arguments[2]);break;default:s[r].apply(this,e)}}if(this.wildcard){s=[];var d="string"==typeof t?t.split(this.delimiter):t.slice();l.call(this,s,d,this.listenerTree,0)}else{if("function"==typeof(s=this._events[t])){switch(this.event=t,o){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(o-1),n=1;n<o;n++)e[n-1]=arguments[n];s.apply(this,e)}return!0}s&&(s=s.slice())}if(s&&s.length){if(o>3)for(e=new Array(o-1),n=1;n<o;n++)e[n-1]=arguments[n];for(r=0,i=s.length;r<i;r++)switch(this.event=t,o){case 1:s[r].call(this);break;case 2:s[r].call(this,arguments[1]);break;case 3:s[r].call(this,arguments[1],arguments[2]);break;default:s[r].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},o.prototype.emitAsync=function(){this._events||a.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,i,r,n,s,o=[],d=arguments.length;if(this._all){if(d>3)for(e=new Array(d),n=1;n<d;n++)e[n]=arguments[n];for(r=0,i=this._all.length;r<i;r++)switch(this.event=t,d){case 1:o.push(this._all[r].call(this,t));break;case 2:o.push(this._all[r].call(this,t,arguments[1]));break;case 3:o.push(this._all[r].call(this,t,arguments[1],arguments[2]));break;default:o.push(this._all[r].apply(this,e))}}if(this.wildcard){s=[];var u="string"==typeof t?t.split(this.delimiter):t.slice();l.call(this,s,u,this.listenerTree,0)}else s=this._events[t];if("function"==typeof s)switch(this.event=t,d){case 1:o.push(s.call(this));break;case 2:o.push(s.call(this,arguments[1]));break;case 3:o.push(s.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(d-1),n=1;n<d;n++)e[n-1]=arguments[n];o.push(s.apply(this,e))}else if(s&&s.length){if(d>3)for(e=new Array(d-1),n=1;n<d;n++)e[n-1]=arguments[n];for(r=0,i=s.length;r<i;r++)switch(this.event=t,d){case 1:o.push(s[r].call(this));break;case 2:o.push(s[r].call(this,arguments[1]));break;case 3:o.push(s[r].call(this,arguments[1],arguments[2]));break;default:o.push(s[r].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},o.prototype.on=function(t,e){if("function"==typeof t)return this.onAny(t),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");if(this._events||a.call(this),this.emit("newListener",t,e),this.wildcard)return d.call(this,t,e),this;if(this._events[t]){if("function"==typeof this._events[t])this._events[t]=[this._events[t],e];else if(u(this._events[t])&&(this._events[t].push(e),!this._events[t].warned)){var i=c;void 0!==this._events.maxListeners&&(i=this._events.maxListeners),i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace&&console.trace())}}else this._events[t]=e;return this},o.prototype.onAny=function(t){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(t),this},o.prototype.addListener=o.prototype.on,o.prototype.off=function(t,e){function i(t){if(t!==n){var e=Object.keys(t);for(var r in e){var a=e[r],s=t[a];s instanceof Function||"object"!=typeof s||(Object.keys(s).length>0&&i(t[a]),0===Object.keys(s).length&&delete t[a])}}}if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var r,a=[];if(this.wildcard){var s="string"==typeof t?t.split(this.delimiter):t.slice();a=l.call(this,null,s,this.listenerTree,0)}else{if(!this._events[t])return this;r=this._events[t],a.push({_listeners:r})}for(var o=0;o<a.length;o++){var d=a[o];if(r=d._listeners,u(r)){for(var c=-1,h=0,p=r.length;h<p;h++)if(r[h]===e||r[h].listener&&r[h].listener===e||r[h]._origin&&r[h]._origin===e){c=h;break}if(c<0)continue;return this.wildcard?d._listeners.splice(c,1):this._events[t].splice(c,1),0===r.length&&(this.wildcard?delete d._listeners:delete this._events[t]),this.emit("removeListener",t,e),this}(r===e||r.listener&&r.listener===e||r._origin&&r._origin===e)&&(this.wildcard?delete d._listeners:delete this._events[t],this.emit("removeListener",t,e))}return i(this.listenerTree),this},o.prototype.offAny=function(t){var e,i=0,r=0;if(t&&this._all&&this._all.length>0){for(e=this._all,i=0,r=e.length;i<r;i++)if(t===e[i])return e.splice(i,1),this.emit("removeListenerAny",t),this}else{for(e=this._all,i=0,r=e.length;i<r;i++)this.emit("removeListenerAny",e[i]);this._all=[]}return this},o.prototype.removeListener=o.prototype.off,o.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||a.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),i=l.call(this,null,e,this.listenerTree,0),r=0;r<i.length;r++){var n=i[r];n._listeners=null}else{if(!this._events||!this._events[t])return this;this._events[t]=null}return this},o.prototype.listeners=function(t){if(this.wildcard){var e=[],i="string"==typeof t?t.split(this.delimiter):t.slice();return l.call(this,e,i,this.listenerTree,0),e}return this._events||a.call(this),this._events[t]||(this._events[t]=[]),u(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},o.prototype.listenersAny=function(){return this._all?this._all:[]},(r=function(){return o}.call(e,i,e,t))!==n&&(t.exports=r)}()},function(t,e,i){"use strict";function r(){var t,e=null;for(t=0;t<u.length;t++){try{e=u[t]()}catch(t){continue}break}return e}function n(t){return(window.DOMParser?function(t){return(new window.DOMParser).parseFromString(t,"text/xml")}:"undefined"!=typeof ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(){return null})(t)}function a(t){return(null==t.responseXML||t.responseXML.xml)&&t.responseText?n(t.responseText):t.responseXML}function s(t){var e=t.url,i=void 0===e?"":e,n=t.withCredentials,a=void 0!==n&&n,s=t.method,o=void 0===s?"GET":s,u=t.postData,c=void 0===u?null:u,h=t.timeout,p=void 0===h?0:h;return new d.Promise(function(t,e){try{var n=!1,s=r();if(!s)return e({xhr:s,code:l.NO_XHR_SUPPORT,data:{message:"no supported xhr object"}}),null;try{s.open(o,i,!0)}catch(t){return e({xhr:s,code:l.OPEN,data:t}),null}"withCredentials"in s&&(s.withCredentials=a),"timeout"in s&&(s.timeout=p,s.ontimeout=function(){e({xhr:s,code:l.TIMEOUT,data:{message:"no response from xhr within "+p/1e3+" sec."}})}),s.onload=function(){n||(window.XDomainRequest&&s instanceof window.XDomainRequest&&(s.status=200,s.getResponseHeader=function(){return null},s.getAllResponseHeaders=function(){return null}),s.status>=400?e({xhr:s,code:l.STATUS,data:{message:s.status+" : "+s.statusText}}):t(s))},s.onerror=function(t){n=!0,e({xhr:s,code:l.CORS,data:{result:-1,message:"cross origin exception"}})};var d=null,u=[];if(c){if("string"==typeof c)d=c;else{for(var h in c)c.hasOwnProperty(h)&&u.push([h,c[h]].join("="));d=u.join("&")}s.setRequestHeader&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if(window.XDomainRequest&&s instanceof window.XDomainRequest)setTimeout(function(){try{s.send(d)}catch(t){e({xhr:s,code:l.SEND,data:t})}},0);else try{s.send(d)}catch(t){e({xhr:s,code:l.SEND,data:t})}}catch(t){e(t&&-1==t.message.indexOf("101")&&2153644038!=t.result?{xhr:s,code:l.UNKNOWN,data:t}:{xhr:s,code:l.CORS,data:t})}})}function o(t){return new d.Promise(function(e,i){var r="_"+(new Date).getTime(),n=document.createElement("script"),a=document.getElementsByTagName("head")[0]||document.documentElement;window[r]=function(t){e(t)};var s=t.indexOf("?");-1==s?t+="?":s!==t.length-1&&(t+="&"),n.src=t+"callback="+r,n.onerror=function(){i()},a.appendChild(n)})}Object.defineProperty(e,"__esModule",{value:!0});var l,d=i(10);!function(t){t[t.NO_XHR_SUPPORT=1]="NO_XHR_SUPPORT",t[t.OPEN=2]="OPEN",t[t.SEND=3]="SEND",t[t.CORS=4]="CORS",t[t.STATUS=5]="STATUS",t[t.TIMEOUT=6]="TIMEOUT",t[t.UNKNOWN=7]="UNKNOWN",t[t.LAST=10]="LAST"}(l=e.HttpError||(e.HttpError={}));var u=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){var t=new XDomainRequest;return t.onprogress=function(){},t}];e.createXMLHTTPObject=r,e.parseTextToXML=n,e.getXML=a,e.requestWithAjax=s,e.requestWithJSONP=o},function(t,e,i){"use strict";function r(t,e,i){return null!=t?t:null!=e?e:i}function n(t,e,i){return void 0!==t?t:void 0!==e?e:i}function a(t,e){return null!=t?e(t):t}function s(t,e){if(t instanceof Array)return t.length>0;if(t instanceof Object){var i=!1;return o(function(){return i=!0},t),i}if("string"==typeof t){if(!isNaN(t))return!!+t;if(e)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;default:return null}}return!!t}function o(t,e){if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(e[i],i)}function l(t,e,i,r){if(i&&null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(i),a=r instanceof Array?r:[r],s=0;s<a.length;s++)o(function(i,r){(!0===e||e(i,r))&&(!0===t||t.indexOf(r)>=0)&&(n[r]=i)},a[s]);return n}function d(t,e,i){return l(t,!0,e,i)}function u(t,e,i){return l(!0,t,e,i)}function c(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return l(!0,!0,t,e)}function h(t,i){return null==t||""===t?n(i,e.Defined(t)?null:void 0):r(s(t,!0),i,null)}function p(t,i){return null==t||""===t?n(i,e.Defined(t)?null:void 0):isNaN(t)?n(i,null):+t}function f(t,e){return null==t?n(e,t):""+t}e.__esModule=!0,e.notnull=r,e.defined=n,e.maybe=a,e.NotNull=function(t){return null!=t},e.Defined=function(t){return void 0!==t},e.Truly=function(t){return s(t)},e.forEach=o,e.assignFieldsWhen=l,e.assignFields=d,e.assignWhen=u,e.assign=c,e.boolean=h,e.number=p,e.string=f},function(t,e,i){"use strict";function r(){console.error("Abstract function call",(new Error).stack)}var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),s=i(2),o=i(0),l=i(4),d=i(11),u=i(16),c=i(16),h=i(12),p=i(5),f=i(20),A=i(24),v=function(){function t(t,e){var i=this;this.longStartAd=!1,this.vastPreferType=null,this.iframeSlot=!0,this.maxFailedVastRetries=0,this.maxAdStarts=0,this.lastChanceRetry=!1,this.logLastChanceRetry=!1,this.vastErrorWasReported=!1,this.channelId=null,this.adType=null,this.previousAdType=null,this.curAdStarts=0,this.errorCount=0,this.roundNo=0,this.totalRoundNo=0,this.isIMA=!1,this.vpaidPlaying=!1,this.vpwLoaded=!1,this.viewable=!1,this.logStartWasDone=!1,this.logLoadWasDone=!1,this.vastResponseXML=null,this.requestedVastURL=null,this.wrapperCount=0,this.delay={},this.loadAdTimer=null,this.impressionOnlyWithVideoStart=!1,this.initAdEnvObject=null,this.firedEvents={},this.corsType=null,this.withCredentials=null,this.sameVastTimer=A.default.Seconds(10),this.loadAdTimeout=A.default.Seconds(70),this.startAdHalfTimeout=A.default.Seconds(7),this.impressionAfterStartTimeout=A.default.Seconds(3),this.longImpressionTimeout=A.default.Seconds(70),this.requeryTimeout=null,this.initAdThrottler=null,this.callPauseTimer=new A.default(100),this.state=a.PlayerDataState.None,this.videoElement=null,this.flashElement=null,this.companionsElementDiv=null,this.moatAPI=null,this.allowSameVastLoad=function(){return!i.players.frozen&&i.players.mainAutoplay&&i.players.currentGroup>0&&!(i.maxAdStarts&&i.curAdStarts>=i.maxAdStarts)},this.players=t,u.assignWhen(u.NotNull,this,{cxvid:u.number(e.cxvid),cxpid:u.number(e.cxpid),demandId:u.string(e.dmid),group:u.number(e.group,NaN),vastId:u.number(e.id,NaN),vastURL:u.string(e.url),playerId:u.string(e.pid,this.players.playerId),maxAdStarts:u.number(e.mas),vastPreferType:u.number(e.vt),sandbox:u.boolean(e.sb),iframeSlot:u.boolean(e.ifsl),viewableOnStart:u.boolean(e.vos),cookie:u.string(e.ck),longStartAd:u.boolean(e.lsa),loadAdTimer:u.number(e.latimer),expectedSureFastStart:!1,corsType:e.ct,delay:e.delay,beacons:e.callbacks,impressionOnlyWithVideoStart:u.boolean(e.strictImp)}),this.startAdTimeout=A.default.Seconds(this.longStartAd?70:60);var r=!1;e.mvr&&(this.maxFailedVastRetries=u.number(e.mvr),this.maxFailedVastRetries>1&&this.maxFailedVastRetries<50&&(this.maxFailedVastRetries=2*this.maxFailedVastRetries,r=!0)),l.logMaxFailedRetries(this.players,this,r);var n=e.capt,o=u.number(e.aq,null),d=u.number(e.aqr,null);switch(this.quotaExpirationSec=u.number(e.caps,null),this.quotaExpirationTime=null!=this.quotaExpirationSec?(new Date).getTime()+1e3*this.quotaExpirationSec:null,n){case s.CAP_TYPE.AD_REQUEST:this.allocatedQuotaReq=o,this.allocatedQuotaImp=d;break;case s.CAP_TYPE.AD_START:default:this.allocatedQuotaImp=o,this.allocatedQuotaReq=d}this.customVars={rpm:e.rpm,cx_rpm:e.cxrpm},this.players.curUniq++,this.uniqId=this.players.curUniq,this.originalUniqId=this.uniqId}return t.prototype.duplicatePlayed=function(){o.debugLogVast(this.players,this,"duplicating player data",!1);var t={};u.assignWhen(u.NotNull,t,{id:this.vastId,url:this.vastURL,group:this.group,lsa:this.longStartAd,pid:this.playerId,mvr:this.maxFailedVastRetries,mas:this.maxAdStarts,ck:this.cookie,vt:this.vastPreferType,sb:this.sandbox,ct:this.corsType,cxvid:this.cxvid,cxpid:this.cxpid,dmid:this.demandId,vos:this.viewableOnStart});var e=new g(this.players,t);return c.assignFields(["customVars","beacons","originalUniqId","withCredentials","curAdStarts","allocatedQuotaImp","allocatedQuotaReq","quotaExpirationTime","quotaExpirationSec","totalRoundNo"],e,this),e.duplicatedNow=!0,e},t.prototype.strictImpression=function(){return this.impressionOnlyWithVideoStart},t.prototype.unlockAdSlot=function(){this.adVideo&&this.adVideo.load()},t.prototype.isUnlocked=function(){return!1},t.prototype.fetchAdUrl=function(t){},t.prototype.initCompanion=function(t){if(void 0===t&&(t=document),this.companionHTML)try{this.companionsElementDiv||(this.companionsElementDiv=t.createElement("div"),this.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+this.players.height+"px;z-index:0;"),this.insertCompanion()),this.companionsElementDiv&&(o.debugLogVast(this.players,this,"companionHTML: "+this.companionHTML,!1),this.companionsElementDiv.innerHTML=this.companionHTML)}catch(t){}},t.prototype.insertCompanion=function(){this.players.callingFlashObject?this.players.companionsDivElem.appendChild(this.companionsElementDiv):this.players.divElem.appendChild(this.companionsElementDiv)},t.prototype.initMedia=function(){var t=this;return this.players.domIsReady?o.debugLogVast(this.players,this,"dom is ready - calling initMedia",!1):o.debugLogVast(this.players,this,"dom is not ready - initMedia will be called later",!1),this.adContainersReady.then(function(){o.debugLogVast(t.players,t,"initMedia",!1),t.state=a.PlayerDataState.Loading,o.debugLogVast(t.players,t,"initMedia: initializing "+t.adType+", url "+t.mediaURL,!1)})},t.prototype.canPlay=function(t,e){return!(this.state!=a.PlayerDataState.Ready||!(void 0==e||this.group<=e)||!(this.players.mainAutoplay||t||this.isUnlocked()))},t.prototype.onAdResponse=function(){return d.logVastActualRequest(this.players,this),!s.isCold(this.players,this,"FetchVastResponse")},t.prototype.getRequeryFrequency=function(){var t=0;return t=this.players.freqRetry?this.errorCount<10?1e3+Math.floor(500*Math.random()):this.errorCount<100?2e3+Math.floor(500*Math.random()):this.errorCount<110?2e3+Math.floor(1500*Math.random()):1e4:1==this.errorCount?200:this.errorCount<4?1e3:this.errorCount<10?1e3*this.errorCount:this.errorCount<100?1e4:100==this.errorCount?2e3:this.errorCount<104?3e3:this.errorCount<110?6e3:3e4,t*=this.players.vastWaitFactor,this.lastChanceRetry&&(t=50),o.debugLogVast(this.players,this,"wait is set to "+t+", ec: "+this.errorCount,!1),t},t.prototype.syncVolume=function(){this.setAdVolume&&this.setAdVolume(this.players.volume,this.players.muted)},t.prototype.verifyVastTrackerPropress=function(t){var e=s.QUARTILE_NAMES[t];this.skipVastTracker||(this.vastTracker?(s.verifyPlayerProgress(t,this.players,this),t==s.Quartiles.COMPLETE&&this.vastTracker.complete()):s.vastError(this.players,this.vastId,s.VAST_ERROR.JS_EXCEPTION,"no vastTracker for "+e,null,this,!1,!1,"vastTracker error"))},t.prototype.onQuartile=function(t){var e=s.QUARTILE_NAMES[t];o.debugLogVast(this.players,this,"got ad "+e+" callback",!1),this.verifyVastTrackerPropress(t),this.players.beingVpaid&&h.callingVpaidEvent(this.players,"jsAd"+(e&&e[0].toUpperCase()+e.slice(1)),{}),d.logVastProgress(this.players,this,t),p.notifyApi(this.players,this,"ad."+e,{listCompleted:this.players.frozen})},t.prototype.onComplete=function(){this.verifyVastTrackerPropress(s.Quartiles.COMPLETE),this.players.beingVpaid&&(h.restoreCallingFlashObjectStyle(this.players,this),h.callingVpaidEvent(this.players,"jsAdComplete",{}),h.callingVpaidEvent(this.players,"jsAdStopped",{}),this.players.divElem.style.display="none"),d.logVastProgress(this.players,this,s.Quartiles.COMPLETE),p.notifyApi(this.players,this,"adcomplete",{listCompleted:this.players.frozen}),p.notifyApi(this.players,this,"ad.complete",{listCompleted:this.players.frozen}),f.triggerBeacon(this.players,this,"adcomplete"),this.players.frozen&&!this.players.contentUrlPlayer&&p.notifyApi(this.players,this,"player.finished")},t}();e.PlayerData=v;var g=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),e.prototype.initAd=function(){r()},e.prototype.pauseAd=function(){r()},e.prototype.resumeAd=function(){r()},e.prototype.showAd=function(){r()},e.prototype.hideAd=function(){},e.prototype.startAd=function(){r()},e.prototype.stopAd=function(){},e.prototype.clearAd=function(){},e.prototype.resizeAd=function(t,e,i){},e.prototype.setAdVolume=function(t,e){},e.prototype.getProgress=function(){return null},e}(v);e.PlayerDataPlaceHolder=g},function(t,e,i){"use strict";function r(t,e,i,r,n){void 0===t&&(t=window),void 0===r&&(r=!1),void 0===n&&(n=null);var a=t.XMLHttpRequest,l=function(){var t=new a;return["error","load","timeout"].forEach(function(e){return t.addEventListener(e,function(t){l.event&&l.event.emit(t.type,t,this,l)})}),t.open=function(t,e,r,n,s){this.url=e;var d={type:"open",url:e,method:t},u=o(i,e,"xhr");if(arguments.length>=3&&(d.async=r),u&&(d.type="blocked"),l.event&&l.event.emit(d.type,d,this,l),!u)return a.prototype.open.apply(this,arguments)},t.send=function(){if(t.readyState==t.OPENED)return a.prototype.send.apply(this,arguments)},t};l.prototype=a.prototype,l.tag=n,l.parent=t.parent&&t.parent!==t&&t.parent.XMLHttpRequest,l.event=e||l.parent.event,t.XMLHttpRequest=l;try{r&&s(t)}catch(t){}return l.event}function n(t,e,i,s,o){r(t,e,i,null!=o,o);var l=t.document,d=l.createElement;l.createElement=function(r){var o=d.call(l,r);if("iframe"!==r.toLowerCase())return o;var u,c=!1,h=!1,p=function(){if(c)return u&&u.disconnect(),void(u=null);try{if(o.src&&o.src.startsWith("http"))return s&&(o.parentNode.removeChild(o),e&&e.emit("iframeBlock",{type:"iframeBlock",src:o.src},null,t.XMLHttpRequest)),void(c=!0);if(!o.contentDocument)return;h||(n(o.contentWindow,e,i,s),h=!0);var r=o.contentWindow.XMLHttpRequest;r.tag?c=!0:r.tag=a(o)}catch(t){c=!0}};return MutationObserver&&(u=new MutationObserver(p),u.observe(o,{attributes:!0,childList:!0,characterData:!0})),o.addEventListener("load",p),setTimeout(p,5),o}}function a(t){try{var e=t.contentDocument.querySelector("script");if(e)return e.src}catch(t){}return null}function s(t){if(t!=t.parent){var e;if(t.Proxy)e=new t.Proxy(t.parent,{get:function(e,i){switch(i){case"XMLHttpRequest":return t.XMLHttpRequest;default:return"function"==typeof e[i]?e[i].bind(e):e[i]}}});else{e=Object.create(t.__proto__),Object.assign(e,t.parent),e.XMLHttpRequest=t.XMLHttpRequest;for(var i in e)"function"==typeof e[i]&&(e[i]=e[i].bind(t.parent))}t.parent=e}}function o(t,e,i){return t&&t.some(function(t){return"string"==typeof t?-1!=e.indexOf(t):t.test(e)})}Object.defineProperty(e,"__esModule",{value:!0}),e.interceptXHR=r,e.patchIframeXHR=n,e.proxyParent=s,e.isBlocked=o,e.BlackLists={lk:["lkqd.net"],dfp:["lkqd.net","palamel.com","mobileadslink.com"]}},function(t,e,i){"use strict";function r(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function n(t){if(u){var e=document.createElement("style");e.type="text/css",e.innerHTML=u;document.getElementsByTagName("head")[0].appendChild(e),u=null}}function a(t,e){return void 0===e&&(e="__cedato_"),e+t}function s(t,e){o(t,e)||(t.className+=" "+e)}function o(t,e){return r(e).test(t.className)}function l(t,e){var i=r(e),n=t.className.replace(i,"");t.className!=n&&(t.className=n)}function d(t,e){if(t){var i=t.className.split(" ");for(var r in e)if(e.hasOwnProperty(r))if(t.classList)e[r]?t.classList.add(r):t.classList.remove(r);else{var n=i.indexOf(r);e[r]&&-1==n?i.push(r):e[r]||-1==n||i.splice(n,1)}t.classList||(t.className=i.join(" "))}}Object.defineProperty(e,"__esModule",{value:!0});var u=i(54);e.init=n,e.cssClass=a,e.assignClass=s,e.hasClass=o,e.removeClass=l,e.toggleClass=d},function(t,e,i){"use strict";function r(t,e,i,r){try{var a=o.macros(t,e,r);if(t.beacons){var s=t.beacons[i];n(t,e,s,a)}if(e&&e.beacons){var s=e.beacons[i];n(t,e,s,a)}}catch(t){}}function n(t,e,i,r){if("function"==typeof t.triggerAll)return t.triggerAll(e,i,r);i=a.ensureArray(i);for(var n=0;n<i.length;n++){var o=i[n].url;if(r&&(o=r(o)),o=s.upgradeProtocol(t.protocol,o),null==i[n].rate||Math.random()<i[n].rate){var d=null;i[n].type&&"script"===i[n].type?(t.injectScript(o,!0),d=" inject script "):(t.sendPixel(o),d=" send image "),e?l.debugLogVast(t,e,"callback"+d+o,!1):l.debugLog(t,"callback"+d+o,!1)}}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(7),s=i(3),o=i(27),l=i(0);e.triggerBeacon=r,e.triggerAll=n},function(t,e,i){"use strict";function r(t){return!t||!t.flashMemUsed||t.flashMemUsed<0?"":", mem used: "+t.flashMemUsed}function n(t,e,i){e.duration=i,e.durationKnown=!0,e.vastTracker&&(e.vastTracker.duration=e.duration,e.vastTracker.setDuration(e.duration)),H.getPlayingPlayerData(t)==e&&(J.notifyApi(t,e,"player.durationChange"),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdDurationChange",{duration:i}))}function a(t,e){e.durationKnown=!1,t.thirdPartyTimeout&&(-1!=e.mediaURL.indexOf("liverail.com")&&(-1==e.mediaURL.indexOf("LR_TIMEOUT_ADSOURCE")&&(e.mediaURL+="&LR_TIMEOUT_ADSOURCE="+t.thirdPartyTimeout,U.debugLogVast(t,e,"initMedia: added timeout to media file, new url: "+e.mediaURL,!1)),-1==e.mediaURL.indexOf("LR_TIMEOUT_DELIVERY")&&(e.mediaURL+="&LR_TIMEOUT_DELIVERY="+t.thirdPartyTimeout,U.debugLogVast(t,e,"initMedia: added timeout to media file, new url: "+e.mediaURL,!1))),-1!=e.mediaURL.indexOf("adap.tv")&&-1==e.mediaURL.indexOf("breakLoadedTimeout")&&(e.mediaURL+="&breakLoadedTimeout="+1e3*t.thirdPartyTimeout,U.debugLogVast(t,e,"initMedia: added timeout to media file, new url: "+e.mediaURL,!1)))}function s(t,e,i){null!=e.requeryTimeout&&(U.debugLogVast(t,e,"cleared pending requery",!1),clearTimeout(e.requeryTimeout),e.requeryTimeout=null),U.debugLogVast(t,e,e.adType+" was initialized"+r(i),!1);var n=F.canInitAd(t,e);if(!n){U.debugLogVast(t,e,"initAd throttled, we'll try again. Inited vast count:"+F.getInitedVastsCount(t),!1);var a=function(t,e){try{var i=F.canInitAd(t,e);i&&(U.debugLogVast(t,e,"initAd throttler passed in interval: "+i,!1),o(t,e))}catch(i){M.vastError(t,e.vastId,M.VAST_ERROR.JS_EXCEPTION,"iat gave JS exception: ",i,e)}};return void(e.initAdThrottler=setInterval(function(){a(t,e)},500))}U.debugLogVast(t,e,"initAd throttler passed: "+n,!1),o(t,e)}function o(t,e){null!=e.initAdThrottler&&(clearInterval(e.initAdThrottler),e.initAdThrottler=null);var i;try{U.debugLogVast(t,e,"calling initAd",!1),e.state=k.PlayerDataState.Initing,i=e.initAd()}catch(t){i=t.message}i?(M.vastError(t,e.vastId,M.VAST_ERROR.PROCESS_ERROR,"initAd failed - "+i,null,e,!1,!0),N.finishPlayerData(t,e,k.TerminateReason.INIT_AD_ERROR)):U.debugLogVast(t,e,"initAd returned success",!1)}function l(t,e,i){return e.firedEvents.AdLoaded?void U.debugLogVast(t,e,"AdLoaded fired already",!1):(e.firedEvents.AdLoaded=!0,e.loadAdTimeout.cancel(),U.debugLogVast(t,e,"got vpaid adLoaded callback"+r(i),!1),null!=e.requeryTimeout&&(U.debugLogVast(t,e,"cleared pending requery",!1),clearTimeout(e.requeryTimeout),e.requeryTimeout=null),e.state<k.PlayerDataState.Loading||e.state==k.PlayerDataState.Error?void U.debugLogVast(t,e,"adLoaded on wrong state - ignoring it - "+e.state,!1):e.state>k.PlayerDataState.Initing&&e.state<k.PlayerDataState.Error?void U.debugLogVast(t,e,"second adLoaded event - ignoring it",!1):(e.state=k.PlayerDataState.Ready,U.debugLogVast(t,e,"marked as ready to play",!0),j.logVastLoaded(t,e,i&&i.flashMemUsed),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdReadyToStart",{}),void F.playNext(t)))}function d(t,e,i){var r=i.errorMsg;if(e.firedEvents.AdError=!0,B.restoreCallingFlashObjectStyle(t,e),U.debugLogVast(t,e,"got vpaid aderror callback, message: "+r,!1),e.state<=k.PlayerDataState.Loading||e.state==k.PlayerDataState.Finished)return void U.debugLogVast(t,e,"vpaid aderror callback on invalid state - ignoring - "+e.state,!1);var n=!1,a=!1;e.vpaidPlaying&&(e.vpaidPlaying=!1,t.parallelStartAd&&e.state!=k.PlayerDataState.Playing||U.debugLogVast(t,e,"was playing",!1),e.startAdHalfTimeout.cancel(),e.startAdTimeout.cancel(),e.loadAdTimeout.cancel(),t.parallelStartAd&&(a=!0)),e.state<k.PlayerDataState.Ready&&(n=!0),null!=e.initAdThrottler&&(clearInterval(e.initAdThrottler),e.initAdThrottler=null);var s=M.VAST_ERROR.VPAID_UNKNOWN_ERROR,o="";try{o=r.toLowerCase()}catch(t){}-1==o.indexOf("timeout")&&-1==o.indexOf("timed out")||(s=M.VAST_ERROR.VPAID_TIMEOUT),-1==o.indexOf("empty")&&-1==o.indexOf("3403")||(s=M.VAST_ERROR.VPAID_EMPTY_VAST),-1!=o.indexOf("domain")&&-1!=o.indexOf("block")&&(s=M.VAST_ERROR.VPAID_EMPTY_BLOCKED_DOMAIN),-1==o.indexOf("no ad")&&-1==o.indexOf("there was an error parsing the ad tag response - null, errno: 0")||(s=M.VAST_ERROR.VPAID_NO_AVAILABLE_ADS),-1==o.indexOf("but the server returned a vast error")&&-1==o.indexOf("failed to parse liverail xml response")&&-1==o.indexOf("unknown liverail xml response type")||(s=M.VAST_ERROR.VPAID_VAST_ERROR),-1==o.indexOf("security error")&&-1==o.indexOf("2048")||(s=M.VAST_ERROR.VPAID_SECURITY_ERROR),-1==o.indexOf("2032")&&-1==o.indexOf("9408")&&-1==o.indexOf("error loading asset : ioerror")||(s=M.VAST_ERROR.VPAID_STREAM_ERROR),-1!=o.indexOf("1903")&&(s=M.VAST_ERROR.VPAID_START_TIMEOUTED),-1!=o.indexOf("1902")&&(s=M.VAST_ERROR.VPAID_INTERNAL_VPAID_ERROR),-1!=o.indexOf("volume violation")&&(U.submitFullDebugLog(t,{debugLogReason:"volume",keepDebugLog:!0}),s=M.VAST_ERROR.VPAID_VOLUME_VIOLATION),-1!=o.indexOf("non linear ads")&&(s=M.VAST_ERROR.VPAID_IMA_NON_LINEAR),-1!=o.indexOf("adstart exception")&&(s=M.VAST_ERROR.VPAID_INNER_VPW_EXCEPTION),J.notifyApi(t,e,"aderror"),M.vastError(t,e.vastId,s,"onAdError on state "+e.state+" : "+r,null,e,a,n);e.state>k.PlayerDataState.Ready?k.TerminateReason.VPAID_ERROR_READY:k.TerminateReason.VPAID_ERROR_INITING,N.finishPlayerData(t,e,k.TerminateReason.VPAID_ERROR_INITING)}function u(t,e){if(e.firedEvents.AdStarted)return void U.debugLogVast(t,e,"AdStarted fired already",!1);e.firedEvents.AdStarted=!0,e.firedEvents.AdLoaded||l(t,e,null),q.adStarted(t,e),e.firedEvents.AdImpression||e.impressionAfterStartTimeout.start(function(){j.logVastEvent(t,j.CEDATO_EVENT.E_ADSTART_WO_IMPRESSION,e,{}),U.debugLogVast(t,e,"Haven't get AdImpression in 3 seconds after AdStart",!1),(t.viewableOnStart||e.viewableOnStart)&&(U.debugLogVast(t,e,"Hiding the vpaid",!1),H.hideAdvertising(t,e))})}function c(t,e,i){return e.firedEvents.AdImpression?void U.debugLogVast(t,e,"AdImpression fired already",!1):(e.firedEvents.AdImpression=!0,e.firedEvents.AdStarted||u(t,e),U.debugLogVast(t,e,"got vpaid impression callback"+r(i),!1),e.state==k.PlayerDataState.Error||e.state<k.PlayerDataState.Started?void U.debugLogVast(t,e,"got vpaid impression callback but in invalid state - ignoring - "+e.state,!1):(e.impressionAfterStartTimeout.cancel(),e.startAdHalfTimeout.cancel(),e.startAdTimeout.cancel(),e.errorCount=0,void(e.strictImpression()&&!e.firedEvents.AdVideoStart||q.adImpression(t,e))))}function h(t,e){if(e.firedEvents.AdVideoStart)return void U.debugLog(t,"AdVideoStart fired already",!1);e.firedEvents.AdVideoStart=!0,U.debugLogVast(t,e,"got vpaid AdVideoStart callback",!1),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdVideoStart",{}),e.strictImpression()&&e.firedEvents.AdImpression&&q.adImpression(t,e)}function p(t,e){e.firedEvents.AdStarted&&!e.firedEvents.AdImpression||e.onQuartile(M.Quartiles.FIRST)}function f(t,e){e.firedEvents.AdStarted&&!e.firedEvents.AdImpression||e.onQuartile(M.Quartiles.MIDPOINT)}function A(t,e){e.firedEvents.AdStarted&&!e.firedEvents.AdImpression||e.onQuartile(M.Quartiles.THIRD)}function v(t,e){if(!e.firedEvents.AdStarted||e.firedEvents.AdImpression){if(U.debugLogVast(t,e,"got vpaid adComplete callback",!1),e.state!=k.PlayerDataState.Playing&&e.state!=k.PlayerDataState.Finished)return void U.debugLogVast(t,e,"vpaid adcomplete callback on invalid state - ignoring - "+e.state,!1);e.onComplete(),e.callPauseTimer.cancel(),N.finishPlayerData(t,e,k.TerminateReason.AD_COMPLETE)}}function g(t,e){e.firedEvents.AdStopped=!0,B.restoreCallingFlashObjectStyle(t,e),U.debugLogVast(t,e,"got vpaid adStopped callback",!1),e.state==k.PlayerDataState.Playing&&(U.debugLog(t,"triggering manual AdComplete",!1),v(t,e))}function m(t,e,i){var r=i.url,n=i.id,a=i.playerHandles;U.debugLogVast(t,e,"got vpaid click through callback, url: "+r+", id: "+n+", playerHandles: "+a,!1),J.adClick(t,e,r,!1===a)}function y(t,e,i){var r=i.t;U.debugLogVast(t,e,"got vpaid ad duration time callback, t: "+r,!0),null!=r&&n(t,e,r)}function b(t,e,i){var r=i.t;U.debugLogVast(t,e,"got vpaid ad remaining time callback, t: "+r,!0),null!=r&&(!e.durationKnown||e.state<k.PlayerDataState.Playing?(U.debugLogVast(t,e,"got first vpaid ad remaining time callback, duration set to t: "+r,!0),n(t,e,r)):(!e.skipVastTracker&&e.vastTracker&&e.vastTracker.setProgress(e.duration-r),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdRemainingTimeChange",{remainingTime:r})))}function E(t,e){U.debugLogVast(t,e,"got vpaid failure callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsFailure",{})}function T(t,e){e.callPauseTimer.start(function(){U.debugLogVast(t,e,"got vpaid ad_paused callback",!0),J.pausePlayingPlayer(t,e)})}function _(t,e){U.debugLogVast(t,e,"got vpaid ad-playing callback",!0),J.resumePlayingPlayer(t,e)}function R(t,e,i){var r=i.volume,n=i.muted;if(U.debugLogVast(t,e,"got vpaid ad_volume_change callback",!0),e.adStartedAt&&!(e.adStartedAt>(new Date).getTime()-1e3)&&t.interactive&&void 0!==r&&r>=0&&r<=1){if(t.muted&&0==r)return;J.setPlayerVolume(t,r,n),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdVolumeChange",{})}}function L(t,e){U.debugLogVast(t,e,"got vpaid ad_size_change callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdSizeChange",{})}function S(t,e){U.debugLogVast(t,e,"got vpaid ad_skipped callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdSkipped",{})}function w(t,e){U.debugLogVast(t,e,"got vpaid ad_skippable_state_change callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdSkippableState",{})}function I(t,e){U.debugLogVast(t,e,"got vpaid ad_linear_change callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdLinearChange",{})}function P(t,e){U.debugLogVast(t,e,"got vpaid ad_expanded_change callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdExpandedChange",{})}function D(t,e){U.debugLogVast(t,e,"got vpaid ad_interaction callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdInteraction",{})}function V(t,e){U.debugLogVast(t,e,"got vpaid ad_user_accept_invitation callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdUserAcceptInvitation",{})}function O(t,e){U.debugLogVast(t,e,"got vpaid ad_user_minimize callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdUserMinimize",{})}function C(t,e){U.debugLogVast(t,e,"got vpaid ad_user_close callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdUserClose",{})}function x(t,e){U.debugLogVast(t,e,"got vpaid ad_log callback",!0),t.beingVpaid&&B.callingVpaidEvent(t,"jsAdLog",{})}Object.defineProperty(e,"__esModule",{value:!0});var k=i(1),N=i(8),U=i(0),M=i(2),j=i(11),B=i(12),F=i(13),H=i(9),J=i(5),q=i(33);e.setThirdPartyTimeout=a,e.LoadedFunc=s,e.AdLoadedHandler=l,e.AdErrorHandler=d,e.AdStartedHandler=u,e.AdImpressionHandler=c,e.AdVideoStartHandler=h,e.AdFirstQuartileHandler=p,e.AdMidpointHandler=f,e.AdThirdQuartileHandler=A,e.AdCompleteHandler=v,e.AdStoppedHandler=g,e.AdClickthruHandler=m,e.AdDurationChangeHandler=y,e.AdRemainingTimeChangeHandler=b,e.FailureHandler=E,e.AdPausedHandler=T,e.AdPlayingHandler=_,e.AdVolumeChangeHandler=R,e.AdSizeChangeHandler=L,e.AdSkippedHandler=S,e.AdSkippableStateChangeHandler=w,e.AdLinearChangeHandler=I,e.AdExpandedChangeHandler=P,e.AdInteractionHandler=D,e.AdUserAcceptInvitationHandler=V,e.AdUserMinimizeHandler=O,e.AdUserCloseHandler=C,e.AdLogHandler=x},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=i(8),s=i(17),o=i(50),l=i(3),d=i(0),u=i(2),c=i(4),h=i(18),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.fetchAdUrl=function(t){var e=this;this.players.logVastResponse&&d.debugLog(this.players,"vastId "+this.vastId+" - xhr request url "+t,!1),this.vastResponseXML=null;var i=u.preprocessVastUrl(this.players,this,t),r=i.error,n=i.vastUrl;if(!h.isBlocked(this.players.blacklist,n,"xhr")){if(r)return void d.debugLog(this.players,"vastId "+this.vastId+" - "+r,!1);var a=Math.min(null!=this.players.wrapperLimit?this.players.wrapperLimit:10,null!=this.wrapperLimit?this.wrapperLimit:10),s={withCredentials:null!=this.withCredentials?this.withCredentials:l.useCredentials(),timeout:12e4,urlhandler:new o.VastUrlHandler(this.players,this),response:this.vastResponseXML,wrapperLimit:a};this.requestedVastURL=n,this.players.DMVAST.client.totalCalls=0;var c=function(t,i){e.onVastResponse(t,i,s)},p=this.players.debug.delayReply||this.delay.Reply;if(p){var f=c;c=function(t,e){return setTimeout(function(){return f(t,e)},p)}}this.players.DMVAST.client.get(n,s,c)}},e.prototype.onVastResponse=function(e,i,r){t.prototype.onAdResponse.call(this)&&this.handleVastResponse(e,i,r)},e.prototype.handleVastResponse=function(t,e,i){var r=null;if(d.debugLogVast(this.players,this,"got vast url "+(e&&e.fromUrlHandler?"error":"response")+" fetching url "+this.requestedVastURL,!1),e&&e.fromUrlHandler)r=u.handleVastRequestError(this.players,this,e,i),c.logVastWrapper(this.players,this,this.wrapperCount,i.withCredentials,e.code);else{this.logLastChanceRetry&&(this.logLastChanceRetry=!1,c.logHttpError(this.players,this,null,"success after fail","success after fail",i.withCredentials,!1));var s=u.vastProcessResponseXml(this.vastResponseXML,e);if(s)switch(d.debugLogVast(this.players,this,"VAST error - "+s.message+", url "+this.requestedVastURL,!1),c.logVastError(this.players,this,s.message),u.vastError(this.players,this.vastId,s.code,"VAST error - "+s.message,null,this,!1,!0),s.code){case u.VAST_ERROR.VAST_DMVAST_ERROR:r=n.TerminateReason.VAST_DMVAST_ERROR;break;case u.VAST_ERROR.VAST_NO_AD:r=n.TerminateReason.VAST_NO_AD}else if(!(r=u.vastProcessResponse(this.players,this,t)))try{u.setPlayerDataClass(this),this.initMedia()}catch(t){u.vastError(this.players,this.vastId,u.VAST_ERROR.JS_EXCEPTION,"initMedia gave JS exception: ",t,this,!1,!0),r=n.TerminateReason.JS_EXCEPTION}c.logVastWrapper(this.players,this,this.wrapperCount,i.withCredentials)}r&&a.finishPlayerData(this.players,this,r)},e}(s.PlayerData);e.PlayerDataVast=p},function(t,e,i){"use strict";function r(t,e,i,r){if(t.content=e?{video:{url:e.url,clickUrl:e.click,loop:!!e.cl,shuffle:null!=e.shuffle?!!e.shuffle:null,controlBar:null!=e.co?e.co:t.controlBar},image:{url:e.loader_image_url,position:""},variants:null}:{video:{controlBar:t.controlBar},image:{},variants:null},e&&(t.preRoll=e.wait,t.postRoll=!!e.cpf,t.preRoll>0&&u.debugLog(t,"initiating preroll timeout "+t.preRoll+"sec.",!1)),i&&!("string"==typeof t.content.video||t.content.video instanceof Array))try{("string"==typeof i||i instanceof Array)&&(i={video:{url:i}}),i.video&&(("string"==typeof i.video||i.video instanceof Array)&&(i.video={url:i.video}),i.video.url&&(t.content.video.url=i.video.url),i.video.clickUrl&&(t.content.video.clickUrl=i.video.clickUrl),null!=i.video.shuffle&&(t.content.video.shuffle=!!i.video.shuffle),null!=i.video.loop&&(t.content.video.loop=!!i.video.loop),null!=i.video.controlBar&&(t.content.video.controlBar=!!i.video.controlBar)),i.image&&("string"==typeof i.image&&(i.image={url:i.image}),i.image.url&&(t.content.image.url=i.image.url),i.image.position&&(t.content.image.position=i.image.position)),i.variants&&(t.content.variants=t.content.variants||{},i.variants.list&&(t.content.variants.list=i.variants.list),i.variants.selected&&(t.content.variants.selected=i.variants.selected),i.variants.searchPattern&&(t.content.variants.searchPattern=i.variants.searchPattern))}catch(e){u.debugLog(t," overrride content parameters error"+e.message,!1)}if(r&&!("string"==typeof t.content.video||t.content.video instanceof Array))try{r.Url&&(t.content.video.url=r.Url),r.ClickUrl&&(t.content.video.clickUrl=r.ClickUrl),r.Image&&(t.content.image.url=r.Image),r.ImagePosition&&(t.content.image.position=r.ImagePosition)}catch(e){u.debugLog(t," overrride content settings error"+e.message,!1)}}function n(t,e,i){t.contentUrlPlayer?t.contentUrlPlayer.setContentUrls(e,i):t.content.video.url=e}function a(t,e){t.contentUrlPlayer?t.contentUrlPlayer.setContentVariant(e):e<t.content.variants.list.length&&(t.content.variants.selected=e)}function s(t,e,i){t.contentUrlPlayer?t.contentUrlPlayer.setContentImage(e,i):(t.content.image.url=e,t.content.image.position=i)}function o(t,e){t.contentUrlPlayer&&t.contentUrlPlayer.seekContent(e)}function l(t){try{t.contentUrlPlayer=new m(t,t.content)}catch(e){c.playerError(t,3,"createContentPlayer gave JS exception: "+e.message,e)}}function d(t){if(!t.closed&&t.contentUrlPlayer)try{t.contentUrlPlayer.showContent()}catch(e){c.playerError(t,3,"showContent gave JS exception: "+e.message,e)}}Object.defineProperty(e,"__esModule",{value:!0});var u=i(0),c=i(6),h=i(4),p=i(13),f=i(5),A=i(26),v=i(19),g=i(7),m=function(){function t(t,e){var i=this;this.currentVideoIndex=0,this.volume=.8,this.muted=!0,this.controlBar=!1,this.loop=!1,this.visible=!0,this.started=!1,this.paused=!1,this.variantsList=[],this.selectedVariant=0,this.variantSearchPattern=/(?=\.mp4$)/,this.onLoadedMetaData=function(){i.savedTime&&(i.video.currentTime=i.savedTime,i.savedTime=null)},this.onCanplay=function(){i.paused||i.hideSpinner();var t=A.jsvCanvas(i.video);return t&&(t.style.width="100%",t.style.height="0",setTimeout(function(){t.style.height="100%"},0),i.paused&&i.pauseContent()),!0},this.onPlaying=function(){i.hideSpinner(),i.poster&&i.removePoster()},this.onPlay=function(){f.resumePlayingPlayer(i.players,"content"),i.started?i.paused&&(u.debugLog(i.players,"got content resumed callback",!0),f.notifyApi(i.players,null,"content.resumed"),i.paused=!1):(i.started=!0,i.paused=!1,f.notifyApi(i.players,null,"content.started"))},this.onEnded=function(){var t={src:i.video.src,withErrors:!1,listCompleted:!1,loopCompleted:!1};i.nextVideo(t)||p.contentEnded(i.players),f.notifyApi(i.players,null,"content.completed",t)},this.onError=function(t){var e=A.videoErrorMessage(t.currentTarget);f.notifyApi(i.players,null,"content.completed",{src:i.video.src,withErrors:!0,errorMsg:e}),u.debugLog(i.players,"Error loading content video: "+i.getUrl()+" msg:"+e,!1)},this.onPause=function(){i.video.duration>0&&i.video.duration>i.video.currentTime&&(i.paused||(u.debugLog(i.players,"got content paused callback",!1),f.notifyApi(i.players,null,"content.paused"),i.paused=!0),i.callPauseTimer=setTimeout(function(){f.pausePlayingPlayer(i.players,"content")},i.players.info.mobile?1e3:0))},this.onVolumeChange=function(){u.debugLog(i.players,"got content volumeChange callback",!1),f.setPlayerVolume(i.players,i.video.volume,i.video.muted)},this.onSeeked=function(){0==i.video.currentTime||A.jsvCanvas(i.video)||(u.debugLog(i.players,"got content seek callback",!1),f.notifyApi(i.players,null,"content.seeked",{time:i.video.currentTime}))},this.onClick=function(){i.clickUrl&&(f.notifyApi(i.players,null,"click",{url:i.clickUrl}),window.open(i.clickUrl,"_blank"),c.logEvent(i.players,c.CEDATO_EVENT.E_CONTENT_CLICK,{url:i.clickUrl}))},this.players=t,this.protocol=t.protocol,this.clickUrl=e.video.clickUrl,null!=e.video.shuffle&&(this.shuffle=e.video.shuffle),null!=e.video.loop&&(this.loop=e.video.loop),this.setContentUrls(e.video.url),this.posterUrl=e.image.url,this.posterPosition=e.image.position,e.variants&&!A.JSV(t)&&(this.variantsList=e.variants.list||this.variantsList,this.selectedVariant=e.variants.selected||this.selectedVariant,this.variantSearchPattern=e.variants.searchPattern||this.variantSearchPattern),this.paused=t.preRoll>0,this.volume=t.volume,this.muted=t.mainAutoplay&&t.muteToPlay||t.muted,this.controlBar=e.video.controlBar&&!t.controlBarType,this.create()}return t.prototype.create=function(){this.container=document.createElement("div"),v.assignClass(this.container,v.cssClass("content_container")),this.players.divElem&&this.players.divElem.appendChild(this.container),this.container.addEventListener("click",this.onClick),this.video=A.createVideoElement(this.players),this.setVideoSrc(),this.video.controls=this.controlBar,this.video.autoplay=this.players.mainAutoplay&&!this.paused,this.video.loop=!1,this.video.preload="auto",this.video.muted=this.muted,this.video.volume=this.volume,v.assignClass(this.video,v.cssClass("content_video")),this.video.addEventListener("loadedmetadata",this.onLoadedMetaData),this.video.addEventListener("canplay",this.onCanplay),this.video.addEventListener("play",this.onPlay),this.video.addEventListener("playing",this.onPlaying),this.video.addEventListener("pause",this.onPause),this.video.addEventListener("ended",this.onEnded),this.video.addEventListener("error",this.onError),this.video.addEventListener("seeked",this.onSeeked),this.video.addEventListener("volumechange",this.onVolumeChange),this.container&&this.container.appendChild(this.video),this.posterUrl&&this.createPoster()},t.prototype.setVideoSrc=function(t,e){void 0===t&&(t=0),this.currentVideoIndex=t;var i=this.contentUrlList[this.currentVideoIndex];i&&this.variantsList[this.selectedVariant]&&(i=i.replace(this.variantSearchPattern,this.variantsList[this.selectedVariant].file)),i&&(A.setVideoSrc(this.players,this.video,i,!0),e&&!this.paused?this.playContent(e):this.video.autoplay=!1)},t.prototype.createPoster=function(){this.poster=document.createElement("div"),v.assignClass(this.poster,v.cssClass("content_poster")),this.container&&this.container.appendChild(this.poster),this.setContentImage(this.posterUrl,this.posterPosition)},t.prototype.removePoster=function(){this.poster&&this.poster.parentNode&&this.poster.parentNode.removeChild(this.poster),this.poster=null},t.prototype.createSpinner=function(){this.spinner=document.createElement("div"),v.assignClass(this.spinner,v.cssClass("spinner")),this.container&&this.container.appendChild(this.spinner)},t.prototype.showSpinner=function(){this.spinner||this.createSpinner(),this.spinner.style.display=""},t.prototype.hideSpinner=function(){this.spinner&&(this.spinner.style.display="none")},t.prototype.nextVideo=function(t){var e=this;return void 0===t&&(t={}),this.started=!1,this.currentVideoIndex<this.contentUrlList.length-1?(this.setVideoSrc(this.currentVideoIndex+1,!0),!0):(t.listCompleted=!0,this.loop?(1==this.contentUrlList.length?(this.video.currentTime=0,setTimeout(function(){return e.video.play()},0)):this.setVideoSrc(0,!0),!0):(t.loopCompleted=!0,!1))},t.prototype.playContent=function(t){try{(t||!this.started&&!this.players.frozen)&&this.showSpinner(),this.video&&this.video.src&&h.validateVideoStart(this.players,this.video,this.video.play(),"content")}catch(t){}},t.prototype.unlock=function(){this.video&&this.video.paused&&this.video.load()},t.prototype.pauseContent=function(){this.video&&this.video.pause()},t.prototype.showContent=function(){this.container&&!this.visible&&(this.visible=!0,this.container.style.zIndex="10001",this.container.style.display="",this.playContent())},t.prototype.hideContent=function(){this.container&&this.visible&&(this.visible=!1,this.container.style.zIndex="1",this.container.style.display="none",this.hideSpinner(),this.pauseContent())},t.prototype.setContentUrls=function(t,e){var i=t?"string"==typeof t?t.split(","):t:[];this.shuffle&&(i=g.shuffleArray(i)),this.contentUrlList=i,this.video&&(e&&(this.savedTime=this.video.currentTime),this.setVideoSrc(0,!0))},t.prototype.setContentVariant=function(t){null!=t&&this.selectedVariant!==t&&(this.savedTime=this.video.currentTime,this.selectedVariant=t,this.setVideoSrc(this.currentVideoIndex,!0))},t.prototype.setContentImage=function(t,e){this.poster.style.backgroundImage="url("+t+")",e&&(this.poster.style.backgroundSize=e)},t.prototype.seekContent=function(t){this.video&&(this.video.currentTime=t)},t.prototype.isVisible=function(){return this.visible},t.prototype.removeContent=function(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)},t.prototype.setVolume=function(t,e){this.video&&(void 0!==e&&this.video.muted!==e&&(this.muted=e,this.video.muted=e),this.video.volume!==t&&(this.volume=t,this.video.volume=t))},t.prototype.getUrl=function(){return this.contentUrlList.length>0?this.contentUrlList[this.currentVideoIndex]:""},t.prototype.getHTMLVideoElement=function(){return this.video&&!A.jsvCanvas(this.video)?this.video:null},t.prototype.getProgress=function(){var t=this.video.duration;return{time:Math.min(this.video.currentTime,t),duration:t}},t}();e.ContentElement=m,e.initContent=r,e._setContentUrls=n,e._setContentVariant=a,e._setContentImage=s,e._seekContent=o,e.createContentPlayer=l,e.showContent=d},function(t,e,i){"use strict";e.__esModule=!0;var r=function(){function t(t){this.msec=t}return t.delay=function(e,i){void 0===e&&(e=0);var r="number"==typeof e?e:0,n="function"==typeof e?e:i;return new t(r).start(n)},t.Seconds=function(e){return new t(1e3*e)},t.Minutes=function(e){return new t(60*e*1e3)},t.prototype.cancel=function(){this.resolve=null,this.pause()},t.prototype.start=function(t){this.cancel();var e=this.hold(t);return this.timerId=setTimeout(this.resolve,this.msec),e},t.prototype.pause=function(){null!=this.timerId&&(clearTimeout(this.timerId),this.timerId=null)},t.prototype.hold=function(e){var i=this,r=new t.Promise(function(t){i.resolve=t});return e?r.then(e):r},t.prototype.rewind=function(t){this.pause(),this.resolve&&(this.timerId=setTimeout(this.resolve,null!=t?t:this.msec))},t.prototype.trigger=function(){this.resolve&&this.resolve(),this.cancel()},t.Promise=window.Promise,t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(14),n=i(10),a=function(){function t(t){var e=this;this.commId=t,this.eventEmitter=new r.EventEmitter2({wildcard:!0,maxListeners:20}),this.ready=function(){return e.readyPromise}}return t.prototype.swfParams=function(){return"&commId="+this.commId+"&bridge="+t.bridgeName},t.prototype.reverseConnect=function(e,i){this.swfInstance=e,this.swfFunc=i,t.swfs[this.commId]=this},t.prototype.handshake=function(e,i){var r=this;return this.swfInstance=e,t.swfs[this.commId]=this,this.readyPromise=new n.Promise(function(t,e){r.emitter().once("handshake",function(e){var i=e.swfFunc,n=void 0===i?"":i;r.swfFunc=n,clearTimeout(r.readyWatingTimeout),t(r)}),r.readyWatingTimeout=setTimeout(function(){return e("Timeout")},i||15e3)})},t.prototype.call=function(t,e){if(null!=e&&"object"!=typeof e&&(e={uniqId:e}),this.swfInstance&&this.swfFunc&&this.swfInstance[this.swfFunc])return this.swfInstance[this.swfFunc](t,e)},t.prototype.emitter=function(){return this.eventEmitter},t.Bridge=function(e,i,r){var n=t.swfs[e];n&&n instanceof t&&n.emitter().emit(i,r)},t.globalInit=function(e){var i=e||1e5*Math.random()|0;t.bridgeName=t.BridgeName+i,window[t.bridgeName]=t.Bridge},t.swfs={},t.BridgeName="CEDATO_FLASHBRIDGE",t.bridgeName="",t}();e.FlashInterface=a},function(t,e,i){"use strict";function r(t,e,i){void 0===i&&(i=document);var r=null;return n(t)?(r=t.JSV.createVideoElement(),r.setAttribute("preload","auto"),r.proxyUrl=e):(r=i.createElement("video"),r.muted=t.mainAutoplay&&t.muteToPlay||t.muted,r.volume=t.volume,r.playsInline=!0),r}function n(t){return!t.hasVideoSupport||t.usejsv&&t.mainAutoplay}function a(t){return t&&t.canvas}function s(t,e,i,r){if(void 0===r&&(r=!1),e&&i)if(a(e)){var i=l.getVprUrl(i,t,r&&"c");e.setAttribute("src",i)}else e.src=l.upgradeProtocol(t.protocol,i)}function o(t){var e=t.error,i="";switch(e.code){case e.MEDIA_ERR_ABORTED:i="Video playback aborted.";break;case e.MEDIA_ERR_NETWORK:i="A network error caused the video download to fail part-way.";break;case e.MEDIA_ERR_DECODE:i="The video playback was aborted due to a corruption problem or because the video used features your browser did not support.";break;case e.MEDIA_ERR_SRC_NOT_SUPPORTED:i="The video could not be loaded, either because the server or network failed or because the format is not supported.";break;default:i="An unknown error occurred."}return i}Object.defineProperty(e,"__esModule",{value:!0});var l=i(3);e.createVideoElement=r,e.JSV=n,e.jsvCanvas=a,e.setVideoSrc=s,e.videoErrorMessage=o},function(t,e,i){"use strict";function r(t,e,i){return function(r){var a=(new Date).getTime().toFixed(0);r=r.replace(/\[(CB|CACHE_BUSTER|CACHEBUSTING)\]/g,a),r=r.replace(/\[(DIVID|CONTAINER_ID)\]/g,t.rootDivElem?t.rootDivElem.id:t.divId).replace(/\[(WIDTH|CONTAINER_WIDTH)\]/g,t.width.toFixed(0)).replace(/\[(HEIGHT|CONTAINER_HEIGHT)\]/g,t.height.toFixed(0)),t.info&&(r=r.replace(/\[DEVICEOS\]/gi,encodeURIComponent(t.info.os)),r=r.replace(/\[DEVICEOSV\]/gi,encodeURIComponent(t.info.osv)),r=r.replace(/\[DEVICEMAKE\]/gi,encodeURIComponent(t.info.make)),r=r.replace(/\[DEVICEMODEL\]/gi,encodeURIComponent(t.info.model))),r=r.replace(/\[UA\]/g,encodeURIComponent(navigator.userAgent)),r=r.replace(/\[SUPPLY_ID\]/g,t.playerId).replace(/\[PLAYER_ID\]/g,t.playerId).replace(/\[SUBID\]/g,encodeURIComponent(t.subid)).replace(/\[PAGE_TITLE\]/g,encodeURIComponent(t.pageTitle)).replace(/\[URL\]/g,encodeURIComponent(t.domain)).replace(/\[URL_DETECTED\]/g,encodeURIComponent(t.domainDetected)),t.appParams&&(r=r.replace(/\[APP_NAME\]/g,encodeURIComponent(t.appParams.appn)).replace(/\[APP_BUNDLE\]/g,encodeURIComponent(t.appParams.appb)));var s=t.contentUrlPlayer?t.contentUrlPlayer.getUrl():"",o=n.hashCode(s||""+t.playerId+t.subid).toFixed(0);if(r=r.replace(/\[VIDEO_DESCRIPTION\]/g,"Entertainment").replace(/\[VIDEO_TITLE\]/g,"Entertainment").replace(/\[VIDEO_ID\]/g,o).replace(/\[VIDEO_DURATION\]/g,"00:30:00").replace(/\[VIDEO_KEYWORDS\]/g,"Entertainment").replace(/\[VIDEO_FILE_URL\]/g,encodeURIComponent(s)).replace(/\[AUTOPLAY\]/g,"1").replace(/\[MUTED\]/g,"1"),t.customParams)for(var l=0;l<t.customParams.length;l++){var d=t.customParams[l];void 0!==d&&(r=r.replace(new RegExp("\\[CUSTOM"+l+"\\]","g"),encodeURIComponent(d)))}if(i&&(r=r.replace(/\[CLICK_URL\]/g,encodeURIComponent(i.clickUrl))),e){r=r.replace(/\[ROUND_NO\]/g,e.totalRoundNo.toFixed());var u=e.playerId,c=e.cxvid||e.vastId,h=e.vastId;r=r.replace(/\[XSUPPLY_ID\]/g,u).replace(/\[DEMAND_ID\]/g,c).replace(/\[XDEMAND_ID\]/g,h),e.customVars&&(r=r.replace(/\[XRPM\]/g,e.customVars.rpm||"").replace(/\[RPM\]/g,(e.cxvid?e.customVars.cx_rpm:e.customVars.rpm)||""))}if(t.customVars)for(var p in t.customVars)t.customVars.hasOwnProperty(p)&&(r=r.replace(new RegExp("\\["+p+"\\]","g"),encodeURIComponent(t.customVars[p])));return r}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(7);e.macros=r},function(t,e,i){"use strict";function r(t,e){if(e.durationKnown)c.debugLogVast(t,e,"playPlayer: has already known duration of: "+e.duration,!1);else if("flvpaid"==e.adType||"jsvpaid"==e.adType)e.duration=60,c.debugLogVast(t,e,"playPlayer: no known duration, setting to 60",!1);else if("video"==e.adType){e.durationKnown=!0;try{e.duration=e.videoElement.duration}catch(t){}c.debugLogVast(t,e,"playPlayer: duration taken from video element: "+e.duration,!1)}}function n(t,e){e.skipVastTracker?c.debugLogVast(t,e,"playPlayer: no need for our vastTracker",!1):(c.debugLogVast(t,e,"playPlayer: initializing vastTracker",!1),null==e.creative.trackingEvents?(e.creative.trackingEvents=[],c.debugLogVast(t,e,"added trackingEvents",!1)):c.debugLogVast(t,e,"had trackingEvents",!1),e.vastTracker=new t.DMVAST.tracker(e.ad,e.creative),c.debugLogVast(t,e,"playPlayer: vastTracker set",!1),!e.durationKnown&&e.vastTracker.duration&&e.vastTracker.duration>0&&(e.duration=e.vastTracker.duration,c.debugLogVast(t,e,"playPlayer: duration from tracker: "+e.duration,!1)),e.vastTracker.playerId=t.playerId,e.vastTracker.subid=t.subid,e.vastTracker.domain=t.domain,e.vastTracker.vastId=e.vastId,e.vastTracker.duration=e.duration,e.vastTracker.setDuration(e.duration),e.vastTracker.on("clickthrough",function(t){e.adClickUrl=t}))}function a(t,e){t.parallelStartAd&&e.state==d.PlayerDataState.Started&&e.startAdHalfTimeout.start(function(){c.debugLogVast(t,e,"half stopper point, starting more if ready",!1),v.playNext(t)})}function s(t,e){e.state==d.PlayerDataState.Started&&e.startAdTimeout.start(function(){f.stopPlayerData(t,e),h.vastError(t,e.vastId,h.VAST_ERROR.GAVE_UP_ON_AD_START,"gave up on startAd",null,e,t.parallelStartAd),u.finishPlayerData(t,e,d.TerminateReason.START_AD_TIMEOUT),v.playNext(t)})}function o(t,e){var i=e.loadAdTimer?Math.min(e.loadAdTimer,t.loadAdTimer):t.loadAdTimer;e.loadAdTimeout=y.default.Seconds(i),e.loadAdTimeout.start(function(){m.clientLogLoadAdStopper(t,e),h.vastError(t,e.vastId,h.VAST_ERROR.GAVE_UP_ON_AD_LOAD,"gave up on loadAd",null,e,!1),u.finishPlayerData(t,e,d.TerminateReason.LOAD_AD_TIMEOUT)})}function l(t,e){if("function"==typeof t.playPlayer)return t.playPlayer(e);try{c.debugLogVast(t,e,"playPlayer",!1),c.debugLogVast(t,e,"playPlayer: hiding all another vasts",!0);for(var i=0,a=t.plist.length;i<a;i++)t.plist[i].vastId==e.vastId&&t.plist[i].uniqId==e.uniqId||t.parallelStartAd&&t.plist[i].state==d.PlayerDataState.Started||f.hidePlayerData(t,t.plist[i]);r(t,e),n(t,e),t.scheduledPixelSent||(c.debugLogVast(t,e,"playPlayer: first play - logging scheduled pixel",!1),t.scheduledPixelSent=!0,g.logEvent(t,g.CEDATO_EVENT.E_SCHEDULED,{},{})),c.debugLogVast(t,e,"playPlayer: playing media",!1),t.parallelStartAd||p.logVastRequest(t,e),e.adImpressionCount=0,e.gotLastAdImpressionOn=null,e.adStartCount=0,e.startAdTime=(new Date).getTime(),e.state=d.PlayerDataState.Started,A.notifyApi(t,e,"adstartreq"),c.debugLogVast(t,e,"startAd called",!1);var s=void 0;try{s=e.startAd()}catch(i){s=i.message,c.debugLogVast(t,e,"startAd gave exception on "+e.adType+" startAd: "+i.message,!1)}return s?(h.vastError(t,e.vastId,h.VAST_ERROR.PROCESS_ERROR,"startAd failed - "+s,null,e,t.parallelStartAd),u.finishPlayerData(t,e,d.TerminateReason.START_AD_ERROR)):c.debugLogVast(t,e,"playPlayer: done",!1),!s}catch(i){h.vastError(t,e.vastId,h.VAST_ERROR.JS_EXCEPTION,"playPlayer issue: ",i,e)}return!1}Object.defineProperty(e,"__esModule",{value:!0});var d=i(1),u=i(8),c=i(0),h=i(2),p=i(11),f=i(9),A=i(5),v=i(13),g=i(6),m=i(4),y=i(24);e.initStartAdHalfStopper=a,e.initStartAdStopper=s,e.initLoadAdStopper=o,e.playPlayer=l},function(t,e,i){"use strict";function r(t){if(!t)return!1;var e={algovid:t.indexOf("algovid"),cedatoplayer:t.indexOf("cedato_player"),vpaid:t.indexOf("cedato_vpaid")};return!((-1===e.algovid||e.algovid>18)&&-1===e.cedatoplayer||-1!==e.vpaid)}function n(t){for(var e,i=document.getElementsByTagName("script"),n=i.length-1;n>=0;n--){var a=i[n];if(r(a.src)&&(e||(e=a),t&&-1!==a.src.indexOf("cb="+t)))return a}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.checkIndexes=r,e.getScriptTag=n},function(t,e,i){"use strict";function r(t){if(!t.p)return null;var e=new l.Players,i=t.p,r=[];r.push(i),-1!==i.indexOf(",")&&(r=i.split(","),i=r[0]);var h;t.d&&(h=t.d);var p;p=t.cb?t.cb:"";var f;f=t.did?t.did:p?"video"+i+p:"video"+i;var A,v="111.08";t.pv?A=t.pv:t.playerVersion&&(A=t.playerVersion),!v&&A&&(v=A);var g="s2.algovid.com";t.mid&&(g=t.mid);var m=t.sd;m||(m=g.split(".").slice(1).join(".")||"algovid.com"),g.indexOf(".")<0&&(g=[g,m].join("."));var y="cedato_3.2.4.swf";t.swfUrl&&(y=t.swfUrl);void 0!==t.ruv&&t.ruv;var b=!0,E=!1;0==t.ap&&(b=!1,E=!0),c.assign(e,{keepDetailedDebugLog:3==c.number(t.sl),logDebugToConsole:2==c.number(t.cnl),keepDebugLog:2==c.number(t.sdl),logVastResponse:c.boolean(t.lvr,!1),singleVPW:c.boolean(t.sv,!0),sessionId:t.se||o(),width:c.number(t.w,300),height:c.number(t.h,250),subid:t.sid||"",flashCallingVpaid:c.string(t.ob),jsCallingVpaid:c.string(t.job)}),a(e,t);var T,_=!1,R=[];1==t.app&&(_=!0);var L={d:!0,sid:!0,did:!0,p:!0,cb:!0,playerVersion:!0,mid:!0,cnl:!0,sv:!0,ap:!0,sdl:!0,se:!0,w:!0,h:!0,lvr:!0,app:!0,jsv:!0,ob:!0,pv:!0};if(_){e.appParams={};var S=["appsu","appidfa","appv","appn","appb","appc","appaid"];for(T in S)S.hasOwnProperty(T)&&(L[S[T]]=!0,t[S[T]]&&(R.push(S[T]+"="+encodeURIComponent(t[S[T]])),e.appParams[S[T]]=t[S[T]]));!t.d&&t.appn&&(h="app://"+encodeURIComponent(t.appn))}var w=_;t.ho&&"1"==t.ho&&(w=!0);var I="",P=[];for(var D in t)if(isNaN(D)&&!L[D]&&t.hasOwnProperty(D)&&(I=I+"&"+D+"="+t[D],"c"==D[0])){var V=parseInt(D.slice(1),10);!isNaN(V)&&V>=1&&V<=6&&(P[V]=t[D])}if(_){var O=R.join("&");O&&(I+="&"+O)}e.isApp=_,e.gpvExtraParams=I,e.customParams=P.length?P:null,e.playerId=i,e.playerIds=r,e.domain=h,e.cacheBuster=p,e.divId=f,e.playerVersion=v,e.isDebugVersion=!1,e.machineId=g,e.serverDomain=m,e.htmlOnly=w,e.autoplayOverwrite=E,e.pageTitle=n(),e.keepDetailedDebugLog&&(e.logDebugToConsole=!0),e.flashCallingVpaid||(e.info=u.getDeviceInfo()),e.autoplay=b;var C=d.getDetectedUrl();e.domain||(e.domain=C),e.domainDetected=d.getHost(C).substr(0,100);var x=c.boolean(t.ssl);return e.protocol=d.getProtocol(x),e.serverHost=function(t){return e.protocol+"//"+(t?t+"."+e.serverDomain:e.machineId)},e.conf.sUrl=e.serverHost("c"),e.conf.flName=y.indexOf("//")>=0?y:e.conf.sUrl+"/player/"+y,e.conf.pJsvUrl=e.conf.sUrl+"/player/jsv_pure_2.js",e.conf.maxDomLoadTimes=60,e.conf.domLoadRetryTimeout=200,e.conf.domLoadInitTimeout=500,(e.logDebugToConsole||e.keepDebugLog)&&(e.debugLogReason="tag"),e.hasVideoSupport=!0,s()||(e.hasVideoSupport=!1),e}function n(){try{var t=window.top.document.title}catch(e){t=document.title}return t||""}function a(t,e){c.assignWhen(c.NotNull,t,{allowLongImpressions:c.boolean(e.ali),allowSound:c.boolean(e.as)||c.maybe(c.boolean(e.muted),function(t){return!t}),blackListName:c.string(e.bl),closeButton:c.boolean(e.scb),controlBar:c.boolean(e.co),controlBarType:c.string(e.cotype),forceJSV:c.boolean(e.jsv),maxAdStarts:c.number(e.mas),maxFailedVastRetries:c.number(e.mvr),maxTotalVastRetries:c.number(e.tvr),observableOnly:c.boolean(e.oo),skipButton:c.boolean(e.ssb),thirdPartyTimeout:c.number(e.tpt),viewableOnStart:c.boolean(e.vos),vpaidInitLimit:c.number(e.vpl),wrapperLimit:c.number(e.wrapLim),sizeTolerance:c.number(e.sizeTol),xhrInterceptEnabled:c.boolean(e.xhri),xhrTraceToConsole:c.boolean(e.xhrt),moat:e.moat})}function s(){try{var t=document.createElement("video");return t.volume=.5,!!t.canPlayType}catch(t){return!1}}function o(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),d=i(3),u=i(49),c=i(16);e.configurePlayer=r,e.readPlayerConfig=a},function(t,e,i){"use strict";function r(t){t.flashSupport&&(t.vpwVersion=2,t.vpwURL=t.conf.flName+"?v=")}function n(t){var e=document.createElement("div");return e.style.position="absolute",e.style.top="-1000px",e.style.zIndex="1",t.divElem.appendChild(e),e}function a(t,e){if(t.singleVPW?(t.flashElementDiv||(t.flashElementDiv=n(t)),e.flashElementDiv=t.flashElementDiv,!t.flashElement&&t.callingFlashObject&&(f.debugLog(t,"single vpw, using calling flash object as vpw",!1),t.flashElement=t.callingFlashObject,t.flashInterface=t.callingFlashInterface),t.flashInterface?(f.debugLogVast(t,e,"single vpw, using player vpw",!1),e.flashElement=t.flashElement,e.flashInterface=t.flashInterface,e.vpwLoaded=!0):e.vpwLoaded=!1):(f.debugLogVast(t,e,"multiple vpw, create new vpw",!1),e.flashElementDiv=n(t)),!e.flashInterface){var i=e.vastId+"-"+Math.floor(1000001*Math.random()),r=document.createElement("div");r.id=i,e.flashElementDiv.appendChild(r),e.flashInterface=new b.FlashInterface(i);var a="vpwid"+Math.floor(1000001*Math.random()),s={data:t.vpwURL+t.vpwVersion,width:t.widthOverwrite||t.width,height:t.heightOverwrite||t.height,name:a},o={flashvars:"?"+e.flashInterface.swfParams(),allowScriptAccess:"always",wmode:"opaque"};f.debugLogVast(t,e,"vpw url: "+s.data,!1),e.flashElement=t.SwfObject.createSWF(s,o,i),t.singleVPW&&(t.flashElement=e.flashElement,t.flashInterface=e.flashInterface);var l=(new Date).getTime();e.flashInterface.handshake(e.flashElement,3e4).then(function(){e.vpwLoaded=!0,u(t,e.flashInterface),f.debugLogVast(t,e,"flash loaded",!1)},function(){return f.debugLogVast(t,e,"flash handshake failed",!1)}).then(function(){if(t.reportVPWLoaded&&!t.anyVPWLoadedReport){t.anyVPWLoadedReport=!0;var i=((new Date).getTime()-l)/1e3;f.debugLog(t,"vpws - reporting state:"+e.vpwLoaded,!1),m.logVastEvent(t,m.CEDATO_EVENT.E_VPWS,e,{time:i.toFixed(1),state:+e.vpwLoaded})}})}null===e.flashElement&&A.playerError(t,4,"failed to create flash element")}function s(t,e){if(t.urlReplacer&&t.urlReplacer.vastId==e.vastId&&-1!=e.mediaURL.indexOf(t.urlReplacer.searchFor)&&(e.mediaURL=t.urlReplacer.replaceWith+e.mediaURL.substr(e.mediaURL.indexOf("?")),f.debugLogVast(t,e,"initMediaLoad: replace flvpaid url according to gpv, actual url "+e.mediaURL,!1)),_.isBlocked(t.blacklist,e.mediaURL,"swf"))return void p.finishPlayerData(t,e,h.TerminateReason.IS_BLOCKED);try{-1!==e.mediaURL.indexOf("[[IMPORT]]")&&(e.mediaURL=e.mediaURL.replace("[[IMPORT]]",t.protocol+"/")),e.flashInterface.call("vpwLoadAd",{uniqId:e.uniqId,mediaURL:v.upgradeProtocol(t.protocol,e.mediaURL),isIMA:e.isIMA,allowSound:t.AllowedSound(),width:t.widthOverwrite||t.width,height:t.heightOverwrite||t.height})}catch(i){return g.vastError(t,e.vastId,g.VAST_ERROR.PROCESS_ERROR,"vpwLoadAd exception - initMediaLoad: "+i.message,null,e),void p.finishPlayerData(t,e,h.TerminateReason.FLASH_FAILURE)}}function o(t,e){if(e.flashElement)try{t.SwfObject.removeSWF(e.flashElement.id)}catch(t){}if(e.flashElementDiv)try{e.flashElementDiv.parentNode.removeChild(e.flashElementDiv),e.flashElementDiv.innerHTML="",e.flashElementDiv=null}catch(e){f.debugLog(t,"removeFunc gave exception: "+e.message,!1)}}function l(t,e){if(!t.singleVPW&&e.flashElementDiv&&(e.flashElementDiv.style.zIndex="0"),e.flashInterface)try{f.debugLogVast(t,e,"clearAd called (destroyPlayerDataFlash)",!1),e.flashInterface.call("clearAd",e.uniqId)}catch(e){f.debugLog(t,"clearAd gave exception: "+e.message,!1)}if(!t.singleVPW){var i=e.state<h.PlayerDataState.Ready?1e3:1e4;setTimeout(function(){return o(t,e)},i)}}function d(t,e,i){var r=t.getPlayerDataByUniq(e);return r||f.debugLog(t,"got "+i+" callback for a gone uniq",!1),r}function u(t,e){var i={success:y.LoadedFunc,failure:y.FailureHandler,ad_loaded:y.AdLoadedHandler,ad_started:y.AdStartedHandler,ad_stopped:y.AdStoppedHandler,ad_impression:y.AdImpressionHandler,ad_video_start:y.AdVideoStartHandler,ad_first_quartile:y.AdFirstQuartileHandler,ad_midpoint:y.AdMidpointHandler,ad_third_quartile:y.AdThirdQuartileHandler,ad_complete:y.AdCompleteHandler,ad_paused:y.AdPausedHandler,ad_playing:y.AdPlayingHandler,ad_volume_change:y.AdVolumeChangeHandler,ad_size_change:y.AdSizeChangeHandler,ad_clickthrough:y.AdClickthruHandler,ad_error:y.AdErrorHandler,ad_skipped:y.AdSkippedHandler,ad_duration_change:y.AdDurationChangeHandler,ad_remaining_time_change:y.AdRemainingTimeChangeHandler,ad_skippable_state_change:y.AdSkippableStateChangeHandler,ad_linear_change:y.AdLinearChangeHandler,ad_expanded_change:y.AdExpandedChangeHandler,ad_interaction:y.AdInteractionHandler,ad_user_accept_invitation:y.AdUserAcceptInvitationHandler,ad_user_minimize:y.AdUserMinimizeHandler,ad_user_close:y.AdUserCloseHandler,ad_log:y.AdLogHandler};e.emitter().on("*",function(e){var r=this.event,n=i[r];if(n){var a=d(t,e.uniqId,r);if(a){var s=r.replace(/(_|^)([a-z])/g,function(t,e,i){return i.toUpperCase()});setTimeout(function(){try{n(t,a,e)}catch(e){g.vastError(t,a.vastId,g.VAST_ERROR.JS_EXCEPTION,"flash "+r+"callback gave JS exception: ",e,a)}},a.delay[s]||0)}}}),e.emitter().on("failure",function(e){setTimeout(function(){try{var i=d(t,e.uniqId,"failure");if(!i)return;var r=i.vastId,n=e.errorCode,a=e.errorMessage;-1!=a.indexOf("#2035")&&(n=g.VAST_ERROR.VPAIDFLV_NO_URL,a="URL not found"),-1!=a.indexOf("#2036")&&(n=g.VAST_ERROR.VPAIDFLV_LOAD,a="Load not completed"),g.vastError(t,r,n,"flash failure called: "+a,null,i,!1,!0),p.finishPlayerData(t,i,h.TerminateReason.FLASH_FAILURE,n,a)}catch(e){g.vastError(t,i.vastId,g.VAST_ERROR.JS_EXCEPTION,"flash failure callback gave JS exception: ",e,i)}},0)}),e.emitter().on("ad_set_companions",function(e){setTimeout(function(){try{var i=d(t,e.uniqId,"ad_set_companions");if(!i)return;f.debugLogVast(t,i,"got flash set companions HTML callback",!1),i.companionHTML=e.companionHTML,i.companionHTML&&i.companionsElementDiv&&(i.companionsElementDiv.innerHTML=i.companionHTML)}catch(e){g.vastError(t,i.vastId,g.VAST_ERROR.JS_EXCEPTION,"flash ad_set_companions callback gave JS exception: ",e,i)}},0)})}var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var h=i(1),p=i(8),f=i(0),A=i(6),v=i(3),g=i(2),m=i(11),y=i(21),b=i(25),E=i(22),T=i(28),_=i(18);e.preparePreVPW=r,e.createFlashElement=a,e.loadFlashVpaid=s,e.destroyPlayerDataFlash=l,e.subscribeFlashEvents=u;var R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.fetchAdUrl=function(e){var i=this;if(this.isIMA)if(this.state=h.PlayerDataState.Fetched,this.skipVastTracker=!0,this.vastPreferType==g.vastPreferType.VIDEO_ONLY||this.players.observableOnly)g.vastError(this.players,this.vastId,g.VAST_ERROR.NO_SUITABLE_MEDIA,"no suitable media: "+this.adType,null,this,!1,!0),p.finishPlayerData(this.players,this,h.TerminateReason.NO_SUITABLE_MEDIA);else{var r=this.players.debug.delayReply||this.delay.Reply;r?setTimeout(function(){return i.initMedia()},r):this.initMedia()}else t.prototype.fetchAdUrl.call(this,e)},e.prototype.initMedia=function(){var e=this;return y.setThirdPartyTimeout(this.players,this),T.initLoadAdStopper(this.players,this),t.prototype.initMedia.call(this).then(function(){e.flashInterface&&e.flashInterface.ready().then(function(){e.initCompanion(),e.vpwLoaded&&(f.debugLogVast(e.players,e,"initMedia: flash is ready - continue loading flvpaid",!0),s(e.players,e)),f.debugLogVast(e.players,e,"initMedia: done",!0)},function(){f.debugLogVast(e.players,e,"initMedia: flash communication failure",!0)})})},e.prototype.initAd=function(){if(this.isIMA&&this.onAdResponse(),"string"!=typeof this.adParameters&&(this.adParameters=""),"1"!=this.flashInterface.call("vpwInitAd",{uniqId:this.uniqId,adParameters:this.adParameters}))return this.getError()},e.prototype.startAd=function(){this.players.callingFlashObject&&(this.players.divElem.style.display="none"),this.flashElementDiv.style.zIndex="9999",this.flashElementDiv.style.position="relative",this.flashElementDiv.style.left="0px",this.flashElementDiv.style.top="0px",this.players.rootDivElem.style.top="0px",this.vpaidPlaying=!0;var t;return this.flashInterface&&(this.setAdVolume(this.players.volume,this.players.muted),t=this.flashInterface.call("vpwStartAd",{uniqId:this.uniqId,allowSound:!this.players.muted&&this.players.volume>0,width:this.players.widthOverwrite||this.players.width,height:this.players.heightOverwrite||this.players.height})),"1"!=t?this.getError():(this.sureFastStart=this.expectedSureFastStart,T.initStartAdHalfStopper(this.players,this),T.initStartAdStopper(this.players,this),!1)},e.prototype.getError=function(){try{return this.flashInterface.call("getLastError",this.uniqId)}catch(t){return"getLastError gave exception: "+t.message}},e.prototype.pauseAd=function(){this.flashInterface&&this.flashInterface.call("vpwPauseAd",this.uniqId)},e.prototype.resumeAd=function(){this.flashInterface&&this.flashInterface.call("vpwResumeAd",this.uniqId)},e.prototype.stopAd=function(){this.flashInterface&&this.flashInterface.call("vpwStopAd",this.uniqId)},e.prototype.showAd=function(){this.players.singleVPW||(this.flashElementDiv.style.zIndex="10000",this.flashElementDiv.style.position="absolute",this.flashElementDiv.style.left="0px")},e.prototype.hideAd=function(){this.flashElementDiv&&!this.players.singleVPW&&(this.flashElementDiv.style.zIndex=(-1-this.uniqId).toString())},e.prototype.clearAd=function(){l(this.players,this)},e.prototype.resizeAd=function(t,e,i){this.flashInterface&&this.flashInterface.call("vpwResizeAd",{uniqId:this.uniqId,width:t,height:e,viewMode:i})},e.prototype.setAdVolume=function(t,e){this.flashInterface&&this.flashInterface.call("vpwVolume",{uniqId:this.uniqId,volume:e?0:t})},e.prototype.getProgress=function(){return null},e}(E.PlayerDataVast);e.PlayerDataVpaidFlash=R},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=i(8),s=i(3),o=i(17),l=i(7),d=i(9),u=i(0),c=i(21),h=i(2),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.debugLogVast(this.players,this,"[SpotxSDK] "+t,!1,e)},e.getChannelId=function(t){var e=t.split("//");return-1!==t.indexOf("spotx://")?+e[1]:null},e.prototype.fetchAdUrl=function(){this.state=n.PlayerDataState.Fetched,this.skipVastTracker=!0,this.vastPreferType==h.vastPreferType.VIDEO_ONLY||this.players.observableOnly?(h.vastError(this.players,this.vastId,h.VAST_ERROR.NO_SUITABLE_MEDIA,"no suitable media: "+this.adType,null,this,!1,!0),a.finishPlayerData(this.players,this,n.TerminateReason.NO_SUITABLE_MEDIA)):this.initMedia()},e.prototype.initMedia=function(){var e=this;return t.prototype.initMedia.call(this).then(function(){e.spotxElementDiv=d.createAdContainer(e.channelId),e.videoElement=document.createElement("video"),e.videoElement.style.width="100%",e.videoElement.style.height="100%",e.spotxElementDiv.appendChild(e.videoElement),e.players.divElem.appendChild(e.spotxElementDiv),e.slot=e.spotxElementDiv,e.video_slot=e.videoElement,e.protocol=e.players.protocol,e.hide_skin=!1,e.autoplay=e.players.info.mobile&&e.players.mainAutoplay,e.handlers={AdLoaded:c.AdLoadedHandler,AdStarted:c.AdStartedHandler,AdStopped:c.AdStoppedHandler,AdSkipped:c.AdSkippedHandler,AdImpression:c.AdImpressionHandler,AdVideoStart:c.AdVideoStartHandler,AdVideoFirstQuartile:c.AdFirstQuartileHandler,AdVideoMidpoint:c.AdMidpointHandler,AdVideoThirdQuartile:c.AdThirdQuartileHandler,AdVideoComplete:c.AdCompleteHandler,AdClickThru:c.AdClickthruHandler,AdUserMinimize:c.AdUserMinimizeHandler,AdUserClose:c.AdUserMinimizeHandler,AdPaused:c.AdPausedHandler,AdPlaying:c.AdPlayingHandler,AdError:c.AdErrorHandler,AdSizeChange:c.AdSizeChangeHandler,AdRemainingTimeChange:c.AdRemainingTimeChangeHandler,AdVolumeChange:c.AdVolumeChangeHandler},e.init(),u.debugLogVast(e.players,e,"initMedia: done",!0)})},e.prototype.init=function(){var t=this;if(this.log("initing ..."),"undefined"==typeof SpotX)return this.log("injecting script"),l.injectScriptOnce("spotx-direct-ados-sdk",function(){return s.changeProtocol(t.protocol,"http://js.spotx.tv/directsdk/v1/"+t.channelId+".js")},function(){t.callSdkResponse()});this.callSdkResponse()},e.prototype.adError=function(t){this.state=n.PlayerDataState.Started,c.AdErrorHandler(this.players,this,{errorMsg:t})},e.prototype.callSdkResponse=function(){var t=this;setTimeout(function(){t.onAdResponse()?c.LoadedFunc(t.players,t):t.adError("spotx initAd error")},this.players.debug.delayReply||this.delay.Reply||0)},e.prototype.initAd=function(){this.log("initAd called"),this.autoplay&&(this.disableSameVastPrefetch=!0),this.sdk=new SpotX.DirectAdOS({channel_id:this.channelId,slot:this.slot,video_slot:this.video_slot,hide_skin:this.hide_skin,autoplay:this.autoplay,ad_mute:this.autoplay&&this.players.muteToPlay||this.players.muted,ad_volume:this.players.volume}),this.subscribe(),this.autoplay?c.AdLoadedHandler(this.players,this):this.loadAd()},e.prototype.loadAd=function(){var t=this;this.log("loadAd called"),this.sdk?this.sdk.loadAd().then(function(){t.log("loadAd success")},function(){t.log("loadAd failed"),t.adError("spotx loadAd failed")}):(this.log("SDK not initialized"),this.adError("spotx SDK not initialized"))},e.prototype.subscribe=function(){var t=this;this.sdk.eachVPAIDEvent(function(e){t.sdk.subscribe(function(){"AdRemainingTimeChange"!=e&&t.log(e+" fired");var i=t.handlers[e];i&&setTimeout(function(){if("AdRemainingTimeChange"==e)i(t.players,t,0);else if("AdStarted"==e)t.adStartedAt=(new Date).getTime(),i(t.players,t,"");else if("AdClickThru"==e)i(t.players,t,"");else if("AdError"==e)i(t.players,t,{errorMsg:"spotxSDK gives AdError"});else if("AdVolumeChange"==e){var r=t.sdk.videoSlot(),n=r.volume;t.adStartedAt&&i(t.players,t,{volume:n})}else i(t.players,t)},t.delay[e]||0)},e)},this)},e.prototype.startAd=function(){this.autoplay?this.loadAd():(this.log("playAd called"),this.sdk.playAd())},e.prototype.pauseAd=function(){this.log("pauseAd called"),this.sdk.pauseAd()},e.prototype.resumeAd=function(){this.log("resumeAd called"),this.sdk.playAd()},e.prototype.stopAd=function(){this.log("stopAd called"),this.sdk&&this.sdk.stopAd()},e.prototype.showAd=function(){this.log("showAd called");var t=this.sdk.slot();t&&(t.style.zIndex="10000",t.style.position="absolute")},e.prototype.hideAd=function(){if(this.log("hideAd called"),this.sdk&&this.sdk.slot){var t=this.sdk.slot();t&&(t.style.zIndex=(1-this.uniqId).toString())}},e.prototype.clearAd=function(){if(this.sdk){this.log("clearAd called");var t=this.sdk.slot();t&&(t.style.display="none",t.parentNode&&t.parentNode.removeChild(t))}},e.prototype.resizeAd=function(t,e,i){this.log("resizeAd called"),this.sdk&&this.sdk.resize(t,e,i)},e.prototype.setAdVolume=function(t,e){this.log("setAdVolume called");var i=this.sdk&&this.sdk.videoSlot();i&&(void 0!==e&&i.muted!==e&&(i.muted=e),i.volume!==t&&(i.volume=t))},e.prototype.getProgress=function(){var t=this.sdk.videoSlot();if(t)return{time:t.currentTime,duration:t.duration}},e}(o.PlayerData);e.PlayerDataSpotx=p},function(t,e,i){"use strict";function r(t,e){e.adStartCount++,e.adStartCount>1&&p.vastError(t,e.vastId,p.VAST_ERROR.DOUBLE_START_OR_IMPRESSION,"double adstart: "+e.adStartCount,null,e),t.beingVpaid&&A.callingVpaidEvent(t,"jsAdStarted",{}),(t.viewableOnStart||e.viewableOnStart)&&g.showAdvertising(t,e)}function n(t,e){var i=((new Date).getTime()-e.startAdTime)/1e3;f.logVastEvent(t,h.CEDATO_EVENT.E_ADSTART,e,{time:i.toFixed(1),gpvOrdNo:e.originalUniqId,retryTestGroup:t.retryTestGroup,widthDetected:t.widthDetected,heightDetected:t.heightDetected,vastType:f.reportingVastType(e),actualVastType:f.reportingActualVastType(e)})}function a(t,e){t.anyAdPlayed||(t.anyAdPlayed=!0,h.logEvent(t,h.CEDATO_EVENT.E_ADPLAYED,{},{gpvOrdNo:e.originalUniqId}),t.startTime>(new Date).getTime()&&c.submitFullDebugLog(t,{debugLogReason:"negative adplayed"})),f.isCedatox(e)&&h.logEvent(t,h.CEDATO_EVENT.E_ADPLAYED,{},{playerId:e.playerId})}function s(t,e){if(c.debugLogVast(t,e,"adImpression called",!1),a(t,e),null!=e.gotLastAdImpressionOn&&(new Date).getTime()-e.gotLastAdImpressionOn<3e3)return c.debugLogVast(t,e,"second ad impression too soon - ignoring",!1),!0;if(!t.submitDebugLogForVastId||t.submitDebugLogForVastId!=e.vastId&&t.submitDebugLogForVastId!=e.cxvid||c.submitFullDebugLog(t,{keepDebugLog:!0}),!e.skipVastTracker&&null==e.vastTracker)return void d.finishPlayerData(t,e,l.TerminateReason.NO_VAST_TRACKER);if(y.logImpression(t,e.adType),e.state==l.PlayerDataState.Finished)return c.debugLogVast(t,e,"adImpression canceled - player data is finishing",!1),!1;if(t.parallelStartAd&&t.anyPlaying&&e.state!=l.PlayerDataState.Playing)return g.stopPlayerData(t,e),p.vastError(t,e.vastId,p.VAST_ERROR.DOUBLE_PARALLEL_STARTED,"stopped due to parallel double started",null,e),d.finishPlayerData(t,e,l.TerminateReason.DOUBLE_PARALLEL_STARTED),!1;if(t.anyPlaying=!0,e.state=l.PlayerDataState.Playing,e.gotLastAdImpressionOn=(new Date).getTime(),g.showAdvertising(t,e),t.parallelStartAd){t.beingVpaid&&(t.autoplay=!1),c.debugLog(t,"parallel startAd mode - stopping any other opened startAd",!1),f.logVastRequest(t,e);for(var i=0,r=t.plist.length;i<r;i++){var s=t.plist[i];s.vastId!=e.vastId&&s.state==l.PlayerDataState.Started&&(g.stopPlayerData(t,s),p.vastError(t,s.vastId,p.VAST_ERROR.PARALLEL_STARTED,"stopped due to parallel started",null,s),d.finishPlayerData(t,s,l.TerminateReason.PARALLEL_STARTED,p.VAST_ERROR.PARALLEL_STARTED,"stopped due to parallel started"))}c.debugLog(t,"parallel startAd mode - stopping any other opened startAd - done",!1)}return n(t,e),null!=e.allocatedQuotaImp&&(e.allocatedQuotaImp-=1),v.notifyApi(t,e,"adstart"),v.notifyApi(t,e,"ad.start"),u.triggerBeacon(t,e,"adstart"),e.adImpressionCount++,e.adImpressionCount>1?(p.vastError(t,e.vastId,p.VAST_ERROR.DOUBLE_START_OR_IMPRESSION,"double impression: "+e.adImpressionCount,null,e),f.logVastRequest(t,e)):e.skipVastTracker||e.vastTracker.load(),t.beingVpaid&&(c.debugLogVast(t,e,"has calling VPAID object - calling events",!1),A.callingVpaidEvent(t,"jsAdImpression",{})),t.curAdStarts++,e.curAdStarts++,t.maxAdStarts&&t.curAdStarts>=t.maxAdStarts&&(c.debugLogVast(t,e,"reached maximum number of allowed ad starts, freezing",!1),v.freezePlayers(t,e)),e.sameVastTimer[e.disableSameVastPrefetch?"hold":"start"]().then(function(){return m.sameVastLoad(t,e)}),t.paused?v.pausePlayer(t,e):t.allowLongImpressions||e.isPaused||e.longImpressionTimeout.start(function(){return o(t,e)}),!0}function o(t,e){p.vastError(t,e.vastId,p.VAST_ERROR.LONG_IMPRESSION,"long impression",null,e);try{d.finishPlayerData(t,e,l.TerminateReason.LONG_IMPRESSION)}catch(i){p.vastError(t,e.vastId,p.VAST_ERROR.JS_EXCEPTION,"sas gave JS exception: ",i,e)}}Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),d=i(8),u=i(20),c=i(0),h=i(6),p=i(2),f=i(11),A=i(12),v=i(5),g=i(9),m=i(13),y=i(4);e.adStarted=r,e.adImpression=s},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=i(8),s=i(7),o=i(3),l=i(9),d=i(17),u=i(21),c=i(0),h=i(2),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.forceVolume=!1,e}return r(e,t),e.prototype.fetchAdUrl=function(){this.state=n.PlayerDataState.Fetched,this.skipVastTracker=!0,this.vastPreferType==h.vastPreferType.VIDEO_ONLY||this.players.observableOnly?(h.vastError(this.players,this.vastId,h.VAST_ERROR.NO_SUITABLE_MEDIA,"no suitable media: "+this.adType,null,this,!1,!0),a.finishPlayerData(this.players,this,n.TerminateReason.NO_SUITABLE_MEDIA)):this.initMedia()},e.prototype.initMedia=function(){var e=this;return t.prototype.initMedia.call(this).then(function(){e.adContainer||(e.adContainer=l.createAdContainer(e.vastId),e.players.divElem.appendChild(e.adContainer)),e.videoElement=e.players.contentUrlPlayer&&e.players.contentUrlPlayer.getHTMLVideoElement(),e.videoElement?(e.adVideo&&e.adVideo.parentNode&&e.adVideo.parentNode.removeChild(e.adVideo),e.adVideo=null):e.videoElement=e.adVideo,e.videoElement||(e.videoElement=document.createElement("video"),e.videoElement.style.display="none",e.videoElement.className="ima-"+e.vastId,e.players.divElem.appendChild(e.videoElement)),e.initialized=!1,e.state=n.PlayerDataState.Initing,e.width=e.players.width,e.height=e.players.height,e.isAdsRequested=!1,e.isStarted=!1,e.initGoogleSDK(),c.debugLogVast(e.players,e,"initMedia: done",!0)})},e.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.debugLogVast(this.players,this,"[GoogleIMA] "+t,!1,e)},e.prototype.initGoogleSDK=function(){var t=this;if("undefined"==typeof google)return s.injectScriptSDK("google-ima-script-new",function(){return o.changeProtocol(t.players.protocol,"http://imasdk.googleapis.com/js/sdkloader/ima3.js")},function(){t.callInitAndRequest()},!0);this.callInitAndRequest()},e.prototype.callInitAndRequest=function(){var t=this;setTimeout(function(){t.initAndRequest()},this.players.debug.delayReply||this.delay.Reply||0)},e.prototype.emitEvent=function(t,e){switch(this.log("EVENT "+t+", data: ",e,this.uniqId),t){case this.AdsManagerLoadedEvent:case this.AdErrorLoadedEvent:this.onSdkResponse(e);break;case google.ima.AdErrorEvent.Type.AD_ERROR:u.AdErrorHandler(this.players,this,{errorMsg:e&&e.msg+(e.code?" ("+e.code+")":"")});break;case this.AdEvent.AD_BREAK_READY:case this.AdEvent.AD_METADATA:case this.AdEvent.ALL_ADS_COMPLETED:break;case this.AdEvent.CLICK:u.AdClickthruHandler(this.players,this,{url:null,id:null,playerHandles:!1});break;case this.AdEvent.DURATION_CHANGE:u.AdDurationChangeHandler(this.players,this,{t:e.ad&&e.ad.getDuration()||null});break;case this.AdEvent.STARTED:u.AdStartedHandler(this.players,this);break;case this.AdEvent.IMPRESSION:u.AdImpressionHandler(this.players,this,null);break;case this.AdEvent.FIRST_QUARTILE:u.AdFirstQuartileHandler(this.players,this);break;case this.AdEvent.MIDPOINT:u.AdMidpointHandler(this.players,this);break;case this.AdEvent.THIRD_QUARTILE:u.AdThirdQuartileHandler(this.players,this);break;case this.AdEvent.COMPLETE:u.AdCompleteHandler(this.players,this);break;case this.AdEvent.LOADED:if(e&&e.ad){if(this.ad=e.ad,!this.ad.isLinear())return h.vastError(this.players,this.vastId,h.VAST_ERROR.VPAID_IMA_NON_LINEAR,"Creative is non-linear",null,this,!1,!0),void a.finishPlayerData(this.players,this,n.TerminateReason.NON_LINEAR);this.duration=this.ad.getDuration(),this.durationKnown=!0}u.AdLoadedHandler(this.players,this,null);break;case this.AdEvent.LINEAR_CHANGED:case this.AdEvent.LOG:case this.AdEvent.CONTENT_PAUSE_REQUESTED:case this.AdEvent.CONTENT_RESUME_REQUESTED:case this.AdEvent.SKIPPABLE_STATE_CHANGED:break;case this.AdEvent.SKIPPED:u.AdCompleteHandler(this.players,this);break;case this.AdEvent.USER_CLOSE:break;case this.AdEvent.VOLUME_CHANGED:var i=this.adsManager.getVolume();u.AdVolumeChangeHandler(this.players,this,{volume:i});break;case this.AdEvent.VOLUME_MUTED:break;case this.AdEvent.PAUSED:u.AdPausedHandler(this.players,this);break;case this.AdEvent.Type.RESUMED:u.AdPlayingHandler(this.players,this)}},e.prototype.initAndRequest=function(){this.log("initAndRequest",this.isAdsRequested),this.isAdsRequested||(this.isAdsRequested=!0,this.AdEvent=google.ima.AdEvent.Type,this.AdErrorCode=google.ima.AdError.ErrorCode,this.AdsManagerLoadedEvent=google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.AdErrorLoadedEvent=google.ima.AdError.Type.AD_LOAD,this.AdErrorEvent=google.ima.AdErrorEvent.Type.AD_ERROR,this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainer),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this.adsLoader.addEventListener(this.AdsManagerLoadedEvent,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(this.AdErrorEvent,this.onAdError.bind(this),!1),this.adsRequest=new google.ima.AdsRequest,this.adsRequest.adTagUrl=this.mediaURL,this.adsRequest.linearAdSlotWidth=this.width,this.adsRequest.linearAdSlotHeight=this.height,this.adsLoader.requestAds(this.adsRequest))},e.prototype.isUnlocked=function(){return this.initialized},e.prototype.unlockAdSlot=function(){this.log("unlockAdSlot",this.initialized,this.adDisplayContainer),!this.initialized&&this.adDisplayContainer&&(this.adDisplayContainer.initialize(),this.initialized=!0)},e.prototype.onSdkResponse=function(t){if(this.onAdResponse())if(t){var e=[this.AdErrorCode.VAST_EMPTY_RESPONSE,this.AdErrorCode.VAST_ASSET_NOT_FOUND,this.AdErrorCode.VAST_NO_ADS_AFTER_WRAPPER,this.AdErrorCode.UNKNOWN_AD_RESPONSE];-1==e.indexOf(t.code)&&(this.state=n.PlayerDataState.Started),this.emitEvent(this.AdErrorEvent,t)}else u.LoadedFunc(this.players,this)},e.prototype.clearAd=function(){this.log("clearAd");try{this.clearSDK(),this.players.divElem.removeChild(this.adContainer),this.adContainer=null}catch(t){}},e.prototype.clearSDK=function(){try{this.adDisplayContainer.destroy(),this.adsLoader.destroy(),this.adsManager.destroy()}catch(t){}},e.prototype.initAd=function(){var t=this;this.log("initAd",this.width,this.height),this.transferError(function(){t.adsManager.init(t.width,t.height,google.ima.ViewMode.NORMAL)})},e.prototype.showAd=function(){this.adContainer&&(this.adContainer.style.zIndex="10000",this.adContainer.style.position="absolute")},e.prototype.hideAd=function(){this.adContainer&&(this.adContainer.style.zIndex=(1-this.uniqId).toString())},e.prototype.startAd=function(){var t=this;this.log("startAd",this.isStarted),this.isStarted||(this.forceVolume=!0,this.syncVolume(),this.adsManager&&this.adsManager.start&&(this.transferError(function(){return t.adsManager.start()}),this.isStarted=!0))},e.prototype.stopAd=function(){var t=this;this.log("stopAd"),this.adsManager&&this.adsManager.stop&&this.transferError(function(){return t.adsManager.stop()})},e.prototype.resizeAd=function(t,e){var i=this;this.log("resizeAd",this.width,this.height,t,e),this.width===t&&this.height===e||(this.width=t,this.height=e,this.adsManager&&this.adsManager.resize&&this.transferError(function(){return i.adsManager.resize(t,e,google.ima.ViewMode.NORMAL)}))},e.prototype.setAdVolume=function(t,e){var i=this;this.adsManager&&(t=e?0:t,this.log("setAdVolume",t,this.adsManager.getVolume()),(this.forceVolume||this.adsManager.getVolume()!=t)&&(this.transferError(function(){return i.adsManager.setVolume(t)}),this.forceVolume=!1))},e.prototype.getProgress=function(){if(this.ad){var t=this.ad.getDuration(),e=t-this.adsManager.getRemainingTime();return e=e>0?e:0,{time:e,duration:t}}return null},e.prototype.pauseAd=function(){var t=this;this.log("pauseAd"),this.transferError(function(){return t.adsManager.pause()})},e.prototype.resumeAd=function(){var t=this;this.log("resumeAd"),this.transferError(function(){return t.adsManager.resume()})},e.prototype.transferError=function(t){try{t&&t()}catch(t){throw new Error(t.getMessage&&t.getMessage()||t.message||"Unknown error")}},e.prototype.onAdsManagerLoaded=function(t){this.log("onAdsManagerLoaded, requested Ads",t,this.initialized);var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.adsManager=t.getAdsManager(this.videoElement,e),this.players.muted&&this.adsManager.setVolume(0);var i=this.onAdEvent.bind(this),r=this.onAdProgressEvent.bind(this),n=this.onAdUserEvent.bind(this);this.adsManager.addEventListener(this.AdErrorEvent,this.onAdError.bind(this)),this.adsManager.addEventListener(this.AdEvent.AD_BREAK_READY,this.adBreakReadyHandler.bind(this)),this.adsManager.addEventListener(this.AdEvent.AD_METADATA,i),this.adsManager.addEventListener(this.AdEvent.ALL_ADS_COMPLETED,i),this.adsManager.addEventListener(this.AdEvent.DURATION_CHANGE,i),this.adsManager.addEventListener(this.AdEvent.IMPRESSION,i),this.adsManager.addEventListener(this.AdEvent.LINEAR_CHANGED,i),this.adsManager.addEventListener(this.AdEvent.LOADED,i),this.adsManager.addEventListener(this.AdEvent.LOG,i),this.adsManager.addEventListener(this.AdEvent.SKIPPABLE_STATE_CHANGED,i),this.adsManager.addEventListener(this.AdEvent.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(this.AdEvent.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(this.AdEvent.STARTED,r),this.adsManager.addEventListener(this.AdEvent.FIRST_QUARTILE,r),this.adsManager.addEventListener(this.AdEvent.MIDPOINT,r),this.adsManager.addEventListener(this.AdEvent.THIRD_QUARTILE,r),this.adsManager.addEventListener(this.AdEvent.COMPLETE,r),this.adsManager.addEventListener(this.AdEvent.CLICK,n),this.adsManager.addEventListener(this.AdEvent.PAUSED,n),this.adsManager.addEventListener(this.AdEvent.RESUMED,n),this.adsManager.addEventListener(this.AdEvent.SKIPPED,n),this.adsManager.addEventListener(this.AdEvent.USER_CLOSE,n),this.adsManager.addEventListener(this.AdEvent.VOLUME_CHANGED,n),this.adsManager.addEventListener(this.AdEvent.VOLUME_MUTED,n),this.emitEvent(this.AdsManagerLoadedEvent)},e.prototype.onAdEvent=function(t){var e=this;this.delayEvent(t,function(){e.log("onAdEvent ",t.type,t),e.emitEvent(t.type,{ad:t.getAd()})})},e.prototype.onAdProgressEvent=function(t){var e=this;this.delayEvent(t,function(){e.log("onAdProgressEvent ",t.type,t),e.emitEvent(t.type,{ad:t.getAd()})})},e.prototype.delayEvent=function(t,e){var i="Ad"+t.type.charAt(0).toUpperCase()+t.type.slice(1);setTimeout(e,this.delay[i]||0)},e.prototype.onAdUserEvent=function(t){this.log("onAdUserEvent ",t.type,t),this.emitEvent(t.type)},e.prototype.onAdError=function(t){var e=t.getError();this.log("onAdError ",e.getMessage(),e.getErrorCode()),e.getType()==this.AdErrorLoadedEvent?this.emitEvent(this.AdErrorLoadedEvent,{msg:e.getMessage(),code:e.getErrorCode()}):this.emitEvent(this.AdErrorEvent,{msg:e.getMessage(),code:e.getErrorCode()}),this.clearSDK()},e.prototype.onContentPauseRequested=function(){this.log("onContentPauseRequested ")},e.prototype.onContentResumeRequested=function(){this.log("onContentResumeRequested ")},e.prototype.adBreakReadyHandler=function(t){this.log("adBreakReadyHandler ",t)},e.isGoogleIMA=function(t){return-1!==t.indexOf(".g.doubleclick.net")},e}(d.PlayerData);e.PlayerDataGoogleIMA=p},function(t,e,i){"use strict";function r(t,e){var i=window.CEDATO_INIT;return void 0===o[t]?(o[t]=e||new s,o[t]._ready=!0,i&&("function"==typeof i?o[t].init=i:"object"==typeof i&&"function"==typeof i[t]&&(o[t].init=i[t]))):(o[t]._ready=!0,setTimeout(function(){o[t].trigger("ready")},0)),o[t]}function n(t){return void 0===o[t]&&(o[t]=new s),o[t]}Object.defineProperty(e,"__esModule",{value:!0});var a=i(14).EventEmitter2;window.CEDATO_API=window.CEDATO_API||{registerPlayer:r,getPlayer:n};var s=function(){function t(t){this._ready=!1,this.playerVersion="100.0",this.eventEmitter=new a({wildcard:!0,maxListeners:20}),t&&(this.playerVersion=t)}return t.prototype.on=function(t,e){var i=this,r=t.toLowerCase();return"ready"===r&&this._ready?void setTimeout(function(){return e({name:"ready",player:i})},0):(this.eventEmitter.on(r,e),this)},t.prototype.off=function(t,e){var i=t.toLowerCase();return e?this.eventEmitter.off(i,e):this.eventEmitter.removeAllListeners(i),this},t.prototype.trigger=function(t,e){var i=t.toLowerCase();return this.eventEmitter.emit(i,{name:i,player:this,data:void 0==e?{}:e}),this},t.prototype.play=function(){this.trigger("_play")},t.prototype.show=function(){this.trigger("_show")},t.prototype.hide=function(){this.trigger("_hide")},t.prototype.pause=function(){this.trigger("_pause")},t.prototype.overrideInitParams=function(t){this.trigger("_overrideInit",t)},t.prototype.setContentUrls=function(t,e){this.trigger("_setContentUrls",{urls:t,saveCurrentTime:e||!1})},t.prototype.setContentVariant=function(t){this.trigger("_setContentVariant",t)},t.prototype.setContentImage=function(t,e){this.trigger("_setContentImage",{url:t,pos:e||""})},t.prototype.seekContent=function(t){this.trigger("_seekContent",t)},t.prototype.setContent=function(t){this.trigger("_setContent",t)},t.prototype.setPausable=function(t){this.trigger("_setPausable",t)},t.prototype.sound=function(t){this.trigger("_sound",t)},t.prototype.resize=function(t,e){var i=Number(t),r=Number(e);i>=0&&r>=0&&this.trigger("_resize",{width:i,height:r})},t.prototype.skip=function(){this.trigger("_skip")},t.prototype.close=function(t){this.trigger("_close",{preserveDiv:t||!1})},t.prototype.pauseAds=function(){this.trigger("_pauseads")},t.prototype.resumeAds=function(){this.trigger("_resumeads")},t.prototype.getPlayerVersion=function(){return this.playerVersion},t}();e.PlayerInterface=s;var o={};e.API_VER="1.0.5",e.registerPlayer=r,e.getPlayer=n},function(t,e,i){"use strict";function r(t){switch(typeof t){case"boolean":return{muted:!t};case"number":if(t>=0&&t<=1)return{volume:t};break;case"string":if("on"===t||"off"===t)return{muted:"on"===t}}return null}function n(t,e){g.debugLog(t,"gpvAnswer: get order to destroy player with vastId "+e,!1);for(var i=[],r=0,n=t.plist.length;r<n;r++)(t.plist[r].vastId==e||t.plist[r].cxvid&&t.plist[r].cxvid==e)&&i.push(t.plist[r]);t.anyPlaying=i.length>0||t.anyPlaying;for(var r=0,n=i.length;r<n;r++)t.anyPlaying=t.anyPlaying&&v.anyOtherPlaying(t,i[r]),b.destroyPlayerData(t,i[r]);return i.length}function a(t,e){e.is&&c(t,e.is),I.readPlayerConfig(t,e),P.assignWhen(P.NotNull,t,{beacons:e.callbacks,customVars:e.cvars,blacklist:e.bll,gpvCookie:P.defined(e.gpvck,null),gpvRequeryInterval:P.number(e.gpvnext),gpvUrl:P.defined(e.gpvurl,null),networkId:P.number(e.ni),retryTestGroup:P.number(e.rtg),vastWaitFactor:P.number(e.vwf,1),loadAdTimer:P.number(e.latimer)}),t.vastWaitFactor=t.vastWaitFactor/2;var i=!1;t.maxFailedVastRetries>1&&t.maxFailedVastRetries<50&&(t.maxFailedVastRetries=2*t.maxFailedVastRetries,i=!0),L.logMaxFailedRetries(t,null,i),P.assignWhen(P.Truly,t,{keepDebugLog:P.boolean(e.sdl),debugLogReason:P.string(e.sdlr),logVastResponse:P.boolean(e.lvr),submitDebugLogOnPlayerError:P.boolean(e.sdlpe),submitDebugLogOnVastError:P.boolean(e.sdlve),submitDebugLogForVastId:P.number(e.vd)}),t.keepDebugLog&&(g.debugLog(t,"gpv turned sdl on",!1),g.submitDebugLogBuffer(t)),t.autoplayOverwrite||(!1===e.ap?t.autoplay=!1:t.autoplay=!0),e.rvu&&(t.urlReplacer=[],t.urlReplacer.vastId=e.rvu.v,t.urlReplacer.searchFor=e.rvu.s,t.urlReplacer.replaceWith=e.rvu.r,t.vpwURL&&(t.vpwURL=t.vpwURL.replace("v=","edl=2&v="))),e.ho&&1==e.ho&&(t.flashSupport=!1,t.htmlOnly=!0),t.customVars&&g.debugLog(t,"macros values - "+f.stringifyObject(t.customVars),!1);for(var n,a={},s=0,o=t.initOverrides.length;s<o;s++){var l=t.initOverrides[s].name,d=t.initOverrides[s].value;switch(l){case"autoplay":t.autoplay=!!d;break;case"interactive":t.interactive=!!d;break;case"content":n=d;break;case"contentUrl":case"contentClickUrl":case"contentImage":case"contentImagePosition":a[l.substr(7)]=d;break;case"rotate":switch(d){case!0:d=null;break;case!1:d=1;break;default:d*=1}t.maxAdStarts=d;break;case"sound":var u=r(d);null!=u&&(t.volume=null!=u.volume?u.volume:u.muted?0:1,t.muted=null!=u.muted?u.muted:!u.volume);break;case"allowSound":"must"==d?(d=!0,t.muteToPlay&&(t.autoplay=!1)):"dynamic"==d&&(t.dynamicSound=!0,d=!1);case"skipButton":case"closeButton":null!=d&&(t[l]=!!d)}if(t.isDebugVersion)switch(l){case"callbacks":t.beacons=d;break;case"debug":case"customVars":f.extend(t[l],d)}}t.initOverrides=[],t.gpvConfLoaded=!0,t.beingVpaid?(t.mainAutoplay=!0,t.autoplay=!1,t.autoplayOverwrite=!0):(t.mainAutoplay=t.autoplay,t.mainAutoplay||(t.usejsv=!1,t.parallelStartAd=!0)),t.volume=null!=t.volume?t.volume:t.allowSound?1:0,t.muted=null!=t.muted?t.muted:!t.allowSound,t.muted=t.mainAutoplay&&t.muteToPlay||t.muted,e.co?t.controlBar=!(1!=+e.co||t.usejsv&&!t.controlBarType):t.controlBar=!1,t.interactive=null!=t.interactive?t.interactive:t.controlBar,t.blacklist=t.blacklist||D.BlackLists[t.blackListName],_.initContent(t,e.content,n,a),t.postRoll&&!t.autoplayOverwrite&&(t.autoplay=!1)}function s(t){var e="";t.domainDetected!==t.domain&&(e=encodeURIComponent(t.domainDetected));var i={p:t.playerIds.join(","),d:encodeURIComponent(t.domain),sid:t.subid,pv:t.playerVersion,w:t.width,h:t.height,f:t.flashSupport?"1":"0",dd:e,vs:t.hasVideoSupport?"1":"0",sa:t.detect,av:void 0,extra:t.gpvExtraParams,gpvck:t.gpvCookie};if(t.plist.length){for(var r=[],n=0,a=t.plist.length;n<a;n++)-1===r.indexOf(t.plist[n].vastId)&&r.push(t.plist[n].vastId),t.plist[n].cxvid&&-1===r.indexOf(t.plist[n].cxvid)&&r.push(t.plist[n].cxvid);i.av=r.join(",")}var s;return t.gpvUrl?(s=t.gpvUrl,i.av&&(s+="&av="+i.av)):s=A.buildUrl(t.serverHost()+"/player/gpv?",i),s}function o(t){l(t).then(function(e){return u(t,e)}).catch(function(e){return m.playerError(t,3,"getPlayerVast gave JS exception: "+(e?e.message:""),e)})}function l(t){try{var e=s(t);return g.debugLog(t,"gpv url: "+e,!1),new p.Promise(function(i,r){function n(i){if(s--<=0)return g.debugLog(t,"gpv load failed, url: "+e,!1),void r(i);setTimeout(a,t.gpvRetryInterval)}function a(){t.gpvAttempt++,h.requestWithJSONP(e).then(function(t){return t?i(t):n({name:"GPV",message:"Empty GPV data"})},n)}var s=2;a()})}catch(e){m.playerError(t,3,"getPlayerVast gave JS exception: "+e.message,e)}}function d(t,e){return e&&(e.onloadGPV||e.gpvData)?e.gpvData?(w.fastTagStatus(t,!0,"Ready"),p.Promise.resolve(e.gpvData)):new p.Promise(function(i,r){var n=function(){return l(t).then(i,r)},a=setTimeout(function(){w.fastTagStatus(t,!1,"Timeout expecting FatsTag GPV"),n()},t.gpvRetryInterval);e.onloadGPV=function(e){clearTimeout(a),e?(w.fastTagStatus(t,!0,"Arrived"),i(e)):(w.fastTagStatus(t,!1,"Error retrieving/parsing FatsTag GPV"),n())}}):(w.fastTagStatus(t,!1,"FastTag is off"),l(t))}function u(t,e){try{t.gpvTime=f.getFixedAgoTime(t.startTime),g.debugLog(t,"gpvAnswer",!1),g.debugLog(t,e,!0),g.debugLog(t,"gpvAnswer: initializing players",!1),t.urlReplacer=null;var i=e.fs?e.fs[t.flashSupport?1:0]:e;t.vasts=i;for(var r=0,s=[],l=0,d=i;l<d.length;l++){var u=d[l];if("c"==u.id&&"d"==u.c)return g.debugLog(t,"gpvAnswer: get order from gpv to destroy all players",!1),S.freezePlayers(t),void _.showContent(t);if("c"==u.id)a(t,u);else if("d"==u.c)r+=n(t,u.id);else if(g.debugLog(t,"gpvAnswer: initializing player for vastId "+u.id+", group: "+u.group+", url: "+u.url,!1),null==t.currentGroup||0!==u.group||0==t.currentGroup){var c=new E.PlayerDataPlaceHolder(t,u);s.push(c)}}g.debugLog(t,"gpvAnswer: adding remaining vasts from gpv",!1),y.addRemainingVasts(t,s),r?T.playNext(t):T.resetReadyForStartAd(t),t.gpvReturnedFirstTime||(t.gpvReturnedFirstTime=!0,R.playerDomLoaded(t)),g.debugLog(t,"gpvAnswer: scheduled gpv, next query after "+t.gpvRequeryInterval+" seconds"),t.requeryGpvTimer=setTimeout(function(){return o(t)},t.gpvRequeryInterval)}catch(e){m.playerError(t,3,"gpvAnswer: gave JS exception: "+e.message,e)}}function c(t,e){var i=A.upgradeProtocol(t.protocol,e),r=(new Date).getTime().toString(),n="";i=i.replace(/\[CB\]/g,r).replace(/\[DIVID\]/g,t.divId),t.callingFlashObject&&t.callingFlashObject.id&&(n=t.callingFlashObject.id),i=i.replace(/\[FLASHID\]/g,n),f.injectScript(i),g.debugLog(t,"gpv requested script: "+i,!1)}Object.defineProperty(e,"__esModule",{value:!0});var h=i(15),p=i(10),f=i(7),A=i(3),v=i(8),g=i(0),m=i(6),y=i(2),b=i(9),E=i(17),T=i(13),_=i(23),R=i(37),L=i(4),S=i(5),w=i(4),I=i(30),P=i(16),D=i(18);e.extractVolumeValue=r,e.promiseGPV=d,e.gpvAnswer=u},function(t,e,i){"use strict";function r(t){var e=null,i="data-cedato-used";if(document.querySelectorAll)try{e=document.querySelectorAll("[id='"+t.divId+"']:not(["+i+"])")[0]}catch(t){}if(!e){var r=document.getElementById(t.divId);r&&!r.hasAttribute(i)&&(e=r)}if(!e&&(t.currentScript||(t.currentScript=c.getScriptTag(t.cacheBuster)),t.currentScript&&t.currentScript.parentNode)){var n=t.currentScript.parentNode;-1===n.id.indexOf("video"+t.playerId)||n.hasAttribute(i)||(e=n)}return e&&e.setAttribute(i,"used"),e}function n(t,e){if(null==t.domReadyTime)try{if(d.debugLog(t,"on dom load",!1),t.rootDivElem||(t.rootDivElem=r(t)),!t.rootDivElem){if(e>t.conf.maxDomLoadTimes)t.domLoadTimeout&&(clearTimeout(t.domLoadTimeout),t.domLoadTimeout=null),u.playerError(t,6,"div element not found playerDomLoaded: "+t.divId);else{d.debugLog(t,"domload timeout "+e+" retrying in "+t.conf.domLoadRetryTimeout,!1),t.domLoadTimeout&&(clearTimeout(t.domLoadTimeout),t.domLoadTimeout=null);var i=function(t,e){try{d.debugLog(t,"domload timeout",!1),t.domLoadTimeout=null,t.domLoadTimeout&&(clearTimeout(t.domLoadTimeout),t.domLoadTimeout=null),n(t,e+1)}catch(t){}};t.domLoadTimeout=setTimeout(function(){i(t,e)},t.conf.domLoadRetryTimeout)}return}if(t.domLoadTimeout&&(clearTimeout(t.domLoadTimeout),t.domLoadTimeout=null),t.domReadyTime=h.getFixedAgoTime(t.startTime),d.debugLog(t,"ondomload - adding div",!1),l.init(),t.widthDetected=t.rootDivElem.offsetWidth,t.heightDetected=t.rootDivElem.offsetHeight,t.widthDetected&&t.heightDetected&&0!==t.widthDetected&&0!==t.heightDetected||(t.widthDetected=t.rootDivElem.clientWidth,t.heightDetected=t.rootDivElem.clientHeight),!t.widthDetected||!t.heightDetected||0===t.widthDetected||0===t.heightDetected){var a=t.rootDivElem.getBoundingClientRect();t.widthDetected=a.width,t.heightDetected=a.height}u.logEvent(t,u.CEDATO_EVENT.E_DETECTED,{},{}),t.widthOverwrite&&t.heightOverwrite?(t.width=t.widthOverwrite,t.height=t.heightOverwrite,t.rootDivElem.style.width=t.width+"px",t.rootDivElem.style.height=t.height+"px"):t.widthDetected&&t.heightDetected&&0!==t.widthDetected&&0!==t.heightDetected&&(!t.sizeTolerance||Math.abs(t.width-t.widthDetected)>t.sizeTolerance||Math.abs(t.height-t.heightDetected)>t.sizeTolerance)&&(t.width=t.widthDetected,t.height=t.heightDetected),t.divElem=document.createElement("div"),t.divElem.id="__cedato_root_container",l.assignClass(t.divElem,t.info.mobile?l.cssClass("mobile"):l.cssClass("desktop")),t.rootDivElem.appendChild(t.divElem),d.debugLog(t,"ondomload - creating rotator",!1),t.beingVpaid||p.createContentPlayer(t),v.initControls(t),t.domReadyResolve(),f.triggerBeacon(t,null,"ready"),A.notifyApi(t,null,"player.ready",{rootDiv:t.rootDivElem}),s(t),t.mainAutoplay&&(t.preRoll>0?o(t):t.started||(t.started=!0,A.notifyApi(t,null,"player.started")))}catch(e){u.playerError(t,3,"playerDomLoaded gave JS exception: "+e.message,e)}}function a(t){if(!t.beingVpaid&&t.flashSupport){t.domLoadTimeout=null;var e=function(){t.domLoadTimeout&&(clearTimeout(t.domLoadTimeout),t.domLoadTimeout=null),n(t,1)},i=function(){try{e()}catch(e){u.playerError(t,3,"ondomload gave JS exception: "+e.message,e),d.debugLog(t,"ondomload gave JS exception: "+e.message,!1)}};t.SwfObject.addDomLoadEvent(i);var r=function(t){try{d.debugLog(t,"domload timeout",!1),e()}catch(t){}};t.domLoadTimeout=setTimeout(function(){r(t)},t.conf.domLoadInitTimeout)}else t.domLoadTimeout=setTimeout(function(){n(t,1)},0)}function s(t){if(t.rootDivElem){var e=t.rootDivElem;t.rootDivElem.parentElement&&(e=t.rootDivElem.parentElement);for(var i=e.getElementsByTagName("script"),r=0;r<i.length;r++){var n=i[r].getAttribute("type");if(t.plugins[n])try{t.plugins[n]({pluginElement:i[r],api:t.apiInterface,playerDiv:t.rootDivElem,log:function(e){return d.debugLog(t,e)}})}catch(e){u.playerError(t,3,"plugin error")}}}}function o(t){d.debugLog(t,"starting preroll timeout "+t.preRoll+"sec.",!1),setTimeout(function(){d.debugLog(t,"freezing players from preroll timeout",!1),A.playerPauseAds(t)||t.paused||t.contentUrlPlayer.playContent()},1e3*t.preRoll)}Object.defineProperty(e,"__esModule",{value:!0});var l=i(19),d=i(0),u=i(6),c=i(29),h=i(7),p=i(23),f=i(20),A=i(5),v=i(38);e.getRootDivElem=r,e.playerStart=n,e.playerDomLoaded=a,e.initPlugins=s,e.startPrerollTimeout=o},function(t,e,i){"use strict";function r(t){var e=t.controlBar||t.content.video.controlBar,i=t.content.video.controlBar&&!t.controlBar,r=e&&d[t.controlBarType];(t.closeButton||t.skipButton)&&(r?(r.close=r.close||t.closeButton,r.skip=r.skip||t.skipButton):r={close:t.closeButton,skip:t.skipButton}),t.mainAutoplay||(r?r.overlay=!0:r={overlay:!0}),r&&(t.info.mobile&&(r.volume=!1,t.usejsv&&t.mainAutoplay&&(r.mute=!1)),s.debugLog(t,"creating controls - "+t.controlBar,!1),t.controls=new p(t,r,i))}function n(t,e){void 0===e&&(e=!1);var i=t.controls;if(i){var r=Date.now(),n=r-i.lastCallTime;i.lastCallTime=r,!i.lastCallTime||n<=10||r-i.lastUpdateTime<100?(clearTimeout(i.debounceTimer),i.debounceTimer=setTimeout(function(){i.updateElements(e)},10)):i.updateElements(e)}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(19),s=i(0),o=i(5),l=i(63),d={c1:{play:!0,mute:!0,volume:!0,seek:!0,time:!0,bitrate:!0},c2:{play:!0,mute:!0,time:!0},all:{play:!0,mute:!0,volume:!0,seek:!0,time:!0,bitrate:!0}};e.initControls=r;var u=function(){function t(){}return t.prototype.update=function(e,i){e=isNaN(e)?0:e,i=isNaN(i)?0:i,this.timeElement&&(this.timeElement.textContent=t.seconds(e)),this.durationElement&&this.durationElement.textContent!==t.seconds(i)&&(this.durationElement.textContent=t.seconds(i))},t.seconds=function(t){var e="",i=Math.floor(t/3600),r=Math.floor(t%3600/60),n=Math.floor(t%3600%60);return e+=i>0?i+":":"",e+=r+":",e+=n<10?"0"+n:n},t.Render=function(e){var i=e.tracker,r=e.time,n=void 0===r?0:r,s=e.duration,o=void 0===s?0:s;return l.createElement("div",{className:a.cssClass("time_tracker")},l.createElement("span",{ref:function(t){return i.timeElement=t}},t.seconds(n)),l.createElement("span",null,"/"),l.createElement("span",{ref:function(t){return i.durationElement=t}},t.seconds(o)))},t}(),c=function(){function t(){}return t.prototype.clickRatio=function(t){var e=t.currentTarget;return(t.clientX-e.getBoundingClientRect().left)/(e.getBoundingClientRect().right-e.getBoundingClientRect().left)},t.prototype.setRatio=function(t,e){void 0===e&&(e=0),this.progressElement.style.transform="scaleX("+t+")",this.progressElement.style.transition=e?"transform "+e+"s linear":""},t.prototype.setInteractive=function(t){a.toggleClass(this.mainElement,(e={},e[a.cssClass("interactive")]=t,e));var e},t.prototype.setVisibility=function(t){a.toggleClass(this.mainElement,(e={},e[a.cssClass("hidden")]=t,e));var e},t.Render=function(t){var e=t.bar,i=t.className,r=t.value,n=void 0===r?0:r,s=t.onClick;return l.createElement("div",{ref:function(t){return e.mainElement=t},className:i,onClick:s},l.createElement("div",{ref:function(t){return e.progressElement=t},className:a.cssClass("progress"),style:{transform:"scaleX("+n+")"}}))},t}(),h=function(){function t(t){var e=this;this.itemElements=[],this.expanded=!1,this.toggleBitrateList=function(){a.toggleClass(e.listElement,(t={},t[a.cssClass("hidden")]=e.expanded,t)),e.expanded=!e.expanded,e.itemElements.map(function(t,i){a.toggleClass(t,(r={},r[a.cssClass("selected")]=e.contentUrlPlayer.selectedVariant==i,r));var r});var t},this.contentUrlPlayer=t}return t.prototype.setVisibility=function(t){a.toggleClass(this.button,(e={},e[a.cssClass("hidden")]=!t,e));var e},t.Render=function(t){var e=t.bitrate;return[l.createElement("div",{ref:function(t){return e.button=t},className:a.cssClass("bitrate_button"),onClick:e.toggleBitrateList}),l.createElement("div",{ref:function(t){return e.listElement=t},className:a.cssClass("bitrate_list")+" "+a.cssClass("hidden")},e.contentUrlPlayer.variantsList.map(function(t,i){return l.createElement("div",{ref:function(t){return e.itemElements[i]=t},className:a.cssClass("bitrate_item")+(e.contentUrlPlayer.selectedVariant==i?" "+a.cssClass("selected"):""),onClick:function(){e.contentUrlPlayer.setContentVariant(i),e.toggleBitrateList()}},t.label)}))]},t}(),p=function(){function t(t,e,i){var r=this;this.contentOnly=i,this.players=null,this.isContent=!1,this.paused=!0,this.lastPositionTime=0,this.duration=0,this.autoUpdateInterval=500,this.CloseButton=function(){return l.createElement("div",{className:a.cssClass("close_button"),onClick:function(){return o.collapsePlayer(r.players,!1)}})},this.SkipButton=function(){return l.createElement("div",{className:a.cssClass("skip_button"),onClick:function(){return o.skipVideo(r.players)}},"skip")},this.ControlSkipButton=function(){return l.createElement("div",{className:a.cssClass("controls_skip_button"),onClick:function(){return o.skipVideo(r.players)}})},this.OverlayPlayButton=function(t){var e=t.overlay;return l.createElement(f.Render,{overlay:e,onClick:function(t){t.stopPropagation(),o.resumePlayingPlayer(r.players,"ui")}})},this.PlaybackButton=function(){return l.createElement("div",{className:a.cssClass("playback_button"),onClick:function(){return(r.paused?o.resumePlayingPlayer:o.pausePlayingPlayer)(r.players,"ui")}})},this.VolumeButton=function(){return l.createElement("div",{className:a.cssClass("volume_button"),onClick:function(){o.setPlayerVolume(r.players,r.players.muted?r.players.volume>0?r.players.volume:1:r.players.volume,!r.players.muted),n(r.players,!0)}})},this.VolumeBar=function(t){var e=t.bar;return l.createElement(c.Render,{bar:e,className:a.cssClass("volume_bar"),value:r.players.volume,onClick:function(t){var i=e.clickRatio(t);o.setPlayerVolume(r.players,i),r.updateElements(!0)}})},this.SeekBar=function(t){var e=t.bar;return l.createElement(c.Render,{bar:e,className:a.cssClass("seek_bar"),value:0,onClick:function(t){var i=o.getProgress(r.players),n=i.content,a=i.duration;if(n&&a){var s=a*e.clickRatio(t);r.players.contentUrlPlayer.seekContent(s)}}})},t.divElem&&(this.players=t,this.playerElement=t.divElem,this.init(e))}return t.prototype.init=function(t){var e=this;t.close&&this.playerElement.appendChild(l.createElement(this.CloseButton,{ref:function(t){return e.closeButton=t}})),this.players.controlBarType||t.skip&&this.playerElement.appendChild(l.createElement(this.SkipButton,{ref:function(t){return e.skipButton=t}})),t.overlay&&this.playerElement.appendChild(l.createElement(this.OverlayPlayButton,{overlay:this.overlayPlayButton=new f})),(t.play||t.mute||t.volume||t.seek||t.time||t.bitrate)&&(this.barElement=l.createElement("div",{className:a.cssClass("control_bar")},t.seek&&l.createElement(this.SeekBar,{bar:this.seekBar=new c}),t.play&&l.createElement(this.PlaybackButton,{ref:function(t){return e.playbackButton=t}}),t.mute&&l.createElement(this.VolumeButton,{ref:function(t){return e.volumeButton=t}}),t.volume&&l.createElement(this.VolumeBar,{bar:this.volumeBar=new c}),t.time&&l.createElement(u.Render,{tracker:this.timeTracker=new u}),t.skip&&this.players.controlBarType&&l.createElement(this.ControlSkipButton,{ref:function(t){return e.skipButton=t}}),t.bitrate&&this.players.contentUrlPlayer.variantsList.length>0&&l.createElement(h.Render,{bitrate:this.bitrate=new h(this.players.contentUrlPlayer)})),this.playerElement.appendChild(this.barElement),this.updateTimer=setInterval(function(){n(e.players)},this.autoUpdateInterval))},t.prototype.updateElements=function(t){var e=o.getProgress(this.players),i=e.paused,r=e.time,n=e.duration,s=e.content;if(this.contentOnly&&a.toggleClass(this.barElement,(d={},d[a.cssClass("hidden")]=!s,d)),this.players.started&&this.overlayPlayButton&&(this.overlayPlayButton.remove(),this.overlayPlayButton=null),a.toggleClass(this.playbackButton,(u={},u[a.cssClass("playback_play_button")]=i,u[a.cssClass("playback_pause_button")]=!i,u)),a.toggleClass(this.volumeButton,(c={},c[a.cssClass("volume_unmute_button")]=this.players.muted,c[a.cssClass("volume_mute_button")]=!this.players.muted,c)),this.timeTracker&&this.timeTracker.update(r,n),this.volumeBar&&this.volumeBar.setRatio(this.players.volume),this.bitrate&&this.bitrate.setVisibility(s),this.seekBar)if(this.seekBar.setInteractive(s&&!this.players.usejsv),this.seekBar.setVisibility(isNaN(n)),isNaN(n)||isNaN(r))this.seekBar.setRatio(0);else{var l=0;t=t||i||this.isContent!=s||Math.abs(r-this.lastPositionTime)>=1||isNaN(this.lastPositionTime)&&isNaN(this.duration),t||(l=Math.min(n-r,(this.autoUpdateInterval+50)/1e3),r+=l),this.seekBar.setRatio(r/n,l)}this.lastPositionTime=r,this.duration=n,this.isContent=s,this.paused=i,this.lastUpdateTime=Date.now();var d,u,c},t.prototype.destroy=function(){clearTimeout(this.debounceTimer),clearInterval(this.updateTimer)},t}();e.Controls=p,e.updateControlBar=n;var f=function(){function t(){}return t.prototype.remove=function(){this.mainElement&&this.mainElement.parentNode&&this.mainElement.parentNode.removeChild(this.mainElement),this.mainElement=null},t.Render=function(t){var e=t.overlay,i=t.onClick;return l.createElement("div",{ref:function(t){return e.mainElement=t},className:a.cssClass("play_button"),onClick:i})},t}()},function(t,e,i){"use strict";function r(t){return void 0===t&&(t=navigator.userAgent),!(t.match(/Safari\/602/)||t.match(/Android.*Chrome\/(5[3-9]|[6-8][0-9])/)&&!t.match(/wv\)/))}function n(){window.jsv_config||(window.jsv_config={doNotPatchCreateElement:!0},i(44).polyfill(),i(45))}function a(){var t=new video_jsv;return t.setAttribute("preload","auto"),t}function s(){try{var t=document.createElement("video");t.src="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAAAAG1wNDJtcDQxaXNvbWF2YzEAAATKbW9vdgAAAGxtdmhkAAAAANLEP5XSxD+VAAB1MAAAdU4AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAACFpb2RzAAAAABCAgIAQAE////9//w6AgIAEAAAAAQAABDV0cmFrAAAAXHRraGQAAAAH0sQ/ldLEP5UAAAABAAAAAAAAdU4AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAoAAAAFoAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAHVOAAAH0gABAAAAAAOtbWRpYQAAACBtZGhkAAAAANLEP5XSxD+VAAB1MAAAdU5VxAAAAAAANmhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABMLVNNQVNIIFZpZGVvIEhhbmRsZXIAAAADT21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAw9zdGJsAAAAwXN0c2QAAAAAAAAAAQAAALFhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAoABaABIAAAASAAAAAAAAAABCkFWQyBDb2RpbmcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAAAOGF2Y0MBZAAf/+EAHGdkAB+s2UCgL/lwFqCgoKgAAB9IAAdTAHjBjLABAAVo6+yyLP34+AAAAAATY29scm5jbHgABQAFAAUAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAAQBjdHRzAAAAAAAAAB4AAAABAAAH0gAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAB9IAAAAUc3RzcwAAAAAAAAABAAAAAQAAACpzZHRwAAAAAKaWlpqalpaampaWmpqWlpqalpaampaWmpqWlpqalgAAABxzdHNjAAAAAAAAAAEAAAABAAAAHgAAAAEAAACMc3RzegAAAAAAAAAAAAAAHgAAA5YAAAAVAAAAEwAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABRzdGNvAAAAAAAAAAEAAAT6AAAAGHNncGQBAAAAcm9sbAAAAAIAAAAAAAAAHHNiZ3AAAAAAcm9sbAAAAAEAAAAeAAAAAAAAAAhmcmVlAAAGC21kYXQAAAMfBgX///8b3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMTEgNzU5OTIxMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTUgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz0xMSBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgc3RpdGNoYWJsZT0xIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PWluZmluaXRlIGtleWludF9taW49Mjkgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz0ycGFzcyBtYnRyZWU9MSBiaXRyYXRlPTExMiByYXRldG9sPTEuMCBxY29tcD0wLjYwIHFwbWluPTUgcXBtYXg9NjkgcXBzdGVwPTQgY3BseGJsdXI9MjAuMCBxYmx1cj0wLjUgdmJ2X21heHJhdGU9ODI1IHZidl9idWZzaXplPTkwMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAG9liIQAFf/+963fgU3DKzVrulc4tMurlDQ9UfaUpni2SAAAAwAAAwAAD/DNvp9RFdeXpgAAAwB+ABHAWYLWHUFwGoHeKCOoUwgBAAADAAADAAADAAADAAAHgvugkks0lyOD2SZ76WaUEkznLgAAFFEAAAARQZokbEFf/rUqgAAAAwAAHVAAAAAPQZ5CeIK/AAADAAADAA6ZAAAADwGeYXRBXwAAAwAAAwAOmAAAAA8BnmNqQV8AAAMAAAMADpkAAAAXQZpoSahBaJlMCCv//rUqgAAAAwAAHVEAAAARQZ6GRREsFf8AAAMAAAMADpkAAAAPAZ6ldEFfAAADAAADAA6ZAAAADwGep2pBXwAAAwAAAwAOmAAAABdBmqxJqEFsmUwIK//+tSqAAAADAAAdUAAAABFBnspFFSwV/wAAAwAAAwAOmQAAAA8Bnul0QV8AAAMAAAMADpgAAAAPAZ7rakFfAAADAAADAA6YAAAAF0Ga8EmoQWyZTAgr//61KoAAAAMAAB1RAAAAEUGfDkUVLBX/AAADAAADAA6ZAAAADwGfLXRBXwAAAwAAAwAOmQAAAA8Bny9qQV8AAAMAAAMADpgAAAAXQZs0SahBbJlMCCv//rUqgAAAAwAAHVAAAAARQZ9SRRUsFf8AAAMAAAMADpkAAAAPAZ9xdEFfAAADAAADAA6YAAAADwGfc2pBXwAAAwAAAwAOmAAAABdBm3hJqEFsmUwIK//+tSqAAAADAAAdUQAAABFBn5ZFFSwV/wAAAwAAAwAOmAAAAA8Bn7V0QV8AAAMAAAMADpkAAAAPAZ+3akFfAAADAAADAA6ZAAAAF0GbvEmoQWyZTAgr//61KoAAAAMAAB1QAAAAEUGf2kUVLBX/AAADAAADAA6ZAAAADwGf+XRBXwAAAwAAAwAOmAAAAA8Bn/tqQV8AAAMAAAMADpkAAAAXQZv9SahBbJlMCCv//rUqgAAAAwAAHVE=",t.muted=!0,t.playsInline=!0,t.style.display="none";var e=null,i=null;t.addEventListener("playing",function(){e&&e(!0)}),t.addEventListener("error",function(){i&&i()}),document.body.appendChild(t),t.load();var r=t.play();return r&&r.then?r:new o.Promise(function(t,r){e=t,i=r,setTimeout(i,100)})}catch(t){}return o.Promise.reject(null)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(10);e.isNeeded=r,e.include=n,e.createVideoElement=a,e.supportsPlayVideo=s},function(t,e){function i(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var a=r(n);return[i].concat(n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"})).concat([a]).join("\n")}return[i].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=i(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(r[a]=!0)}for(n=0;n<t.length;n++){var s=t[n];"number"==typeof s[0]&&r[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(t){if(u===setTimeout)return setTimeout(t,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function a(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function s(){A&&p&&(A=!1,p.length?f=p.concat(f):v=-1,f.length&&o())}function o(){if(!A){var t=n(s);A=!0;for(var e=f.length;e;){for(p=f,f=[];++v<e;)p&&p[v].run();v=-1,e=f.length}p=null,A=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function d(){}var u,c,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(t){u=i}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(t){c=r}}();var p,f=[],A=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];f.push(new l(t,e)),1!==f.length||A||n(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=d,h.addListener=d,h.once=d,h.off=d,h.removeListener=d,h.removeAllListeners=d,h.emit=d,h.prependListener=d,h.prependOnceListener=d,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){},function(t,e){function i(){try{new Uint8Array(1);return}catch(t){}window.Uint8Array=a,window.Uint32Array=a,window.Int32Array=a}function r(t,e){return this.slice(t,e)}function n(t,e){arguments.length<2&&(e=0);for(var i=0,r=t.length;i<r;++i,++e)this[e]=255&t[i]}function a(t){var e;if("number"==typeof t){e=new Array(t);for(var i=0;i<t;++i)e[i]=0}else e=t.slice(0);return e.subarray=r,e.buffer=e,e.byteLength=e.length,e.set=n,"object"==typeof t&&t.buffer&&(e.buffer=t.buffer),e}e.polyfill=i},function(t,e){if(void 0===window&&(window=self),void 0===window.document){var i={log:function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);window.postMessage({t:"func",n:"log",args:t})}};window.jsv_is_ww=!0,window.document={},window.navigator={appVersion:"",userAgent:""},window.document.URL="http://a.ca"}else window.jsv_is_ww=!1;!function(t){function e(){}t.Bc=function(t){t.ra={},t.addEventListener=function(t,e){this.ra.hasOwnProperty(t)?this.ra[t].push(e):this.ra[t]=[e]},t.removeEventListener=function(t,e){if(this.ra.hasOwnProperty(t)){var i=this.ra[t].indexOf(e);-1!=i&&this.ra[t].splice(i,1)}},t.dispatchEvent=function(t,e){if(this.ra.hasOwnProperty(t)){var i={};i.detail=e;for(var r=this.ra[t],n=r.length,a=0;a<n;a++)r[a].apply(null,[i])}}},ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(t,e){var i=new Uint8Array(this);void 0==e&&(e=i.length);for(var r=new ArrayBuffer(e-t),n=new Uint8Array(r),a=0;a<n.length;a++)n[a]=i[a+t];return r}),e.prototype.save=function(t,e,i){var r=document.createElement("a");r.download=e,r.href="data:"+i+"/octet-stream;base64,"+t,document.body.appendChild(r),r.click()},e.prototype.ext=function(t,e){for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t},e.prototype.time=function(){return(new Date).getTime()},e.prototype.ff=function(){var e;if(t.XMLHttpRequest)e=new t.XMLHttpRequest;else try{e=new XDomainRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}}return e},e.prototype.pe=function(t,e){t.addEventListener?t.addEventListener("message",e,!1):t.attachEvent&&t.attachEvent("onmessage",e)},e.prototype.Ac=function(){return-1!=navigator.appVersion.indexOf("MSIE")||!!navigator.userAgent.match(/Trident.*rv 11\./)},e.prototype.Fb=function(t){return t.split("/")[2]},e.prototype.Zb=function(t){return/[-\w]+\.(?:[-\w]+\.xn--[-\w]+|[-\w]{3,}|[-\w]+\.[-\w]{2})$/i.exec(this.Fb(t))[0]},e.prototype.bind=function(t,e){return function(){return t.apply(e,arguments)}},e.prototype.Ve=function(){return void 0!==t.postMessage},t.easybits_Helper=function(){return new e}}(window),function(t){function e(){}function i(){}function r(){if(this.v=[],this.Tb=[],this.zb=[],u.Ve()&&u.pe(t,u.bind(this.He,this)),u.Ac()){var e=document.createElement("script");e.type="text/vbscript",e.text='Function easy_arr(t)\neasy_arr= CStr(t)\nEnd Function\nFunction easy_arrl(t)\neasy_arrl= ""\nif LenB(t) mod 2 Then easy_arrl= Chr(AscB(RightB(t,1)))\nEnd Function',document.body.appendChild(e)}}function n(t){this.onError=t.onError,this.bpc=t.bpc,this.mode=t.mode,this.bType=t.bType,this.za=t.za,this.ud=!0,this.xc=t.fb,this.fa=t.end,this.Je=t.Cb,this.Le=t.cb,this.wc=t.speed,this.P=this.Ob=this.vc=this.vd=this.uc=0,this.xb=this.vb=t.start,this.wb=[],this.B=l++}function a(){this.De=document.URL,this.tc=this.Qb=!1,this.rc=!0,this.sc,this.u,this.Ce=[]}function s(e){var n=this;o.addEventListener("error",function(t){var e;(e=n.Se(t.detail.id))&&e.onError&&e.onError(t)}),d=l=0,u=t.easybits_Helper(),void 0!==e&&(f=u.ext(e,f)),c=new i,h=new r,e=new a,e.tc=!0,e=h.v.push(e)-1,h.v[e].u=e,t.lf=function(t,e){return h.Pd(t,e)}}var o={};t.Bc(o),o.c=function(t,e){void 0===e&&(e=null),this.dispatchEvent(t,e)};var l,d,u,c,h,p=[],f={bpc:8e4,minbpc:.25,maxbpc:1.25},A=[];s.prototype.Se=function(t){for(var e=0;e<A.length;e++)if(A[e].B==t)return A[e];return!1},s.prototype.Sb=function(t){return h.Sb(t)},s.prototype.cancel=function(t){for(var e=0;e<A.length;e++)if(A[e].B==t)return A[e].ud=!1,!0;return!1},s.prototype.load=function(t){if("function"!=typeof t.Cb)throw Error("Callback is not callable");if(void 0!==t.cb&&"function"!=typeof t.cb)throw Error("Callback is not callable");if(t=u.ext(t,{onError:function(){},bpc:f.bpc,mode:"range",bType:"text",qb:!1,start:0,end:"",speed:!1,za:0}),t.qb)for(var e=0;e<=t.fb.length;e++)p.push(t.fb[e]);return t=new n(t),A.push(t),t.Ie(),t.B},t.easybits_getHTTPMultiStreaming=function(t){return new s(t)},n.prototype.td=function(t){if(t.R==this.xb)if(this.xb+=t.K-t.R+1,this.Je({data:t.qa,start:t.R,end:t.K,total:t.P,id:this.B,pf:t.ub,mf:this.za&&u.Zb(t.H)!=u.Zb(document.URL)}),this.xb<this.fa){for(t=0;t<this.wb.length;t++)if(this.wb[t].R==this.xb){this.td(this.wb[t]),this.wb.slice(t,1);break}}else this.Le({id:t.B,totaltime:(u.time()-this.vc)/1e3,total:t.P});else this.wb.push(t)},n.prototype.yb=function(t){if(!(this.vb>=this.fa&&""!=this.fa)){var e=t.bpc;if(h.v[t.u].Qb){for(var i=0,r=0,n=0;n<h.v.length;n++)t.u!=n&&h.v[n].rc&&h.v[n].Qb&&(r++,i+=h.v[n].Qb);i&&(e=Math.round(t.bpc*h.v[t.u].Qb/(i/r)))}f.maxbpc*t.bpc<e&&(e=f.maxbpc*t.bpc),f.minbpc*t.bpc>e?h.v[t.u].rc=!1:(i=this.vb,r=this.vb+e-1,r>this.fa&&""!=this.fa&&(r=this.fa,e=r-i+1),this.vb+=e,h.Sb({bpc:t.bpc,mode:t.mode,bType:t.bType,xd:u.time(),R:i,K:r,H:t.H,Rb:u.bind(this.Ke,this),u:t.u,B:this.B,ub:++d,za:this.za}))}},n.prototype.Ke=function(t){if(this.ud){if(this.P=t.P,(this.fa>t.P||""==this.fa)&&(this.fa=t.P-1),h.v[t.u].wd=h.v[t.u].wd?(h.v[t.u].wd+t.qa.length/(u.time()-t.xd))/2:t.qa.length/(u.time()-t.xd),this.td(t),!(t.K>=t.P))if(this.wc){this.Ob+=t.qa.length;var e=u.time()-this.vc;if(this.vd=1e3*this.Ob/e,this.vd>this.wc){var i=this;setTimeout(function(){i.yb(t)},1e3*this.Ob/this.wc-e)}else this.yb(t)}else this.uc?(i=this,setTimeout(function(){i.yb(t)},1e3*this.uc),this.uc=0):this.yb(t)}else for(e=0;e<A.length;e++)if(A[e].B==this.B){A.splice(e,1);break}},n.prototype.Ie=function(){this.vc=u.time();for(var t=0;t<this.xc.length;t++){var e=h.Pb(this.xc[t]);if(e&&e.rc){var i={u:e.u,H:this.xc[t],B:this.B,bType:this.bType,mode:this.mode,bpc:this.bpc};e.tc?this.yb(i):h.v[e.u].Ce.push(i)}}},r.prototype.Sb=function(t){if("function"!=typeof t.Rb)throw Error("Callback is not callable");if(-1!=p.indexOf(t.H)||u.Fb(t.H)==u.Fb(document.URL))c.sd(t);else if(u.Zb(t.H)==u.Zb(document.URL)){var i=h.Pb(t.H);document.getElementById(i.sc).contentWindow.kf.Sb(t)}else i=h.Pb(t.H),h.zb.push(t),document.getElementById(i.sc).contentWindow.postMessage({source:"httpmutlistreaming",data:(new e).Kd({yd:"easy_stream_getBytes",bType:t.bType,mode:t.mode,bpc:t.bpc,R:t.R,K:t.K,H:t.H,u:t.u,B:t.B,ub:t.ub,za:t.za})},"*")},r.prototype.Pb=function(t){-1!=p.indexOf(t)&&(t=document.URL),t=u.Fb(t);for(var e=0;e<this.v.length;e++)if(u.Fb(this.v[e].De)==t)return this.v[e];return!1},r.prototype.Pd=function(t,e){var i=this.Pb(t);for(i.sc=e,i.tc=!0,i=this.Tb.length;i--;)if(this.Tb[i].H==t){var r=this.Tb[i];this.Tb.splice(i,1),r.gf(t,e,r.u)}},r.prototype.He=function(t){if(t.data.source&&"httpmutlistreaming"==!t.data.source){var i=parseInt(t.data.data.substring(0,7).replace(/^[0]+/g,"")),r=(new e).Ee(t.data.data.substring(7,i+7));switch(r.yd){case"easy_onGetBytes":for(var n=this.zb.length;n--;)if(this.zb[n].ub==r.ub){r.qa=t.data.data.substring(7+i),t=this.zb[n],this.zb.splice(n,1),t.za||(r.qa=r.qa.replace(/abcdezzz/g,String.fromCharCode(0))),t.Rb(r);break}break;case"easy_stream_getBytes":r.Rb=u.bind(this.Ge,this),c.sd(r);break;case"onLL":h.Pd(r.url,r.id)}}},r.prototype.Ge=function(i){var r,n=new e,a={};for(r in i)"easy_data"!=r&&(a[r]=i[r]);a.yd="easy_onGetBytes",t.parent.postMessage({source:"httpmutlistreaming",data:n.Kd(a)+i.qa.replace(/\0/g,"abcdezzz")},"*")},i.prototype.ze=function(t){function e(){4==i.readyState&&t.Me(i)}var i=u.ff();i.open("GET",t.url,!0),"text"==t.bType?u.Ac()||i.overrideMimeType("text/plain; charset=x-user-defined"):i.responseType="arraybuffer","range"==t.mode&&i.setRequestHeader("Range","bytes="+t.R+"-"+t.K),void 0!==i.onload?i.onload=e:i.onreadystatechange=e,i.send()},i.prototype.sd=function(t){var e=this,i="range"==t.mode?t.H:-1==t.H.indexOf("?")?t.H+"?bytes="+t.R+t.K:t.H+"&bytes="+t.R+t.K;this.ze({bpc:t.bpc,mode:t.mode,bType:t.bType,url:i,R:t.R,K:t.K,Me:function(r){if(200>r.status||300<=r.status&&304!=r.status)return o.c("error",{id:t.B,message:"HTTP status code for "+i+" "+r.status}),!1;if(r.getResponseHeader("Content-Range"))t.P=r.getResponseHeader("Content-Range").split("/")[1];else if(t.K=t.P=r.getResponseHeader("Content-Length"),!t.P&&"range"==t.mode)return o.c("error",{id:t.B,message:"Could not stat object size "+i}),!1;if(t.K>t.P&&(t.K=t.P-1),"text"==t.bType){r=u.Ac()?e.Ae(r.of):r.responseText;var n=r.length}else r=r.response,n=r.byteLength;n&&(t.qa=t.hf?e.Be(r):r,t.Rb(t))}})},i.prototype.Ae=function(t){return easy_arr(t).replace(/[\s\S]/g,function(t){return t=t.charCodeAt(0),String.fromCharCode(255&t,t>>8)})+easy_arrl(t)},i.prototype.Be=function(t){return"<![CDATA["+(t=t.replace(/\0/g,"abcdezzz"))+"]]>"},e.prototype.Ee=function(t){var e={};t=t.split(";");for(var i=0;i<t.length;i++){var r=t[i].split("abcdefghzzz");e[r[0]]=r[1]}return e},e.prototype.Kd=function(t){var e,i="";for(e in t)i+=e+"abcdefghzzz"+t[e]+";";return i=i.substring(0,i.length-1),this.Fe(i.length)+i},e.prototype.Fe=function(t){var e;return e=7-t.toString().length,0<e?Array(e+(/\./.test(t)?2:1)).join("0")+t:t+""},t.jf=function(){return new e}}(window),function(t){function e(t){this.La=new Uint8Array(t),this.gb=this.length=this.La.length,this.index=0}t.ez_br=function(){return new e},e.prototype.Xe=function(t){var e=this.index>>3,i=8-this.index%8;if(i>=t)return this.La[e]>>i-t&255>>8-t;var r=(this.index+t)%8;for(t=this.index+t-1>>3,i=this.La[e]&255>>8-i,e++;e<t;e++)i<<=8,i|=this.La[e];return 0<r?i=i<<r|this.La[e]>>8-r:(i<<=8,i|=this.La[e]),i},e.prototype.b=function(t){var e=this.Xe(t);return this.index+=t,e},e.prototype.advance=function(t){return this.index+=t},e.prototype.Rd=function(t){return this.index-=t};var i;t.ez_p=function(t){for(easy_processedBytes=0;easy_processedBytes+188<=t.byteLength;){i=new e(t.slice(easy_processedBytes,easy_processedBytes+188)),easy_processedBytes+=188;var r;if(71!=i.b(8))throw Error("Packet sync byte not found");if(i.b(1),i.b(1),i.b(1),i.b(13),i.b(2),r=i.b(1),i.b(1),i.b(4),r&&(i.b(8),i.b(1),i.b(1),i.b(1),r=i.b(1),i.b(1),i.b(1),i.b(1),i.b(1),r)){r=i.b(32);var n=i.b(16);r=(2*r+(n>>15&1)+(r>>31&1))/9e4+(511&n)/27e6}else r=!1;if(r)return r}return!1}}(window),function(t){function e(){this.log="",this.f=this.o=!1,this.Jc=0,this.Hb=!1,this.xa=this.ad=this.Jb=null,this.Ne()}function r(t,e){return function(){return t.apply(e,arguments)}}function n(){var t=document.getElementsByTagName;document.getElementsByTagName=function(e){var i=t.call(document,e),i=[].slice.call(i),r=[];return"video"==e&&(e=t.call(document,"jsv"),r=[].slice.call(e)),i.concat(r)}}function a(e,i){var r=new t.video_jsv;r.style.width=e.offsetWidth+"px",r.style.height=e.offsetHeight+"px";for(var n="data-audio preload loop autoplay poster id class".split(" "),a=0;a<n.length;a++)e.hasAttribute(n[a])&&r.setAttribute(n[a],e.getAttribute(n[a]));r.setAttribute("src",i),e.parentNode.replaceChild(r,e)}function s(){d=!0;for(var t=document.getElementsByTagName("video"),e=0;e<t.length;e++)if("VIDEO"==t[e].tagName&&"src"in t[e])if("src"in t[e]&&/\.jsv$/.test(t[e].src))a(t[e],t[e].src);else for(var i=t[e].getElementsByTagName("source"),r=0;r<i.length;r++)/\.jsv$/.test(i[r].src)&&a(t[e],i[r].src)}!function(){for(var e=0,i=["ms","moz","webkit","o"],r=0;r<i.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[i[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(i){var r=(new Date).getTime(),n=Math.max(0,16-(r-e)),a=t.setTimeout(function(){i(r+n)},n);return e=r+n,a}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}();var o;t.jsv_is_ww||function(){o=function(){function e(t,e,i){this.qe=i,this.Kb=!1,this.pa=1,this.ma=this.kc=!1,this.ha=0,this.Dd=this.ha+2,this.url=t,this.Eb=0,this.Na=[],this.WebSocket=this.node=!1,this.ef=r(this.ef,this),this.h=!1,this.$a=this.frame=0,this.nc=Array(e),this.nd=e,this.Ec=r(this.Ec,this)}var i,n,a;if(i=t.AudioContext||t.webkitAudioContext){e.qf=i&&("function"==typeof i.prototype[n="createScriptProcessor"]||"function"==typeof i.prototype[n="createJavaScriptNode"]),"function"==typeof i.prototype[a="createGainNode"]||i.prototype[a="createGain"],e.prototype.connect=function(){if(!this.WebSocket&&t.jsv_AC){this.G=t.jsv_AC,this.ye=this.G.sampleRate;var e=this;this.G.createBufferSource(),this.WebSocket=new WebSocket(this.url),this.WebSocket.onopen=function(){e.WebSocket.binaryType="arraybuffer",e.WebSocket.onmessage=function(t){e.G.decodeAudioData(t.data,function(t){e.ha||(e.ha=Math.ceil(e.qe/(t.length/e.ye)),e.Dd=0<e.ha?e.ha:e.ha+1),e.Na.push(t),e.h&&!e.Eb&&e.Na.length>=e.ha?e.Od():e.Kb?(e.Kb=!1,e.play()):e.Eb&&e.Na.length>e.Dd&&e.Na.shift()},function(){})}}}},e.prototype.Ec=function(t){t=t.outputBuffer;var e,i,r,n=t.numberOfChannels,a=Array(n);for(i=r=0;r<n;i=r+=1)a[i]=t.getChannelData(i);if(!this.frame){if(this.frame=this.Na.shift(),!this.frame)return this.Kb=!0,void this.pause();for(i=r=this.$a=0;r<n;i=r+=1)this.nc[i]=this.frame.getChannelData(i)}for(e=0;this.frame&&e<t.length;){for(i=Math.min(this.frame.length-this.$a,t.length-e),r=0;r<i;r+=1){for(var s=0;s<n;s++)a[s][e]=this.nc[s][this.$a];e++,this.$a++}if(this.$a===this.frame.length){if(this.frame=this.Na.shift(),!this.frame){this.Kb=!0,this.pause();break}for(i=r=this.$a=0;r<n;i=r+=1)this.nc[i]=this.frame.getChannelData(i)}}},e.prototype.Od=function(){this.Eb=!0,this.node=this.G[n](4096,this.nd,this.nd),this.node.onaudioprocess=this.Ec,this.ga=this.G[a](),this.ga.gain.value=this.pa,this.kc&&(this.muted=this.kc),this.node.connect(this.ga),this.ga.connect(this.G.destination)},e.prototype.pause=function(){this.h&&(this.h=!1,this.G&&(this.G.suspend?this.G.suspend():this.ga.disconnect()))},e.prototype.play=function(){this.h||(this.h=!0,this.Eb&&(this.G.resume?this.G.resume():this.ga.connect(this.G.destination)),!this.Eb&&this.ha&&this.Na.length>=this.ha&&this.Od())},e.prototype.rd=function(){return this.WebSocket&&this.WebSocket.close(),!this.node||this.node.disconnect(0)},e.prototype.__defineSetter__("volume",function(t){1<arguments.length&&(t=arguments[1]),this.pa=t,this.ga&&(this.ga.gain.value=this.pa)}),e.prototype.__defineSetter__("muted",function(t){1<arguments.length&&(t=arguments[1]),this.ma=t,this.ga?this.ga.gain.value=this.ma?0:this.pa:this.kc=this.ma}),e.prototype.__defineGetter__("currentTime",function(){return this.G?this.G.currentTime:0}),i=["preload","playbackRate"];for(var s=0;s<i.length;s++)e.prototype.__defineSetter__(i[s],function(){});return e}}()}();var l=!1,d=!1,u=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),c=!0,h=[];t.jsv_is_ww||(void 0!==t.jsv_config&&void 0!==t.jsv_config.doNotPatchCreateElement&&t.jsv_config.doNotPatchCreateElement||function(){var e=document.createElement;document.createElement=function(i){return"video"==i?new t.video_jsv:e.call(document,i)},n()}(),function(e){l||(l=!0,document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t,!1),e()},!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function t(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",t),e())}),document.documentElement.doScroll&&t==t.top&&function t(){if(!d){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}e()}}()))}(s)),t.video_jsv=function(){function e(t,e,i){return function(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);e.l.postMessage({t:i,n:t,args:r})}}var i=["play","pause","load","canPlayType"],r="loop preload src autoplay currentSrc currentTime defaultMuted defaultPlaybackRate playbackRate duration".split(" "),n="muted volume loop preload data-audio poster src autoplay buffered seeking controls currentSrc currentTime defaultMuted defaultPlaybackRate playbackRate duration ended networkState paused readyState seekable played error".split(" "),a="muted volume loop preload data-audio poster src autoplay controls currentSrc currentTime defaultMuted defaultPlaybackRate playbackRate duration".split(" ");if(t.jsv_is_ww)var s={};else{s=document.createElement("jsv"),s.style.display="block",t.Worker&&void 0!==t.jsv_config&&void 0!==t.jsv_config.worker&&(s.l=new Worker(t.jsv_config.worker),s.l.postMessage(""));var o=s.getAttribute;s.getAttribute=function(t){return-1!=n.indexOf(t)?p.prototype.__lookupGetter__(t).apply(this,arguments):o.apply(this,arguments)};var l=s.setAttribute;s.setAttribute=function(t){if(s.l&&-1!=r.indexOf(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);return s.l.postMessage({t:"set",n:t,args:e})}return-1!=a.indexOf(t)?(l.apply(this,arguments),p.prototype.__lookupSetter__(t).apply(this,arguments)):l.apply(this,arguments)}}for(var d in p.prototype)-1!=n.indexOf(d)?-1!=a.indexOf(d)?s.l&&-1!=r.indexOf(d)?Object.defineProperty(s,d,{configurable:!0,get:p.prototype.__lookupGetter__(d),set:e(d,s,"set")}):Object.defineProperty(s,d,{configurable:!0,get:p.prototype.__lookupGetter__(d),set:p.prototype.__lookupSetter__(d)}):Object.defineProperty(s,d,{configurable:!0,get:p.prototype.__lookupGetter__(d)}):s[d]=s.l&&-1!=i.indexOf(d)?e(d,s,"func"):p.prototype[d];return s.l&&s.l.addEventListener("message",function(t){var e=t.data.args&&!Array.isArray(t.data.args)?Object.keys(t.data.args).map(function(e){return t.data.args[e]}):t.data.args;switch(t.data.t){case"event":s.c(t.data.n,e);break;case"func":"sidm"==t.data.n?s.pb.putImageData(e[0],0,0):s[t.data.n].apply(s,e)}}),s.Uc(),s};var p=t.nf=function(){this.Uc()};p.prototype.canPlayType=function(t){return-1!=t.indexOf("jsv")?"probably":""},p.prototype.fe=function(){if(this.buffer.advance(16),this.hc.width=this.buffer.b(16),this.hc.height=this.buffer.b(16),this.F=this.buffer.b(16)/100,this.F||(this.F=this.buffer.b(24)/100),this.O||(this.hb=this.F*this.chunkSize/this.Da,this.ac=Math.ceil(this.bufferSec/this.hb)),!this.o&&this.Da>y&&(this.buffer.Hb=!0),452==this.buffer.b(32)){var t=this.buffer.b(32),e=this.buffer.index>>3;this.Ea={count:t,buffer:new Uint8Array(this.buffer.a.data.buffer.slice(e,e+8*t))},this.buffer.advance(8*t<<3)}},p.prototype.__defineGetter__("error",function(){return this.dc}),p.prototype.__defineGetter__("readyState",function(){return this.Ra}),p.prototype.__defineGetter__("paused",function(){return!this.h}),p.prototype.__defineGetter__("networkState",function(){return this.ic}),p.prototype.__defineGetter__("ended",function(){return this.ib}),p.prototype.__defineGetter__("preload",function(){return this.Ha}),p.prototype.__defineSetter__("preload",function(t){1<arguments.length&&(t=arguments[1]),this.Ha=this.audio.Ze=t}),p.prototype.__defineGetter__("defaultPlaybackRate",function(){return this.cc}),p.prototype.jc=function(t){return t=parseFloat(t),(0>t||1<t)&&(t=1),t},p.prototype.__defineSetter__("defaultPlaybackRate",function(t){1<arguments.length&&(t=arguments[1]),this.cc=this.jc(t)}),p.prototype.__defineGetter__("playbackRate",function(){return this.Qa}),p.prototype.__defineSetter__("playbackRate",function(t){1<arguments.length&&(t=arguments[1]),this.Qa=this.jc(t),this.audio.playbackRate=this.Qa,this.c("ratechange")}),p.prototype.__defineGetter__("defaultMuted",function(){return this.bc}),p.prototype.__defineSetter__("defaultMuted",function(t){1<arguments.length&&(t=arguments[1]),this.bc=t}),p.prototype.__defineGetter__("muted",function(){return this.ma}),p.prototype.__defineSetter__("muted",function(t){1<arguments.length&&(t=arguments[1]),this.ma=t,this.audio.muted=this.ma}),p.prototype.__defineGetter__("volume",function(){return this.pa}),p.prototype.__defineSetter__("volume",function(t){1<arguments.length&&(t=arguments[1]),this.pa=this.jc(t),this.audio.volume=this.pa,this.c("volumechange")}),p.prototype.__defineGetter__("data-audio",function(){return this.Nc}),p.prototype.__defineSetter__("data-audio",function(e){if(1<arguments.length&&(e=arguments[1]),this.Nc=e,-1!=e.indexOf("ws://")||-1!=e.indexOf("wss://")){if(!t.AudioContext&&!t.webkitAudioContext)return this.c("error",{message:"AudioContext is not supported"}),!1;this.audio=void 0==t.jsv_au_de?new o(e,2,this.bufferMinSec+this.audioShiftSec):t.jsv_au_de(e)}else-1!=e.indexOf(".m3u8")?(this.Db=e,this.audio.Yb("")):this.audio.Yb(e),this.audio.Hd();this.D=""!=e,this.l&&this.l.postMessage({t:"func",n:"swaw",args:[e]})}),p.prototype.__defineGetter__("poster",function(){return this.Y?this.Y.src:""}),p.prototype.__defineSetter__("poster",function(t){}),p.prototype.__defineGetter__("played",function(){var t=this.Mc(!0),e={};return e.__defineGetter__("length",function(){return t.length}),e.start=function(e){return t[e].start},e.end=function(e){return t[e].end},e}),p.prototype.__defineGetter__("seekable",function(){var t=this;return{length:1,start:function(){return 0},end:function(){return t.F}}}),p.prototype.__defineGetter__("buffered",function(){return this.buffer.Oe()}),p.prototype.__defineGetter__("seeking",function(){return this.oa}),p.prototype.__defineGetter__("controls",function(){return!1}),p.prototype.__defineSetter__("controls",function(){return!1}),p.prototype.__defineGetter__("duration",function(){return this.F>2?this.F:100*this.F}),p.prototype.__defineSetter__("duration",function(){return!1}),p.prototype.__defineGetter__("src",function(){return this.V}),p.prototype.__defineSetter__("src",function(t){1<arguments.length&&(t=arguments[1]),this.proxyUrl&&(t=this.proxyUrl(t)),this.V=t,this.ke()}),p.prototype.__defineGetter__("currentSrc",function(){return this.V}),p.prototype.__defineSetter__("currentSrc",function(){throw Error("Setting currentSrc is not allowed !")}),p.prototype.__defineGetter__("currentTime",function(){return this.X/1e3}),p.prototype.Mc=function(t){return t?JSON.parse(JSON.stringify(this.cd)):this.cd},p.prototype.c=function(e,i){if(void 0===i&&(i=null),t.jsv_is_ww)t.postMessage({t:"event",n:e,args:i});else{var r=document.createEvent("CustomEvent");r.initCustomEvent(e,!1,!1,i),this.dispatchEvent(r)}},p.prototype.je=function(t){if(this.Ea){try{this.sa(j)}catch(t){return void this.w(t)}this.Ua(),this.sa(B),this.Nb()}else{t*=1e3,this.sa(j),this.Ua(),this.sa(B),this.Nb();try{for(;t-this.X>k;)this.sa(j),this.Ua(),this.sa(B),this.Nb()}catch(t){return void this.w(t)}}if(this.D)if(this.jb){this.jb=!1;var e=this;this.audio.addEventListener("progress",function t(){e.audio.removeEventListener("progress",t),e.h||e.audio.pause(),e.fd()}),this.audio.play()}else this.fd();else this.$c()},p.prototype.fd=function(){var t=this;this.audio.addEventListener("seeked",function e(){t.audio.removeEventListener("seeked",e),t.h&&t.audio.play(),t.$c()}),this.audio.qd(this.currentTime-this.Gb)},p.prototype.ec=function(t){var e=this.Ea.buffer;return t=8*t+4,60*(60*((124&e[t])>>2)+(((3&e[t])<<4)+((240&e[t+1])>>4)))+(((7&e[t+1])<<3)+((224&e[t+2])>>5))+(((31&e[t+2])<<1)+((128&e[t+3])>>7)+1)/this.eb},p.prototype.Zd=function(t){var e=Math.floor(this.Ea.count*t/this.F),i=this.ec(e);if(i>t)for(;i>t&&0<e;)e--,i=this.ec(e);else if(i<t){for(;i<=t&&e<this.Ea.count;)e++,i=this.ec(e);i>t&&e--}return e*=8,t=this.Ea.buffer,(t[e]<<24)+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3]},p.prototype.$c=function(){this.oa=!1,this.Pa&&(this.wa(),this.h&&this.c("playing")),this.mc=NaN,this.c("seeked"),this.h&&(this.c("canplay"),this.c("playing"),this.c("canplaythrough")),this.c("timeupdate")},p.prototype.__defineSetter__("currentTime",function(e,i){if(this.o||this.D&&u)return!1;if(e>this.F)return this.na("Time out of range");if(t.cancelAnimationFrame(this.Ia),t.clearTimeout(this.Sa),void 0===i){var r=this.h;r&&this.c("pause"),this.c("seeking"),r&&this.c("play")}if(this.Mc(!1),this.Ja=this.Z=this.ib=!1,this.oa=!0,this.mc=e,!this.hc.width)return this.Lb("v"),this.w(void 0,void 0,!1),!0;r=this.Ea?this.Zd(e):Math.round(this.Da*e/this.F);try{this.buffer.seek(r)&&this.je(e)}catch(t){this.w(t)}}),p.prototype.__defineGetter__("loop",function(){return this.Zc}),p.prototype.__defineSetter__("loop",function(t){this.Zc=t}),p.prototype.__defineGetter__("autoplay",function(){return this.Oc}),p.prototype.__defineSetter__("autoplay",function(t){this.Oc=t}),p.prototype.he=function(t){return this.audio.kd-this.audio.currentTime>=t},p.prototype.ge=function(t){for(var e=this.audio.currentTime,i=0;i<this.audio.buffered.length;i++)if(this.audio.buffered.end(i)>e&&this.audio.buffered.start(i)<=e){if(this.audio.buffered.end(i)-e>=t)return!0;break}return!1},p.prototype.ie=function(){if(!this.Ja){this.Lb("a");var t=this,e=function(){t.gc(t.bufferMinSec)&&(t.audio.removeEventListener("progress",e),t.Ib("a"))};this.audio.addEventListener("progress",e,!1)}},p.prototype.Vd=function(){if(c){c=!1;var e=t.AudioContext||t.webkitAudioContext;if(e)try{var e=new e,i=e.createBuffer(1,1,22050),r=e.createBufferSource();r.buffer=i,r.connect(e.destination),r["function"==typeof r.noteOn?"noteOn":"start"](0),t.jsv_AC=e}catch(i){}}},p.prototype.df=function(){var t=this;document.documentElement.addEventListener("touchend",function e(){u=!1,document.documentElement.removeEventListener("touchend",e),t.audio.play(),t.audio.pause(),t.Vd();for(var i=0;i<h.length;i++)h[i]()},!1)},p.prototype.Ib=function(t,e){if(this.c("unstalled"),"v"==t){var i=this.I?this.bufferMinSec+1:this.ee();(this.oa||i>=this.bufferMinSec||e==this.Da)&&(this.Z=!1,this.Ja||(this.Ra=4,(this.h=this.Ka)&&this.D&&(this.I||this.audio.play())),this.oa?this.__lookupSetter__("currentTime").apply(this,[this.mc,!0]):this.Ka&&(this.I||(this.nb=!0),this.wa(),this.h&&this.c("playing")))}else if(this.Ja=!1,!this.Z){var r=this;this.audio.addEventListener("play",function t(){r.audio.removeEventListener("play",t),r.Ra=4,r.h=r.Ka,r.wa(),r.h&&r.c("playing")}),this.audio.play()}},p.prototype.Lb=function(e){this.Z||this.Ja||(this.Ka=this.h,this.h=!1,this.c("stalled"),this.Ra=1,this.I||this.audio.pause()),"v"==e?this.Z||(t.cancelAnimationFrame(this.Ia),t.clearInterval(this.Sa),this.Z=!0,this.I&&(this.Mb=0)):this.Ja=!0},p.prototype.log=function(){i.log.apply(i,arguments)},p.prototype.xa=function(t){if(this.Lb("v"),!this.I)throw t},p.prototype.bind=function(t,e){return function(){return t.apply(e,arguments)}},p.prototype.bd=function(){this.dd=[],this.Fc=!1,this.WebSocket&&(this.WebSocket.close(),this.WebSocket=!1),t.clearInterval(this.Sa),t.clearInterval(this.Xc),t.cancelAnimationFrame(this.Ia),this.ed=0,this.nb=!1,this.gd=!0,this.ob=this.Mb=0,this.dc={code:0,message:""},this.Ga={start:-2,end:-1,W:""},this.Ea=!1,this.Tc=0,this.fc=!1,this.Gb=this.hb=0,this.f=[],this.kb=!1,this.o=-1,this.I=this.O=!1,this.ac=g,this.jb=!0,this.cd=[],this.ic=this.Ra=0,this.ib=!1,this.L=this.C=NaN,this.Fa=this.Z=this.Ja=this.h=this.Ka=!1,this.mc=this.lc=NaN,this.oa=!1,this.hc={},this.Ca=!1,this.Da=NaN,this.Ba=0,this.F=this.Pc=NaN,this.buffer=new e,this.buffer.xa=this.bind(this.xa,this),this.buffer.ad=this.bind(this.w,this),this.buffer.Jb=this.bind(this.Jb,this),this.X=0},p.prototype.ke=function(){this.bd();var e=this.V.split(".").pop();if("jsv"==e)this.o=this.buffer.o=!1,this.W=this.V;else if("m3u8"==e)this.O=!0,this.W=NaN;else{if(0!=this.V.indexOf("ws://")&&0!=this.V.indexOf("wss://"))return void this.na("Unsupported src");if(this.I=!0,this.o=this.buffer.o=!0,this.buffer.Hb=!0,!t.WebSocket)return void this.na("WebSockets are not supported")}this.Qa=this.cc,this.muted=this.bc,this.audio.playbackRate=this.Qa,this.audio.muted=this.ma,this.O?this.Sc():this.I||("auto"==this.Ha?this.w(0):"metadata"==this.Ha&&this.Gd(0,this.chunkSize,!1)),this.c("srcchange")},p.prototype.Yd=function(){for(var t=this.buffer.a,e=0,i=0,r=!1;t;){if(e++,0==t.data[0]&&0==t.data[1]&&1==t.data[2]&&t.data[3]==j&&(r=t.start,this.ed==r&&(r=!1)),r&&i++,i>this.ob&&3<e-i&&1<e){this.ed=r,this.nb=!0;break}t=t.next}},p.prototype.ne=function(){var t=this,e=new ArrayBuffer(0),i=0;this.WebSocket=new WebSocket(this.V),this.WebSocket.onopen=function(){t.WebSocket.binaryType="arraybuffer",t.WebSocket.onmessage=function(r){if(t.gd){var n=new Uint8Array(r.data);if(0!=n[0]||0!=n[1]||1!=n[2]||n[3]!=j)return;t.gd=!1}if(t.Mb++,e=r.data,r=i+e.byteLength-1,t.Ba+=e.byteLength,t.kb=!0,t.buffer.jd({data:e,total:e.byteLength,start:i,i:i,end:r,j:r}),i=r+1,!(t.Mb<t.ob)){if(t.skipHard&&t.Yd(),t.Z)try{t.Ib("v",-1)}catch(t){return!1}if(!t.Ca){if(!t.ob)try{t.sa(j),t.zd=t.buffer.index,t.Ua()}catch(e){return t.buffer.index=t.buffer.g=0,!1}if(t.Mb<t.ob)return;t.Pa&&(t.wa(),t.h&&t.c("playing")),t.c("durationchange"),t.c("resize"),t.c("loadedmetadata"),t.c("loadeddata")}t.c("progress"),t.Ca||(t.Ca=!0,t.c("canplay"),t.c("canplaythrough"),t.play()),t.Ra=4}}}},p.prototype.Jb=function(t){if(this.Ba-=t.data.byteLength,this.O&&(this.Rc(t.start).loaded=!1,this.o))for(;this.f[0].start<=t.start;)this.f.splice(0,1)},p.prototype.ce=function(){for(var t=this.audio.currentTime+this.Gb,e=0;e<this.f.length;e++)if(this.f[e].i>=t)return this.f[e].start;return 0},p.prototype.$d=function(e){var i="",r=this;this.lb.load({start:0,end:1e3,bType:"arraybuffer",qb:!0,fb:[e],onError:function(t){r.na(t.detail.message)},Cb:function(t){i=t.data},cb:function(){var e=t.ez_p(i);r.Gb=e-.7,r.w(r.ce()),r.kb=!0,r.play()}})},p.prototype.de=function(){var t,e=this;this.lb.load({mode:"whole",bType:"text",qb:!0,fb:[this.audio.src],onError:function(t){e.na(t.detail.message)},Cb:function(e){t=e.data},cb:function(){e.le(t)}})},p.prototype.le=function(t){if(t=t.match(/.*\.ts/g)[0],0!=t.indexOf("http")){var e=this.audio.src.split("/");e.pop(),e=e.join("/")+"/",t=e+t}this.$d(t)},p.prototype.me=function(t){t=t.split(/\n/g),t.pop();var e=0,i=this.V.split("/");i.pop();for(var i=i.join("/")+"/",r=this.f.length?this.f[this.f.length-1].end+1:0,n=[],a=0;a<t.length;a++){var s=t[a].split(","),o=parseFloat(s[3]),l=0!=s[0].indexOf("http")?i+s[0]:s[0];n.push(l),-1==this.dd.indexOf(l)&&(e++,this.f.push({loaded:!1,start:r,end:r+o-1,byteLength:o,url:l,i:parseFloat(s[1]),j:parseFloat(s[2])}),r+=o)}this.dd=n,this.Tc=t.length,this.c("vls"),-1==this.o&&(this.hb=this.f[0].j-this.f[0].i,this.ac=Math.ceil(this.bufferSec/this.hb),this.buffer.f=this.f,1<this.f[0].i?(this.o=this.buffer.o=!0,this.buffer.Hb=!0,this.Xc=setInterval(this.Sc.bind(this),1e3*this.hb)):(this.o=this.buffer.o=!1,"auto"==this.Ha?this.w(0):"metadata"==this.Ha&&this.w(0,!0,!1))),e&&this.kb&&this.w(void 0,!0)},p.prototype.Sc=function(){var t,e=this;this.lb.load({mode:"whole",bType:"text",qb:!0,fb:[this.V],onError:function(t){e.na(t.detail.message)},Cb:function(e){t=e.data},cb:function(){e.me(t)}})},p.prototype.be=function(t){for(var e=this.f.length-1;0<=e;e--)if(this.f[e].url==t)return this.f[e];return!1},p.prototype.Rc=function(t){for(var e=0;e<this.f.length;e++)if(this.f[e].start==t)return this.f[e];return!1},p.prototype.Qc=function(){clearTimeout(this.Vc)},p.prototype.Xd=function(){if(!this.I){var t=this,e=function(){t.Wc=Date.now(),t.Vc=setTimeout(e,50)};e();var i=function(){t.h&&700<Date.now()-t.Wc&&t.pause(!0)};this.audio.removeEventListener("timeupdate",i),this.audio.addEventListener("timeupdate",i,!1)}},p.prototype.destroy=function(){this.reset(),delete this.audio,this.parentNode.removeChild(this),this.l&&this.l.terminate()},p.prototype.reset=function(){this.D&&(this.audio.rd?this.audio.rd():this.audio.load&&(this.audio.src="",this.audio.load())),this.W=this.V=NaN,this.Nc="",this.Vc=this.Wc=this.Db=this.D=!1,this.Qa=this.cc=this.pa=1,this.ma=this.bc=!1,this.Ha="auto",this.Zc=this.Oc=this.Y=!1,this.bd(),this.l&&this.l.postMessage({t:"func",n:"reset",args:[]})},p.prototype.na=function(t){return this.c("error",{message:t}),this.dc.message=t,!1},p.prototype.Uc=function(){var e=this;this.Pa=!0,this.WebSocket=this.Ia=this.Sa=this.Xc=!1,this.reset(),u?this.df():this.Vd();var i={audioShiftSec:f,nogl:!1,skipHard:!1,bufferSec:v,chunkSize:m,bufferMinSec:A},r=t.easybits_Helper();void 0!==t.jsv_config&&(i=r.ext(t.jsv_config,i));for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);if(this.bufferMinSec>=this.bufferSec)this.na("bufferMinSec must be smaller bufferSec");else{if(this.lb=t.easybits_getHTTPMultiStreaming({bpc:this.chunkSize}),this.Ud,this.ld=new Uint8Array(64),this.md=new Uint8Array(64),this.A=new Int32Array(64),t.jsv_is_ww){this.gc=this.he,this.audio=function(){this.src="",this.kd=this.currentTime=0},t.Bc(this),t.Bc(this.audio),r=function(e,i){return function(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);t.postMessage({t:"func",n:e,args:[i,r]})}},n=["play","pause","connect"];for(var a=["playbackRate","muted","volume","preload"],i=0;i<n.length;i++)this.audio[n[i]]=r("afun",n[i]);for(this.audio.qd=r("aset","currentTime"),this.audio.Yb=r("aset","src"),this.audio.Hd=r("afun","load"),i=0;i<a.length;i++)Object.defineProperty(this.audio,a[i],{set:r("aset",a[i])})}else if(this.canvas=document.createElement("canvas"),this.canvas.style.width="100%",this.canvas.style.height="100%",this.appendChild(this.canvas),this.audio=document.createElement("audio"),this.audio.qd=function(t){e.audio.currentTime=t},this.audio.Yb=function(t){e.audio.src=t},this.audio.Hd=function(){e.audio.load()},this.gc=this.ge,this.l){for(n in i)i.hasOwnProperty(n)&&this.l.postMessage({t:"eq",n:n,args:[i[n]]});for(r=["progress","seeked","play","timeupdate"],n=function(t){return function(){e.l.postMessage({t:"func",n:"ae",args:[t]})}},i=0;i<r.length;i++)this.audio.addEventListener(r[i],n(r[i]));this.audio.addEventListener("timeupdate",function(){e.audio.buffered.length&&e.l.postMessage({t:"func",n:"aet",args:[e.audio.currentTime,e.audio.buffered.end(e.audio.buffered.length-1)]})})}t.jsv_is_ww||(!this.nogl&&this.Ue()?this.Xb=this.Qd:(this.pb=this.canvas.getContext("2d"),this.Xb=this.af),this.l&&this.l.postMessage({t:"func",n:"srfw",args:[this.T?"gl":"2d"]}),this.addEventListener("play",function(){e.Y&&"none"!=e.Y.style.display&&(e.Y.style.display="none")})),this.audio.Ze=this.Ha}},p.prototype.Gd=function(t,e,i){if(void 0===i&&(i=!0),this.O)r=t,n=e,t=0,e="";else{void 0===t?(t=0,e=""):t%this.chunkSize&&(t=Math.floor(t/this.chunkSize)*this.chunkSize),e=Math.ceil(e/this.chunkSize)*this.chunkSize-1;var r=t,n=e}if(!this.Fa||this.Ga.start!=r||this.W!=this.Ga.W){this.Fa&&(this.lb.cancel(this.lc),this.c("suspend")),this.ic=2,this.Fa=!0,this.Ga={start:r,end:n,W:this.W};var a=this,s=this.W;t={mode:this.O?"whole":"range",bType:"arraybuffer",start:t,end:e,qb:!0,fb:[this.W],onError:function(t){a.na(t.detail.message)},Cb:function(t){t.url=s,a.Ye(t)},cb:function(t){if(t.id!=a.lc)return!1;a.ic=1,a.Fa=!1,i&&a.w(a.Ga.end+1)}},this.Ca||this.c("loadstart"),this.lc=this.lb.load(t)}},p.prototype.Qe=function(t){if(!(t=this.Rc(t)))return!1;var e=this.buffer.a?this.buffer.a.j:0;return!(!t||!(this.o||this.oa||t.i-e<=this.bufferSec))&&(this.W=t.url,{start:t.start,end:t.end})},p.prototype.w=function(t,e,i){return!this.I&&(void 0==i&&(i=!0),(void 0===e||!this.Fa)&&(this.O?(void 0===t&&(t=this.Ga.end+1),t=this.Qe(t)):(void 0===t&&(t=Math.floor(this.buffer.index>>3)),t=this.buffer.Pe(t,this.chunkSize,this.ac,this.oa)),void(t&&this.Gd(t.start,t.end,i))))},p.prototype.ee=function(){if(!this.buffer.m)return 0;var t=this.buffer.a,e=0,i=0;if(this.buffer.m.start!=t.start||t.next)for(;t.next&&t.end+1==t.next.start;)this.O?i+=t.j-t.i:e+=t.data.byteLength,t=t.next;else this.O?i=this.buffer.m.j-this.buffer.m.i:e=t.data.byteLength;return!this.O&&e&&(i=this.F*e/this.Da),i},p.prototype.Ye=function(t){var e=t.data.byteLength;if(this.Ga.start+=e,this.Ba+=e,this.O?(e=this.be(t.url),e.loaded=!0,t.start=e.start,t.end=e.end,t.i=e.i,t.j=e.j):(this.Da=t.total,t.i=this.F*t.start/t.total,t.j=this.F*t.end/t.total),this.buffer.jd(t),this.Da==this.Ba&&(this.buffer.Yc=!0,this.c("loaded")),this.Ca)this.Z&&this.Ib("v",t.end+1);else{this.fe(),this.Z&&this.Ib("v",t.end+1),this.buffer.s.i=this.F*t.start/t.total,this.buffer.s.j=this.F*t.end/t.total,this.c("durationchange"),this.c("resize"),this.c("loadedmetadata"),this.c("loadeddata");try{this.sa(j),this.zd=this.buffer.index,this.Ua(),this.Pa&&(this.wa(),this.h&&this.c("playing"))}catch(t){return void this.w(t,!0)}this.autoplay&&this.play()}this.c("suspend"),this.c("progress"),this.Ca||(this.Ca=!0,this.c("canplay"),this.c("canplaythrough")),this.Ra=4},p.prototype.swaw=function(t){this.D=""!=t,this.audio.src=t,-1!=t.indexOf(".m3u8")&&(this.Db=t)},p.prototype.aset=function(t,e){this.audio[t]=e[0]},p.prototype.aet=function(t,e){this.audio.currentTime=t,this.audio.kd=e},p.prototype.ae=function(t){this.audio.dispatchEvent(t,null)},p.prototype.afun=function(t,e){this.audio[t].apply(this.audio,e)},p.prototype.load=function(){this.c("abort"),this.c("emptied"),this.Fa||this.w()},p.prototype.play=function(){if(""!=this.dc.message||this.D&&u)return!1;if(!this.h){if(this.Z||this.Ja)return!1;if(this.jb){if(this.jb=!1,this.o&&this.O&&!this.D){if(!this.f.length){var e=this;return this.addEventListener("vls",function t(){e.removeEventListener("vls",t),e.play()}),this.jb=!0,!1}this.w(this.f[this.f.length-this.Tc].start),this.kb=!0}if(this.D){if(!this.I)return e=this,this.Db&&this.audio.Yb(this.Db),this.Db=!1,this.audio.addEventListener("play",function t(){e.audio.removeEventListener("play",t),e.audio.pause(),e.o&&e.de(),e.play()}),void this.audio.play();this.audio.connect()}if(this.I)return void this.ne()}else if(this.o&&!this.kb)return;if(!this.D||t.jsv_is_ww||this.l||this.Xd(),this.h=this.Ka=!0,this.c("play"),this.Fa||this.w(),this.ya=Date.now(),this.D&&this.audio.play(),this.ib)return this.ib=!1,this.currentTime=0,!0;if(!this.buffer.a)return this.Lb("v"),!1;this.Sd()}},p.prototype.pause=function(){if(!this.h)return!1;t.cancelAnimationFrame(this.Ia),t.clearInterval(this.Sa),this.h=this.Ka=!1,this.D&&this.audio.pause(),!this.D||t.jsv_is_ww||this.l||this.Qc(),this.c("pause")},p.prototype.aa=function(t){var e=0;do{e=t[e+this.buffer.b(1)]}while(0<=e&&0!=t[e]);return t[e+2]},p.prototype.sa=function(t){for(var i=0;(i=this.buffer.Vb())!=t&&i!=e.$b&&i!=e.Aa;);},p.prototype.Ub=function(t,e){for(var i=0,r=t.length;i<r;i++)t[i]=e},p.prototype.eb=30,p.prototype.Dc=30,p.prototype.Fd=0,p.prototype.zd=0,p.prototype.ya=0,p.prototype.wa=function(){try{if(t.cancelAnimationFrame(this.Ia),t.clearTimeout(this.Sa),this.buffer)for(;;){var i=this.buffer.Vb();if(i==j)this.nb&&(this.ya=Date.now()+1e3/this.Dc,this.nb=!1),this.Ua();else if(!this.nb)if(i==B)this.Nb();else{if(i==J)return this.h&&!this.oa&&this.Sd(),this.we(),this.canvas;if(i==e.$b)return this.h=!1,this.ib=!0,!this.D||t.jsv_is_ww||this.l||this.Qc(),this.c("pause"),this.c("ended"),this.loop&&this.Fc&&this.play(),null;if(i==e.Aa)break}}}catch(t){this.w(t)}},p.prototype.Sd=function(){this.Fd=Date.now()-this.ya;var e=Math.max(0,1e3/this.eb-this.Fd);if(this.ya=Date.now()+e,this.X+=1e3/this.eb,this.D&&!this.I){var i=this.X-1e3*(this.audio.currentTime+this.Gb);if(300>i){if(-100<i)e-=100,this.ya-=100;else if(this.fc){this.audio.pause();var r=this;t.clearTimeout(this.Ud),this.Ud=setTimeout(function(){r.h&&r.audio.play()},400-i)}}else 500<i&&this.fc&&(this.o||this.gc(.2)||this.ie(),e+=100,this.ya+=100)}18>e?this.Ia=t.requestAnimationFrame(this.bind(this.wa,this),this.canvas):(r=this,this.Sa=t.setTimeout(function(){r.Ia=t.requestAnimationFrame(r.bind(r.wa,r),r.canvas)},e))},p.prototype.Nb=function(){this.fc=!0,this.buffer.advance(1);var t=this.buffer.b(5),e=this.buffer.b(6);this.buffer.advance(1);var i=this.buffer.b(6),r=this.buffer.b(6);this.X=1e3*(60*(60*t+e)+i+(r+1)/this.eb)},p.prototype.Ua=function(){if(this.C=this.buffer.b(12),this.L=this.buffer.b(12),this.buffer.advance(4),this.eb=E[this.buffer.b(4)],this.Dc=this.eb*this.Qa,this.ob=Math.ceil(this.Dc*this.bufferMinSec),this.Pc)t=30;else{this.Pc=this.buffer.b(18);var t=12}if(this.buffer.advance(t),this.Te(),this.buffer.b(1)){for(t=0;64>t;t++)this.ld[T[t]]=this.buffer.b(8);this.Ed=this.ld}if(this.buffer.b(1)){for(t=0;64>t;t++)this.md[T[t]]=this.buffer.b(8);this.Nd=this.md}},p.prototype.Te=function(){if(this.Ed=_,this.Nd=R,this.va=this.C+15>>4,this.Jd=this.L+15>>4,this.We=this.va*this.Jd,this.J=this.va<<4,this.re=this.Jd<<4,this.Ta=this.J*this.re,this.ab=this.va<<3,!this.Fc){this.Fc=!0,t.jsv_is_ww&&t.postMessage({t:"func",n:"swhm",args:[this.C,this.L,this.J,this.ab]});var e=t.Uint8ClampedArray||t.Uint8Array;t.Uint8ClampedArray||(this.od=this.se,this.hd=this.oe),this.ea=new e(this.Ta),this.qc=new Uint32Array(this.ea.buffer),this.ca=new e(this.Ta>>2),this.pc=new Uint32Array(this.ca.buffer),this.ba=new e(this.Ta>>2),this.oc=new Uint32Array(this.ba.buffer),this.Za=new e(this.Ta),this.Cd=new Uint32Array(this.Za.buffer),this.Xa=new e(this.Ta>>2),this.Bd=new Uint32Array(this.Xa.buffer),this.Wa=new e(this.Ta>>2),this.Ad=new Uint32Array(this.Wa.buffer),t.jsv_is_ww||(this.canvas.width=this.C,this.canvas.height=this.L,this.T?(this.T.useProgram(this.U),this.T.viewport(0,0,this.C,this.L)):(this.da=this.pb.getImageData(0,0,this.C,this.L),this.Ub(this.da.data,255)))}},p.prototype.ea=null,p.prototype.ca=null,p.prototype.ba=null,p.prototype.da=null,p.prototype.ka=0,p.prototype.Za=null,p.prototype.Xa=null,p.prototype.Wa=null,p.prototype.zc=!1,p.prototype.yc=0,p.prototype.Ya=0,p.prototype.S=0,p.prototype.we=function(){if(this.buffer.advance(10),this.ka=this.buffer.b(3),this.buffer.advance(16),!(0>=this.ka||this.ka>=M)){if(this.ka==U){if(this.zc=this.buffer.b(1),this.yc=this.buffer.b(3),0==this.yc)return;this.Ya=this.yc-1,this.S=1<<this.Ya}var t=0;do{t=this.buffer.Vb()}while(t==q||t==W);for(;t>=F&&t<=H;)this.xe(255&t),t=this.buffer.Vb();if(this.buffer.Rd(32),void 0!=b&&this.Xb(),this.ka==N||this.ka==U){var t=this.Za,e=this.Cd,i=this.Xa,r=this.Bd,n=this.Wa,a=this.Ad;this.Za=this.ea,this.Cd=this.qc,this.Xa=this.ca,this.Bd=this.pc,this.Wa=this.ba,this.Ad=this.oc,this.ea=t,this.qc=e,this.ca=i,this.pc=r,this.ba=n,this.oc=a}}},p.prototype.Kc=function(){for(var t,e,i,r,n=this.ea,a=this.ba,s=this.ca,o=this.da.data,l=0,d=this.J,u=this.J+(this.J-this.C),c=0,h=this.ab-(this.C>>1),p=0,f=4*this.C,A=4*this.C,v=this.C>>1,g=this.L>>1,m=0;m<g;m++){for(var y=0;y<v;y++)t=a[c],e=s[c],c++,i=e+(103*e>>8)-179,e=(88*t>>8)-44+(183*e>>8)-91,r=t+(198*t>>8)-227,t=n[l++],o[p]=t+i,o[p+1]=t-e,o[p+2]=t+r,p+=4,t=n[l++],o[p]=t+i,o[p+1]=t-e,o[p+2]=t+r,p+=4,t=n[d++],o[f]=t+i,o[f+1]=t-e,o[f+2]=t+r,f+=4,t=n[d++],o[f]=t+i,o[f+1]=t-e,o[f+2]=t+r,f+=4;l+=u,d+=u,p+=A,f+=A,c+=h}},p.prototype.sidmgl=function(t,e,i,r){this.ea=t,this.ca=e,this.ba=i,this.Qd(),this.X=r},p.prototype.sidm2d=function(t,e){this.pb.putImageData(t,0,0),this.X=e;var i=document.createEvent("CustomEvent");i.initCustomEvent("timeupdate",!1,!1,null),this.dispatchEvent(i)},p.prototype.sidw=function(t){this.da=t,this.Pa||(this.wa(),this.h&&this.c("playing")),this.Pa=!0},p.prototype.swhm=function(t,e,i,r){this.C=t,this.L=e,this.J=i,this.ab=r,this.canvas.width=this.C,this.canvas.height=this.L,this.T?(this.T.useProgram(this.U),this.T.viewport(0,0,this.C,e)):(this.da=this.pb.getImageData(0,0,this.C,this.L),this.Ub(this.da.data,255),this.l.postMessage({t:"func",n:"sidw",args:[this.da]}))},p.prototype.srfw=function(t){"2d"==t?(this.Xb=this.bf,this.Pa=!1):this.Xb=this.cf},p.prototype.bf=function(){this.Kc(),t.postMessage({t:"func",n:"sidm2d",args:[this.da,this.X]})},p.prototype.cf=function(){t.postMessage({t:"func",n:"sidmgl",args:[this.ea,this.ca,this.ba,this.X]})},p.prototype.af=function(){this.Kc(),this.pb.putImageData(this.da,0,0);var t=document.createEvent("CustomEvent");t.initCustomEvent("timeupdate",!1,!1,null),this.dispatchEvent(t)},p.prototype.T=null,p.prototype.U=null,p.prototype.Lc=null,p.prototype.Hc=null,p.prototype.Ic=null,p.prototype.createTexture=function(t,e){var i=this.T,r=i.createTexture();return i.bindTexture(i.TEXTURE_2D,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.uniform1i(i.getUniformLocation(this.U,e),t),r},p.prototype.compileShader=function(t,e){var i=this.T,r=i.createShader(t);if(i.shaderSource(r,e),i.compileShader(r),!i.getShaderParameter(r,i.COMPILE_STATUS))throw Error(i.getShaderInfoLog(r));return r},p.prototype.Ue=function(){try{var t=this.T=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl")}catch(t){return!1}if(!t)return!1;if(this.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.U=t.createProgram(),t.attachShader(this.U,this.compileShader(t.VERTEX_SHADER,Q)),t.attachShader(this.U,this.compileShader(t.FRAGMENT_SHADER,G)),t.linkProgram(this.U),!t.getProgramParameter(this.U,t.LINK_STATUS))throw Error(t.getProgramInfoLog(this.U));t.useProgram(this.U),this.Lc=this.createTexture(0,"YTexture"),this.Hc=this.createTexture(1,"CBTexture"),this.Ic=this.createTexture(2,"CRTexture");var e=t.getAttribLocation(this.U,"vertex");return t.enableVertexAttribArray(e),t.vertexAttribPointer(e,2,t.FLOAT,!1,0,0),this.Ab=t.createProgram(),t.attachShader(this.Ab,this.compileShader(t.VERTEX_SHADER,Q)),t.attachShader(this.Ab,this.compileShader(t.FRAGMENT_SHADER,z)),t.linkProgram(this.Ab),t.useProgram(this.Ab),e=t.getAttribLocation(this.Ab,"vertex"),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,2,t.FLOAT,!1,0,0),!0},p.prototype.Qd=function(){var t=this.T,e=new Uint8Array(this.ea.buffer),i=new Uint8Array(this.ca.buffer),r=new Uint8Array(this.ba.buffer);t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.Lc),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,this.J,this.L,0,t.LUMINANCE,t.UNSIGNED_BYTE,e),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this.Hc),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,this.ab,this.L/2,0,t.LUMINANCE,t.UNSIGNED_BYTE,i),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,this.Ic),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,this.ab,this.L/2,0,t.LUMINANCE,t.UNSIGNED_BYTE,r),t.drawArrays(t.TRIANGLE_STRIP,0,4),t=document.createEvent("CustomEvent"),t.initCustomEvent("timeupdate",!1,!1,null),this.dispatchEvent(t)},p.prototype.Cc=0,p.prototype.Gc=!1,p.prototype.xe=function(t){for(this.Gc=!0,this.$=(t-1)*this.va-1,this.ja=this.N=this.ia=this.M=0,this.rb=this.sb=this.tb=128,this.Cc=this.buffer.b(5);this.buffer.b(1);)this.buffer.advance(8);do{this.ue()}while(!this.buffer.Md())},p.prototype.$=0,p.prototype.ua=0,p.prototype.ta=0,p.prototype.Bb=0,p.prototype.bb=!1,p.prototype.Id=!1,p.prototype.ia=0,p.prototype.ja=0,p.prototype.M=0,p.prototype.N=0,p.prototype.ue=function(){for(var t=0,e=this.aa(S);34==e;)e=this.aa(S);for(;35==e;)t+=33,e=this.aa(S);if(t+=e,this.Gc)this.Gc=!1,this.$+=t;else{if(this.$+t>=this.We)return;for(1<t&&(this.rb=this.sb=this.tb=128,this.ka==U&&(this.ja=this.N=this.ia=this.M=0));1<t;)this.$++,this.ua=this.$/this.va|0,this.ta=this.$%this.va,this.pd(this.ia,this.ja,this.Za,this.Xa,this.Wa),t--;this.$++}this.ua=this.$/this.va|0,this.ta=this.$%this.va,this.Bb=this.aa(X[this.ka]),this.bb=1&this.Bb,this.Id=8&this.Bb,0!=(16&this.Bb)&&(this.Cc=this.buffer.b(5)),this.bb?this.ja=this.N=this.ia=this.M=0:(this.rb=this.sb=this.tb=128,this.ve(),this.pd(this.ia,this.ja,this.Za,this.Xa,this.Wa));for(var t=0!=(2&this.Bb)?this.aa(D):this.bb?63:0,e=0,i=32;6>e;e++)0!=(t&i)&&this.te(e),i>>=1},p.prototype.ve=function(){var t,e;e=0,this.Id?(t=this.aa(V),0!=t&&1!=this.S?(e=this.buffer.b(this.Ya),e=(Math.abs(t)-1<<this.Ya)+e+1,0>t&&(e=-e)):e=t,this.M+=e,this.M>(this.S<<4)-1?this.M-=this.S<<5:this.M<-this.S<<4&&(this.M+=this.S<<5),this.ia=this.M,this.zc&&(this.ia<<=1),t=this.aa(V),0!=t&&1!=this.S?(e=this.buffer.b(this.Ya),e=(Math.abs(t)-1<<this.Ya)+e+1,0>t&&(e=-e)):e=t,this.N+=e,this.N>(this.S<<4)-1?this.N-=this.S<<5:this.N<-this.S<<4&&(this.N+=this.S<<5),this.ja=this.N,this.zc&&(this.ja<<=1)):this.ka==U&&(this.ja=this.N=this.ia=this.M=0)},p.prototype.pd=function(t,e,i,r,n){var a,s,o,l,d,u,c=this.qc,h=this.oc,p=this.pc;a=this.J,s=a-16,o=1==(1&e),l=((this.ua<<4)+(e>>1))*a+(this.ta<<4)+(t>>1),d=this.ua*a+this.ta<<2,u=d+(a<<2);var f,A,v;if(1==(1&t))if(o)for(;d<u;){for(f=i[l]+i[l+a],l++,o=0;4>o;o++)A=i[l]+i[l+a],l++,v=f+A+2>>2&255,f=i[l]+i[l+a],l++,v|=f+A+2<<6&65280,A=i[l]+i[l+a],l++,v|=f+A+2<<14&16711680,f=i[l]+i[l+a],l++,v|=f+A+2<<22&4278190080,c[d++]=v;d+=s>>2,l+=s-1}else for(;d<u;){for(f=i[l++],o=0;4>o;o++)A=i[l++],v=f+A+1>>1&255,f=i[l++],v|=f+A+1<<7&65280,A=i[l++],v|=f+A+1<<15&16711680,f=i[l++],v|=f+A+1<<23&4278190080,c[d++]=v;d+=s>>2,l+=s-1}else if(o)for(;d<u;){for(o=0;4>o;o++)v=i[l]+i[l+a]+1>>1&255,l++,v|=i[l]+i[l+a]+1<<7&65280,l++,v|=i[l]+i[l+a]+1<<15&16711680,l++,v|=i[l]+i[l+a]+1<<23&4278190080,l++,c[d++]=v;d+=s>>2,l+=s}else for(;d<u;){for(o=0;4>o;o++)v=i[l],l++,v|=i[l]<<8,l++,v|=i[l]<<16,l++,v|=i[l]<<24,l++,c[d++]=v;d+=s>>2,l+=s}if(a=this.ab,s=a-8,o=1==(e/2&1),l=((this.ua<<3)+(e/2>>1))*a+(this.ta<<3)+(t/2>>1),d=this.ua*a+this.ta<<1,u=d+(a<<1),1==(t/2&1))if(o)for(;d<u;){for(t=r[l]+r[l+a],c=n[l]+n[l+a],l++,o=0;2>o;o++)e=r[l]+r[l+a],f=n[l]+n[l+a],l++,i=t+e+2>>2&255,A=c+f+2>>2&255,t=r[l]+r[l+a],c=n[l]+n[l+a],l++,i|=t+e+2<<6&65280,A|=c+f+2<<6&65280,e=r[l]+r[l+a],f=n[l]+n[l+a],l++,i|=t+e+2<<14&16711680,A|=c+f+2<<14&16711680,t=r[l]+r[l+a],c=n[l]+n[l+a],l++,i|=t+e+2<<22&4278190080,A|=c+f+2<<22&4278190080,p[d]=i,h[d]=A,d++;d+=s>>2,l+=s-1}else for(;d<u;){for(t=r[l],c=n[l],l++,o=0;2>o;o++)e=r[l],f=n[l++],i=t+e+1>>1&255,A=c+f+1>>1&255,t=r[l],c=n[l++],i|=t+e+1<<7&65280,A|=c+f+1<<7&65280,e=r[l],f=n[l++],i|=t+e+1<<15&16711680,A|=c+f+1<<15&16711680,t=r[l],c=n[l++],i|=t+e+1<<23&4278190080,A|=c+f+1<<23&4278190080,p[d]=i,h[d]=A,d++;d+=s>>2,l+=s-1}else if(o)for(;d<u;){for(o=0;2>o;o++)i=r[l]+r[l+a]+1>>1&255,A=n[l]+n[l+a]+1>>1&255,l++,i|=r[l]+r[l+a]+1<<7&65280,A|=n[l]+n[l+a]+1<<7&65280,l++,i|=r[l]+r[l+a]+1<<15&16711680,A|=n[l]+n[l+a]+1<<15&16711680,l++,i|=r[l]+r[l+a]+1<<23&4278190080,A|=n[l]+n[l+a]+1<<23&4278190080,l++,p[d]=i,h[d]=A,d++;d+=s>>2,l+=s}else for(;d<u;){for(o=0;2>o;o++)i=r[l],A=n[l],l++,i|=r[l]<<8,A|=n[l]<<8,l++,i|=r[l]<<16,A|=n[l]<<16,l++,i|=r[l]<<24,A|=n[l]<<24,l++,p[d]=i,h[d]=A,d++;d+=s>>2,l+=s}},p.prototype.tb,p.prototype.sb,p.prototype.rb,p.prototype.A=null,p.prototype.te=function(t){var e,i=0;if(this.Ub(this.A,0),this.bb){if(4>t?(i=this.tb,e=this.aa(O)):(i=4==t?this.sb:this.rb,e=this.aa(C)),0<e){var r=this.buffer.b(e);this.A[0]=0!=(r&1<<e-1)?i+r:i+(-1<<e|r+1)}else this.A[0]=i;4>t?this.tb=this.A[0]:4==t?this.sb=this.A[0]:this.rb=this.A[0],this.A[0]<<=8,e=this.Ed,i=1}else e=this.Nd;for(r=0;;){var n=0,r=this.aa(x);if(1==r&&0<i&&0==this.buffer.b(1))break;65535==r?(n=this.buffer.b(6),r=this.buffer.b(8),0==r?r=this.buffer.b(8):128==r?r=this.buffer.b(8)-256:128<r&&(r-=256)):(n=r>>8,r&=255,this.buffer.b(1)&&(r=-r)),i+=n,n=T[i],i++,r<<=1,this.bb||(r+=0>r?-1:1),r=r*this.Cc*e[n]>>4,0==(1&r)&&(r-=0<r?1:-1),2047<r?r=2047:-2048>r&&(r=-2048),this.A[n]=r*L[n]}1==i?this.Ub(this.A,this.A[0]+128>>8):this.Wd(),4>t?(i=this.ea,r=this.J-8,e=this.ua*this.J+this.ta<<4,0!=(1&t)&&(e+=8),0!=(2&t)&&(e+=this.J<<3)):(i=4==t?this.ba:this.ca,r=(this.J>>1)-8,e=(this.ua*this.J<<2)+(this.ta<<3)),this.bb?this.od(this.A,i,e,r):this.hd(this.A,i,e,r)},p.prototype.od=function(t,e,i,r){for(var n=0,a=0;8>a;a++){for(var s=0;8>s;s++)e[i++]=t[n++];i+=r}},p.prototype.hd=function(t,e,i,r){for(var n=0,a=0;8>a;a++){for(var s=0;8>s;s++)e[i++]+=t[n++];i+=r}},p.prototype.se=function(t,e,i,r){for(var n=0,a=0;8>a;a++){for(var s=0;8>s;s++){var o=t[n++];e[i++]=255<o?255:0>o?0:o}i+=r}},p.prototype.oe=function(t,e,i,r){for(var n=0,a=0;8>a;a++){for(var s=0;8>s;s++){var o=t[n++]+e[i];e[i++]=255<o?255:0>o?0:o}i+=r}},p.prototype.Wd=function(){var t,e,i,r,n,a,s,o,l,d,u,c,h=this.A;for(c=0;8>c;++c)t=h[32+c],e=h[16+c]+h[48+c],i=h[40+c]-h[24+c],a=h[8+c]+h[56+c],s=h[24+c]+h[40+c],r=h[8+c]-h[56+c],n=a+s,o=h[0+c],u=(473*r-196*i+128>>8)-n,a=u-(362*(a-s)+128>>8),s=o-t,l=(362*(h[16+c]-h[48+c])+128>>8)-e,d=o+t,t=s+l,o=d+e,s-=l,e=d-e,i=-a-(473*i+196*r+128>>8),h[0+c]=n+o,h[8+c]=u+t,h[16+c]=s-a,h[24+c]=e-i,h[32+c]=e+i,h[40+c]=a+s,h[48+c]=t-u,h[56+c]=o-n;for(c=0;64>c;c+=8)t=h[4+c],e=h[2+c]+h[6+c],i=h[5+c]-h[3+c],a=h[1+c]+h[7+c],s=h[3+c]+h[5+c],r=h[1+c]-h[7+c],n=a+s,o=h[0+c],u=(473*r-196*i+128>>8)-n,a=u-(362*(a-s)+128>>8),s=o-t,l=(362*(h[2+c]-h[6+c])+128>>8)-e,d=o+t,t=s+l,o=d+e,s-=l,e=d-e,i=-a-(473*i+196*r+128>>8),h[0+c]=n+o+128>>8,h[1+c]=u+t+128>>8,h[2+c]=s-a+128>>8,h[3+c]=e-i+128>>8,h[4+c]=e+i+128>>8,h[5+c]=a+s+128>>8,h[6+c]=t-u+128>>8,h[7+c]=o-n+128>>8};var f=0,A=1,v=30,g=1,m=3e5,y=5e7,b=1,E=[0,23.976,24,25,29.97,30,50,59.94,60,15,5,10,12,15,0,0],T=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),_=new Uint8Array([8,16,19,22,26,27,29,34,16,16,22,24,27,29,34,37,19,22,26,27,29,34,34,38,22,22,26,27,29,34,37,40,22,26,27,29,32,35,40,48,26,27,29,32,35,40,48,58,26,27,29,34,38,46,56,69,27,29,35,38,46,56,69,83]),R=new Uint8Array([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),L=new Uint8Array([32,44,42,38,32,25,17,9,44,62,58,52,44,35,24,12,42,58,55,49,42,33,23,12,38,52,49,44,38,30,20,10,32,44,42,38,32,25,17,9,25,35,33,30,25,20,14,7,17,24,23,20,17,14,9,5,9,12,12,10,9,7,5,2]),S=new Int16Array([3,6,0,9,12,0,0,0,1,15,18,0,21,24,0,27,30,0,33,36,0,0,0,3,0,0,2,39,42,0,45,48,0,0,0,5,0,0,4,51,54,0,57,60,0,0,0,7,0,0,6,63,66,0,69,72,0,75,78,0,81,84,0,-1,87,0,-1,90,0,93,96,0,99,102,0,105,108,0,111,114,0,0,0,9,0,0,8,117,120,0,123,126,0,129,132,0,135,138,0,0,0,15,0,0,14,0,0,13,0,0,12,0,0,11,0,0,10,141,-1,0,-1,144,0,147,150,0,153,156,0,159,162,0,165,168,0,171,174,0,177,180,0,183,-1,0,-1,186,0,189,192,0,195,198,0,201,204,0,207,210,0,213,216,0,219,222,0,0,0,21,0,0,20,0,0,19,0,0,18,0,0,17,0,0,16,0,0,35,0,0,34,0,0,33,0,0,32,0,0,31,0,0,30,0,0,29,0,0,28,0,0,27,0,0,26,0,0,25,0,0,24,0,0,23,0,0,22]),w=new Int8Array([3,6,0,-1,9,0,0,0,1,0,0,17]),I=new Int8Array([3,6,0,9,12,0,0,0,10,15,18,0,0,0,2,21,24,0,0,0,8,27,30,0,33,36,0,-1,39,0,0,0,18,0,0,26,0,0,1,0,0,17]),P=new Int8Array([3,6,0,9,15,0,12,18,0,24,21,0,0,0,12,27,30,0,0,0,14,39,42,0,36,33,0,0,0,4,0,0,6,54,48,0,45,51,0,0,0,8,0,0,10,-1,57,0,0,0,1,60,63,0,0,0,30,0,0,17,0,0,22,0,0,26]),D=new Int16Array([6,3,0,9,18,0,12,15,0,24,33,0,36,39,0,27,21,0,30,42,0,60,57,0,54,48,0,69,51,0,81,75,0,63,84,0,45,66,0,72,78,0,0,0,60,105,120,0,132,144,0,114,108,0,126,141,0,87,93,0,117,96,0,0,0,32,135,138,0,99,123,0,129,102,0,0,0,4,90,111,0,0,0,8,0,0,16,0,0,44,150,168,0,0,0,28,0,0,52,0,0,62,183,177,0,156,180,0,0,0,1,165,162,0,0,0,61,0,0,56,171,174,0,0,0,2,0,0,40,153,186,0,0,0,48,192,189,0,147,159,0,0,0,20,0,0,12,240,249,0,0,0,63,231,225,0,195,219,0,252,198,0,0,0,24,0,0,36,0,0,3,207,261,0,243,237,0,204,213,0,210,234,0,201,228,0,216,222,0,258,255,0,264,246,0,-1,282,0,285,291,0,0,0,33,0,0,9,318,330,0,306,348,0,0,0,5,0,0,10,279,267,0,0,0,6,0,0,18,0,0,17,0,0,34,339,357,0,309,312,0,270,276,0,327,321,0,351,354,0,303,297,0,294,288,0,300,273,0,342,345,0,315,324,0,336,333,0,363,375,0,0,0,41,0,0,14,0,0,21,372,366,0,360,369,0,0,0,11,0,0,19,0,0,7,0,0,35,0,0,13,0,0,50,0,0,49,0,0,58,0,0,37,0,0,25,0,0,45,0,0,57,0,0,26,0,0,29,0,0,38,0,0,53,0,0,23,0,0,43,0,0,46,0,0,42,0,0,22,0,0,54,0,0,51,0,0,15,0,0,30,0,0,39,0,0,47,0,0,55,0,0,27,0,0,59,0,0,31]),V=new Int16Array([3,6,0,12,9,0,0,0,0,18,15,0,24,21,0,0,0,-1,0,0,1,27,30,0,36,33,0,0,0,2,0,0,-2,42,45,0,48,39,0,60,54,0,0,0,3,0,0,-3,51,57,0,-1,69,0,81,75,0,78,63,0,72,66,0,96,84,0,87,93,0,-1,99,0,108,105,0,0,0,-4,90,102,0,0,0,4,0,0,-7,0,0,5,111,123,0,0,0,-5,0,0,7,114,120,0,126,117,0,0,0,-6,0,0,6,153,162,0,150,147,0,135,138,0,156,141,0,129,159,0,132,144,0,0,0,10,0,0,9,0,0,8,0,0,-8,171,198,0,0,0,-9,180,192,0,168,183,0,165,186,0,174,189,0,0,0,-10,177,195,0,0,0,12,0,0,16,0,0,13,0,0,14,0,0,11,0,0,15,0,0,-16,0,0,-12,0,0,-14,0,0,-15,0,0,-11,0,0,-13]),O=new Int8Array([6,3,0,18,15,0,9,12,0,0,0,1,0,0,2,27,24,0,21,30,0,0,0,0,36,33,0,0,0,4,0,0,3,39,42,0,0,0,5,0,0,6,48,45,0,51,-1,0,0,0,7,0,0,8]),C=new Int8Array([6,3,0,12,9,0,18,15,0,24,21,0,0,0,2,0,0,1,0,0,0,30,27,0,0,0,3,36,33,0,0,0,4,42,39,0,0,0,5,48,45,0,0,0,6,51,-1,0,0,0,7,0,0,8]),x=new Int32Array([3,6,0,12,9,0,0,0,1,21,24,0,18,15,0,39,27,0,33,30,0,42,36,0,0,0,257,60,66,0,54,63,0,48,57,0,0,0,513,51,45,0,0,0,2,0,0,3,81,75,0,87,93,0,72,78,0,96,90,0,0,0,1025,69,84,0,0,0,769,0,0,258,0,0,1793,0,0,65535,0,0,1537,111,108,0,0,0,1281,105,102,0,117,114,0,99,126,0,120,123,0,156,150,0,162,159,0,144,147,0,129,135,0,138,132,0,0,0,2049,0,0,4,0,0,514,0,0,2305,153,141,0,165,171,0,180,168,0,177,174,0,183,186,0,0,0,2561,0,0,3329,0,0,6,0,0,259,0,0,5,0,0,770,0,0,2817,0,0,3073,228,225,0,201,210,0,219,213,0,234,222,0,216,231,0,207,192,0,204,189,0,198,195,0,243,261,0,273,240,0,246,237,0,249,258,0,279,276,0,252,255,0,270,282,0,264,267,0,0,0,515,0,0,260,0,0,7,0,0,1026,0,0,1282,0,0,4097,0,0,3841,0,0,3585,315,321,0,333,342,0,312,291,0,375,357,0,288,294,0,-1,369,0,285,303,0,318,363,0,297,306,0,339,309,0,336,348,0,330,300,0,372,345,0,351,366,0,327,354,0,360,324,0,381,408,0,417,420,0,390,378,0,435,438,0,384,387,0,0,0,2050,396,402,0,465,462,0,0,0,8,411,399,0,429,432,0,453,414,0,426,423,0,0,0,10,0,0,9,0,0,11,0,0,5377,0,0,1538,0,0,771,0,0,5121,0,0,1794,0,0,4353,0,0,4609,0,0,4865,444,456,0,0,0,1027,459,450,0,0,0,261,393,405,0,0,0,516,447,441,0,516,519,0,486,474,0,510,483,0,504,498,0,471,537,0,507,501,0,522,513,0,534,531,0,468,477,0,492,495,0,549,546,0,525,528,0,0,0,263,0,0,2562,0,0,2306,0,0,5633,0,0,5889,0,0,6401,0,0,6145,0,0,1283,0,0,772,0,0,13,0,0,12,0,0,14,0,0,15,0,0,517,0,0,6657,0,0,262,540,543,0,480,489,0,588,597,0,0,0,27,609,555,0,606,603,0,0,0,19,0,0,22,591,621,0,0,0,18,573,576,0,564,570,0,0,0,20,552,582,0,0,0,21,558,579,0,0,0,23,612,594,0,0,0,25,0,0,24,600,615,0,0,0,31,0,0,30,0,0,28,0,0,29,0,0,26,0,0,17,0,0,16,567,618,0,561,585,0,654,633,0,0,0,37,645,648,0,0,0,36,630,636,0,0,0,34,639,627,0,663,666,0,657,624,0,651,642,0,669,660,0,0,0,35,0,0,267,0,0,40,0,0,268,0,0,266,0,0,32,0,0,264,0,0,265,0,0,38,0,0,269,0,0,270,0,0,33,0,0,39,0,0,7937,0,0,6913,0,0,7681,0,0,4098,0,0,7425,0,0,7169,0,0,271,0,0,274,0,0,273,0,0,272,0,0,1539,0,0,2818,0,0,3586,0,0,3330,0,0,3074,0,0,3842]),k=150,N=1,U=2,M=3,j=195,B=184,F=1,H=175,J=0,q=181,W=178,G="precision mediump float;\nuniform sampler2D YTexture;\nuniform sampler2D CBTexture;\nuniform sampler2D CRTexture;\nvarying vec2 texCoord;\nvoid main() {\nfloat y = texture2D(YTexture, texCoord).r;\nfloat cr = texture2D(CBTexture, texCoord).r - 0.5;\nfloat cb = texture2D(CRTexture, texCoord).r - 0.5;\ngl_FragColor = vec4(\ny + 1.4 * cr,\ny + -0.343 * cb - 0.711 * cr,\ny + 1.765 * cb,\n1.0\n);\n}",z="precision mediump float;\nuniform float loaded;\nvarying vec2 texCoord;\nvoid main() {\nfloat c = ceil(loaded-(1.0-texCoord.y));\ngl_FragColor = vec4(c,c,c,1);\n}",Q="attribute vec2 vertex;\nvarying vec2 texCoord;\nvoid main() {\ntexCoord = vertex;\ngl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);\n}",X=[null,w,I,P];if(e.$b=-1,e.Aa=-2,e.prototype.Ne=function(){this.la=this.gb=0,this.Yc=!1,this.Va=this.m=this.a=this.Wb=NaN,this.Oa=null,this.Ma=this.s=NaN,this.g=this.index=0},e.prototype.mb=function(){if(this.ad(void 0,!0),this.Hb){var t;(t=this.Re())&&this.$e(t)}},e.prototype.$e=function(t){for(var e=this.m,i=0;i<t;i++)this.Jb(e),e=e.next;for(this.m=e,t=this.s;t.next&&t.next.start<=this.m.start;)t=t.next;t.start=this.m.start,t.i=this.m.i,this.s=t},e.prototype.Re=function(){for(var t=0,e=this.m;e&&e.start<this.a.start;)t++,e=e.next;return t-=3,0<t?t:0},e.prototype.Pe=function(t,e,i,r){if(t>this.gb||this.Yc)return!1;if(this.Va.end+1==t)var n="";else{for(var a=n=this.m;n&&n.start<t;)a=n,n=n.next;if(a.start<=t&&a.end>=t){if(n&&a.end+1==n.start)for(;n&&a.end+1==n.start;)a=n,n=n.next;t=a.end+1}n=n?n.start-1:""}return e=(!this.a||r?t:this.a.end+1)+i*e-1,!(t>e)&&((n>e||""==n)&&(n=e),{start:t,end:n})},e.prototype.Oe=function(){if(!this.Oa){this.Oa={};var t=this;this.Oa.__defineGetter__("length",function(){var e=0;if(t.s){e++;for(var i=t.s;i.next;)i=i.next,e++}return e}),this.Oa.start=function(e){for(var i=0,r=t.s;;){if(i==e)return r.i;r=r.next,i++}},this.Oa.end=function(e){for(var i=0,r=t.s;;){if(i==e)return r.j;r=r.next,i++}}}return this.Oa},e.prototype.jd=function(t){if(this.gb=this.o?this.gb+t.total:t.total,this.Jc=this.gb-4<<3,t.data=new Uint8Array(t.data),t.next=null,this.m)if(this.Va.end+1<=t.start)this.Va.next=t,this.Va=this.Va.next,this.Ma.end+1==t.start?(this.Ma.end=t.end,this.Ma.j=t.j):(t={start:t.start,end:t.end,next:null,i:t.i,j:t.j},this.Ma.next=t,this.Ma=this.Ma.next);else if(this.m.start>=t.end+1)t.next=this.m,this.m=t,this.s.start==t.end+1?(this.s.start=t.start,this.s.i=t.i):(t={start:t.start,end:t.end,next:null,i:t.i,j:t.j},t.next=this.s,this.s=t);else{for(var e=this.m,i=this.m;e.end<t.start;)i=e,e=e.next;for(t.next=e,i.next=t,i=e=this.s;e&&e.end<t.start;)i=e,e=e.next;i.end+1==t.start&&e.start==t.end+1?(i.end=e.end,i.j=e.j,i.next=e.next):i.end+1==t.start?(i.end=t.end,i.j=t.j):e.start==t.end+1?(e.start=t.start,e.i=t.i):(t={start:t.start,end:t.end,next:null,i:t.i,j:t.j},t.next=i.next,i.next=t)}else this.a=this.Va=this.m=t,this.la=this.m.data.byteLength,this.Ma=this.s={start:t.start,end:t.end,next:null,i:t.i,j:t.j}},e.prototype.Ld=function(){return!!this.o||(this.f?this.a.start!=this.f[this.f.length-1].start||32<=(this.a.data.byteLength<<3)-this.g:this.index<this.Jc)},e.prototype.Vb=function(){for(this.g=this.g+7>>3<<3,this.index=this.index+7>>3<<3;this.Ld();){if(this.Md()){var t=4+(this.g>>3)-this.a.data.byteLength-1;return 0<t?this.a.next&&this.a.end+1==this.a.next.start?(this.Wb=this.a,this.a=this.a.next,this.la=this.a.data.byteLength,this.index=this.a.start+t<<3,this.g=t<<3,this.mb(),this.a.data[t]):(this.xa(this.a.end+1),e.Aa):(this.g+=32,this.index+=32,this.a.data[this.g-8>>3])}this.advance(8)}return this.index=this.gb<<3,e.$b},e.prototype.Md=function(){if(!this.Ld())return!0;var t=this.g+7>>3,i=this.la-t;if(2<i)return 0==this.a.data[t]&&0==this.a.data[t+1]&&1==this.a.data[t+2];if(!this.a.next||this.a.end+1!=this.a.next.start)return this.xa(this.a.end+1),e.Aa;switch(i){case 2:return 0==this.a.data[t]&&0==this.a.data[t+1]&&1==this.a.next.data[0];case 1:return 0==this.a.data[t]&&0==this.a.next.data[0]&&1==this.a.next.data[1];default:return 0==this.a.next.data[0]&&0==this.a.next.data[1]&&1==this.a.next.data[2]}},e.prototype.appendBuffer=function(t,e){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(e),t.byteLength),i},e.prototype.b=function(t){var e=!1,i=this.g>>3,r=8-this.g%8;if(this.a.data.byteLength<<3>=this.g+t)var n=this.a.data;else{if(!this.a.next||this.a.end+1!=this.a.next.start)throw this.g+" "+(this.a.data.byteLength<<3);e=!0,n=this.appendBuffer(this.a.data.buffer,this.a.next.data.buffer),this.Wb=this.a,this.a=this.a.next,this.la=this.a.data.byteLength,this.mb()}if(r>=t)return this.index+=t,this.g=e?this.index-(this.a.start<<3):this.g+t,n[i]>>r-t&255>>8-t;var a=(this.g+t)%8,s=this.g+t-1>>3,r=n[i]&255>>8-r;for(i++;i<s;i++)r<<=8,r|=n[i];return 0<a?r=r<<a|n[i]>>8-a:(r<<=8,r|=n[i]),this.index+=t,this.g=e?this.index-(this.a.start<<3):this.g+t,r},e.prototype.Td=function(t){var i;if(void 0==i&&(i=1),0<t){if(!this.a.next||this.a.end+1!=this.a.next.start)return!!i&&(this.xa(this.a.end+1),e.Aa);this.Wb=this.a,this.a=this.a.next,this.la=this.a.data.byteLength,this.g=t-1,this.index=(this.a.start<<3)+this.g,i&&this.mb()}else this.a=this.Wb,this.la=this.a.data.byteLength,this.g=(this.a.data.byteLength<<3)+t,this.index=(this.a.end+1<<3)+t;return!0},e.prototype.advance=function(t){var e;return 0>=(e=this.g+t-((this.la<<3)-1))?(this.index+=t,this.g+=t):this.Td(e)},e.prototype.Rd=function(t){return t<=this.g?(this.index-=t,this.g-=t):this.Td(this.g-t)},e.prototype.seek=function(t){var i=this.m,r=this.a.start;if(this.f){for(var n=0;n<this.f.length;n++)if(this.f[n].end>=t){if(!this.f[n].loaded)return this.xa(this.f[n].start),e.Aa;var a=t-this.f[n].start;break}for(;i.start!=this.f[n].start;)i=i.next;return this.a=i,this.la=this.a.data.byteLength,this.g=a<<3,this.index=t<<3,r!=this.f[n].start&&this.mb(),!0}for(;;){if(i.end>=t&&i.start<=t)return this.a=i,this.la=this.a.data.byteLength,this.g=t-this.a.start<<3,this.index=t<<3,r!=this.a.start&&this.mb(),!0;if(!i.next||i.next.start>t)return this.xa(t),e.Aa;i=i.next}},t.jsv_helper=function(){},t.jsv_helper.iPhoneVersion=function(){if(!/(iPhone)/g.test(navigator.userAgent))return NaN;var e=t.screen.height;switch(e){case 480:return"4";case 568:return"5";case 667:case 736:return"6";default:return 736<e?"6":"4"}},t.jsv_helper.iOsVersion=function(){if(!/(iPhone)/g.test(navigator.userAgent))return NaN;var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return parseInt(t[1],10)},t.jsv_is_ww){var K=new t.video_jsv;t.addEventListener("message",function(t){var e=t.data;switch(t=e.args&&!Array.isArray(e.args)?Object.keys(e.args).map(function(t){return e.args[t]}):e.args,e.t){case"set":K.__lookupSetter__(e.n).apply(K,t);break;case"func":K[e.n].apply(K,t);break;case"eq":K[e.n]=t[0]}})}}(window)},function(t,e,i){"use strict";function r(t){if(t.flashSupport=!1,t.flashCallingVpaid)return t.flashSupport=!0,void g.debugLog(t,"flash calling vpaid",!1);if(t.htmlOnly)g.debugLog(t,"html only mode, flash disabled",!1);else if(v.isFileProtocol())g.debugLog(t,"file protocol can`t use flash",!1);else{t.reportVPWLoaded=Math.random()<=.01;try{if(t.SwfObject&&t.SwfObject.hasFlashPlayerVersion("12.0")){var e=window.sandblaster&&window.sandblaster.detect();e&&e.sandboxed?g.debugLog(t,"sandboxed can`t use flash",!1):navigator.userAgent.match(/Chrome\/5[6-7]/)&&"about:"==document.location.protocol?g.debugLog(t,"about: iframe in Chrome 56+, diasabling flash",!1):(t.flashSupport=!0,g.debugLog(t,"can use flash - version: 12.0+",!1))}else{if(t.SwfObject&&t.SwfObject.hasFlashPlayerVersion("6.0.0")){var i="",r="";try{i=navigator.userAgent,r=t.SwfObject.getFlashPlayerVersion()}catch(t){}g.debugLog(t,"can`t use flash - old version",!1),y.playerError(t,2,"noflash old ver "+r+": "+i)}else g.debugLog(t,"no flash detected",!1);t.reportVPWLoaded&&y.logEvent(t,y.CEDATO_EVENT.E_VPWS,{state:3},{})}}catch(e){g.debugLog(t,"js exception while checking flash, can't use flash - error: "+e.message,!1)}}}function n(t){t.sendPixel=function(t){(new Image).src=t},t.injectScript=function(t){w.injectScript(t)},t.playerEvents=new f({wildcard:!0,maxListeners:20})}function a(t){if(t){var e="h";"https:"===t.protocol&&(e="s");var i="h";t.beingVpaid&&(i=t.flashCallingVpaid?"f":"j");var r="d";return t.info&&t.info.mobile&&(r="m"),t.isApp&&(r="a"),e+i+r}}function s(t,e){var i={},s=0,l=!1;try{if(window&&(window.onerror=function(t,e,r){try{-1!==e.indexOf("algovid")&&g.debugLog(i,"Unhandeled exception "+t+" == "+e+" == "+r,!1)}catch(t){}}),i=T.configurePlayer(v.getUrlVars(t.params,!0))){i.JSV=e.jsv,i.SwfObject=e.swf,i.DMVAST=p,n(i),i.plugins={"cedato/passback":I.initPassback};try{if(i.src=t.params,t.currentScript&&(i.currentScript=t.currentScript),s=1,l=!1,g.initDebugLog(i),g.debugLog(i,"Tag: "+i.src,!1),g.debugLog(i,"player initialized. player version: "+i.playerVersion+", playerId: "+i.playerId+", subid: "+i.subid+", domain: "+i.domain+", protocol: "+i.protocol+", singleVPW: "+i.singleVPW+", autoplay: "+i.autoplay+", width: "+i.width+", height: "+i.height,!1),g.debugLog(i,"ua: "+window.navigator.userAgent,!1),g.debugLog(i,"domain detected: "+i.domainDetected,!1),i.domain!==i.domainDetected?g.debugLog(i,"domain received in param: "+i.domain,!1):g.debugLog(i,"using detected domain: "+i.domain,!1),i.hasVideoSupport||g.debugLog(i,"no video support",!1),i.info?g.debugLog(i,"get device info returned mobile: "+i.info.mobile+", os: "+i.info.os+", osv: "+i.info.osv+", make: "+i.info.make+", model: "+i.info.model,!1):(i.info={mobile:!1},g.debugLog(i,"get device info - flash",!1)),i.divId||y.playerError(i,6,"divId not defined"),!i.playerId)return void y.playerError(i,6,"playerId not defined");s=2,i.flashCallingVpaid||i.jsCallingVpaid?(i.beingVpaid=!0,i.maxAdStarts=1,L.prePrepareCallingObject(i)):E.FlashInterface.globalInit(),i.detect=a(i),s=41,h.include(),s=42;var d=A.Promise.resolve(null);i.forceJSV&&(i.info.mobile=!0),i.info.mobile?(d=o(i)||d,i.flashSupport=!1,i.muteToPlay=!0,i.parallelStartAd=!1,i.freqRetry=!0):(s=5,r(i)),y.logEvent(i,y.CEDATO_EVENT.E_START,{},{}),l=!0,s=52,S.preparePreVPW(i),s=54,L.postPrepareCallingObject(i),s=6,g.debugLog(i,"calling gpv",!1),i.gpvReturnedFirstTime=!1,s=56;var u=_.setupAPI(i,e.api||window.CEDATO_API);s=57;var c=R.promiseGPV(i,t);A.Promise.all([c,d,u]).then(function(t){var e=t[0];return R.gpvAnswer(i,e)}).catch(function(t){return y.playerError(i,6,t||"init stage unknown error")})}catch(t){y.playerError(i,3,"init stage "+s+" gave JS exception: "+t.message,t)}}}catch(t){i.playerId||(i.playerId="0"),i.machineId||(i.machineId="s2.algovid.com"),i.subid||(i.subid=""),i.playerVersion||(i.playerVersion="111.08"),i.sessionId||(i.sessionId="");try{s&&(s=s)}catch(t){s=0}0===s&&g.initDebugLog(i),y.playerError(i,3,"init error  gave JS exception: "+encodeURIComponent(t.message),t),l||y.logEvent(i,y.CEDATO_EVENT.E_START,{},{})}}function o(t){return t.JSV||(t.forceJSV=!1),function(){return null!=t.forceJSV?(g.debugLog(t,"jsv override - "+(t.forceJSV?"forced":"disabled"),!1),A.Promise.resolve(t.forceJSV)):P.supportsPlayVideo().then(function(){return g.debugLog(t,"detected video autoplay, no jsv",!1),!1},function(){return g.debugLog(t,"using jsv",!1),!0})}().then(function(e){if(t.usejsv=e,e){m.jsvUsage(t,t.forceJSV);try{t.JSV.include(),t.hasVideoSupport=!0,g.debugLog(t,"jsv loaded",!1)}catch(t){throw new Error("JSV loading error")}}})}function l(){var t,e;return document.currentScript?(t=document.currentScript,e=t.src):e=v.ScriptPath(),e&&b.checkIndexes(e)||(t||(t=b.getScriptTag()),t&&(e=t.src)),{src:e,currentScript:t}}function d(t){var e=l();-1!==e.src.indexOf("?ob=")&&-1!==e.src.indexOf("&ob=")||-1!==e.src.indexOf("?job=")&&-1!==e.src.indexOf("&job=")||s({params:e.src,currentScript:e.currentScript,gpvData:null,onloadGPV:null},t)}function u(t,e){for(var i=0;i<t.players.length;i++){var r=t.players[i];r.inited||(s(r,e),r.inited=!0)}}function c(t){var e=t.tag;e?(e.init||(e.init=function(){u(e,t)}),e.init()):d(t)}Object.defineProperty(e,"__esModule",{value:!0});var h=i(47),p=i(48),f=i(14).EventEmitter2,A=i(10);i(24).default.Promise=A.Promise;var v=i(3),g=i(0),m=i(4),y=i(6),b=i(29),E=i(25),T=i(30),_=i(5),R=i(36),L=i(12),S=i(31),w=i(7),I=i(66);i(35);var P=i(39);e.default=c},function(t,e){e.include=function(){try{Object.getPrototypeOf||(Object.getPrototypeOf=function(t){if(t!==Object(t))throw TypeError("Object.getPrototypeOf called on non-object");return t.__proto__||t.constructor.prototype||Object.prototype}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(t){if(t!==Object(t))throw TypeError("Object.getOwnPropertyNames called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),"function"!=typeof Object.create&&(Object.create=function(t,e){function i(){}if("object"!=typeof t)throw TypeError();i.prototype=t;var r=new i;if(t&&(r.constructor=i),void 0!==e){if(e!==Object(e))throw TypeError();Object.defineProperties(r,e)}return r}),function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()){var t=Object.defineProperty;Object.defineProperty=function(e,i,r){if(t)try{return t(e,i,r)}catch(t){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,i,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,i,r.set),"value"in r&&(e[i]=r.value),e}}}(),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(t,e){if(t!==Object(t))throw TypeError("Object.defineProperties called on non-object");var i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&Object.defineProperty(t,i,e[i]);return t}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw TypeError("Object.keys called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),Function.prototype.bind||(Function.prototype.bind=function(t){function e(){}if("function"!=typeof this)throw TypeError("Bind must be called on a function");var i=[].slice,r=i.call(arguments,1),n=this,a=function(){return n.apply(this instanceof e?this:t,r.concat(i.call(arguments)))};return e.prototype=n.prototype,a.prototype=new e,a}),Array.isArray=Array.isArray||function(t){return Boolean(t&&"[object Array]"===Object.prototype.toString.call(Object(t)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if(0===i)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),isNaN(r)?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=i)return-1;for(var n=r>=0?r:Math.max(i-Math.abs(r),0);n<i;n++)if(n in e&&e[n]===t)return n;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if(0===i)return-1;var r=i;arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))));for(var n=r>=0?Math.min(r,i-1):i-Math.abs(r);n>=0;n--)if(n in e&&e[n]===t)return n;return-1}),Array.prototype.every||(Array.prototype.every=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();var r,n=arguments[1];for(r=0;r<i;r++)if(r in e&&!t.call(n,e[r],r,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();var r,n=arguments[1];for(r=0;r<i;r++)if(r in e&&t.call(n,e[r],r,e))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();var r,n=arguments[1];for(r=0;r<i;r++)r in e&&t.call(n,e[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();var r=[];r.length=i;var n,a=arguments[1];for(n=0;n<i;n++)n in e&&(r[n]=t.call(a,e[n],n,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();var r,n=[],a=arguments[1];for(r=0;r<i;r++)if(r in e){var s=e[r];t.call(a,s,r,e)&&n.push(s)}return n}),Array.prototype.reduce||(Array.prototype.reduce=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();if(0===i&&1===arguments.length)throw TypeError();var r,n=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(n in e){r=e[n++];break}if(++n>=i)throw TypeError()}for(;n<i;)n in e&&(r=t.call(void 0,r,e[n],n,e)),n++;return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();if(0===i&&1===arguments.length)throw TypeError();var r,n=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(n in this){r=this[n--];break}if(--n<0)throw TypeError()}for(;n>=0;)n in e&&(r=t.call(void 0,r,e[n],n,e)),n--;return r}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function t(t){return("00"+t).slice(-2)}return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+function(t){return("000"+t).slice(-3)}(this.getUTCMilliseconds())+"Z"})}catch(t){}}},function(t,e,i){var r,r;!function(e){t.exports=e()}(function(){return function t(e,i,n){function a(o,l){if(!i[o]){if(!e[o]){var d="function"==typeof r&&r;if(!l&&d)return r(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return a(i||t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof r&&r,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(t,e,i){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function a(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!a(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,i,r,a,l,d;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(i=this._events[t],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(s(i))for(a=Array.prototype.slice.call(arguments,1),d=i.slice(),r=d.length,l=0;l<r;l++)d[l].apply(this,a);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(i=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var r=!1;return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var i,r,a,o;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],a=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(i)){for(o=a;o-- >0;)if(i[o]===e||i[o].listener&&i[o].listener===e){r=o;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,i){var r;r=function(){function t(){this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]}return t}(),e.exports=r},{}],3:[function(t,e,i){var r,n,a;n=t("./parser"),a=t("./util"),r=function(){function t(){}return t.cappingFreeLunch=0,t.cappingMinimumTimeInterval=0,t.options={withCredentials:!1,timeout:0},t.get=function(t,e,r){var a,s,o,l;if(s=+new Date,a=i.extend=function(t,e){var i,r;for(i in e)r=e[i],t[i]=r;return t},r||("function"==typeof e&&(r=e),o={}),o=a(this.options,e),this.totalCallsTimeout<s?(this.totalCalls=1,this.totalCallsTimeout=s+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls)return void r(null,new Error("VAST call canceled – FreeLunch capping not reached yet "+this.totalCalls+"/"+this.cappingFreeLunch));if((l=s-this.lastSuccessfullAd)<0)this.lastSuccessfullAd=0;else if(l<this.cappingMinimumTimeInterval)return void r(null,new Error("VAST call canceled – ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return n.parse(t,o,function(t){return function(t,e){return r(t,e)}}())},function(){var e,i;i=a.storage,e=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(r){e(t,r,{get:function(){return i.getItem(r)},set:function(t){return i.setItem(r,t)},configurable:!1,enumerable:!0})}),null==t.lastSuccessfullAd&&(t.lastSuccessfullAd=0),null==t.totalCalls&&(t.totalCalls=0),null==t.totalCallsTimeout&&(t.totalCallsTimeout=0)}(),t}(),e.exports=r},{"./parser":12,"./util":18}],4:[function(t,e,i){var r;r=function(){function t(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}}return t}(),e.exports=r},{}],5:[function(t,e,i){var r,n,a,s,o=function(t,e){function i(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;r=function(){function t(t){null==t&&(t={}),this.id=t.id||null,this.adId=t.adId||null,this.sequence=t.sequence||null,this.apiFramework=t.apiFramework||null,this.trackingEvents={}}return t}(),a=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}return o(e,t),e}(r),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[]}return o(e,t),e}(r),n=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="companion",this.variations=[]}return o(e,t),e}(r),e.exports={VASTCreativeLinear:a,VASTCreativeNonLinear:s,VASTCreativeCompanion:n}},{}],6:[function(t,e,i){var r;r=function(){function t(){this.attributes={},this.children=[]}return t}(),e.exports=r},{}],7:[function(t,e,i){var r;r=function(){function t(){this.name=null,this.value=null,this.attributes={}}return t}(),e.exports=r},{}],8:[function(t,e,i){var r;r=function(){function t(){this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null}return t}(),e.exports=r},{}],9:[function(t,e,i){e.exports={client:t("./client"),tracker:t("./tracker"),parser:t("./parser"),util:t("./util")}},{"./client":3,"./parser":12,"./tracker":14,"./util":18}],10:[function(t,e,i){var r;r=function(){function t(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}return t}(),e.exports=r},{}],11:[function(t,e,i){var r;r=function(){function t(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null}return t}(),e.exports=r},{}],12:[function(t,e,i){var r,n,a,s,o,l,d,u,c,h,p,f,A,v,g,m=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};n=t("./urlhandler"),v=t("./response"),a=t("./ad"),s=t("./extension"),o=t("./extensionchild"),g=t("./util"),u=t("./creative").VASTCreativeLinear,d=t("./creative").VASTCreativeCompanion,c=t("./creative").VASTCreativeNonLinear,p=t("./mediafile"),h=t("./icon"),l=t("./companionad"),f=t("./nonlinear"),r=t("events").EventEmitter,A=function(){function t(){}var e;return e=[],t.addURLTemplateFilter=function(t){"function"==typeof t&&e.push(t)},t.removeURLTemplateFilter=function(){return e.pop()},t.countURLTemplateFilters=function(){return e.length},t.clearUrlTemplateFilters=function(){return e=[]},t.parse=function(t,e,i){return i||("function"==typeof e&&(i=e),e={}),this._parse(t,null,e,function(t,e){return i(e,t)})},t.vent=new r,t.track=function(t,e){return this.vent.emit("VAST-error",e),g.track(t,e)},t.on=function(t,e){return this.vent.on(t,e)},t.once=function(t,e){return this.vent.once(t,e)},t._parse=function(t,i,r,a){var s,o,l;for(a||("function"==typeof r&&(a=r),r={}),o=0,l=e.length;o<l;o++)s=e[o],t=s(t);return null==i&&(i=[]),i.push(t),n.get(t,r,function(e){return function(n,s){var o,l,d,u,c,h,p,f,A,g,y;if(null!=n)return a(n);if(y=new v,null==(null!=s?s.documentElement:void 0)||"VAST"!==s.documentElement.nodeName)return a(new Error("Invalid VAST XMLDocument"));for(A=s.documentElement.childNodes,d=0,c=A.length;d<c;d++)f=A[d],"Error"===f.nodeName&&y.errorURLTemplates.push(e.parseNodeText(f));for(g=s.documentElement.childNodes,u=0,h=g.length;u<h;u++)f=g[u],"Ad"===f.nodeName&&(o=e.parseAdElement(f),null!=o?y.ads.push(o):e.track(y.errorURLTemplates,{ERRORCODE:101}));for(l=function(t,i){var r,n,s,l;if(null==t&&(t=null),null==i&&(i=!1),y){for(s=!0,l=y.ads,r=0,n=l.length;r<n;r++){if(o=l[r],null!=o.nextWrapperURL)return;o.creatives.length>0&&(s=!1)}return s&&(i||e.track(y.errorURLTemplates,{ERRORCODE:303})),0===y.ads.length&&(y=null),a(t,y)}},p=y.ads.length;p--;)o=y.ads[p],null!=o.nextWrapperURL&&function(n){var a,s,o;i.length>(null!==r.wrapperLimit?r.wrapperLimit:9)||(o=n.nextWrapperURL,m.call(i,o)>=0)?(e.track(n.errorURLTemplates,{ERRORCODE:302}),y.ads.splice(y.ads.indexOf(n),1),l(new Error("Wrapper limit reached, as defined by the video player"))):(0===n.nextWrapperURL.indexOf("//")?(s=location.protocol,n.nextWrapperURL=""+s+n.nextWrapperURL):-1===n.nextWrapperURL.indexOf("://")&&(a=t.slice(0,t.lastIndexOf("/")),n.nextWrapperURL=a+"/"+n.nextWrapperURL),e._parse(n.nextWrapperURL,i,r,function(t,i){var r,a,s,o,d,u,c,h,p,f,A,v,g,m,b,E,T,_,R,L,S,w,I,P;if(s=!1,null!=t)e.track(n.errorURLTemplates,{ERRORCODE:301}),y.ads.splice(y.ads.indexOf(n),1),s=!0;else if(null==i)e.track(n.errorURLTemplates,{ERRORCODE:303}),y.ads.splice(y.ads.indexOf(n),1),s=!0;else for(y.errorURLTemplates=y.errorURLTemplates.concat(i.errorURLTemplates),d=y.ads.indexOf(n),y.ads.splice(d,1),_=i.ads,u=0,c=_.length;u<c;u++){if(P=_[u],P.errorURLTemplates=n.errorURLTemplates.concat(P.errorURLTemplates),P.impressionURLTemplates=n.impressionURLTemplates.concat(P.impressionURLTemplates),P.extensions=n.extensions.concat(P.extensions),null!=n.trackingEvents)for(R=P.creatives,g=0,h=R.length;g<h;g++)if(a=R[g],null!=n.trackingEvents[a.type])for(L=Object.keys(n.trackingEvents[a.type]),m=0,p=L.length;m<p;m++)o=L[m],(r=a.trackingEvents)[o]||(r[o]=[]),a.trackingEvents[o]=a.trackingEvents[o].concat(n.trackingEvents[a.type][o]);if(null!=n.videoClickTrackingURLTemplates)for(S=P.creatives,b=0,f=S.length;b<f;b++)a=S[b],"linear"===a.type&&(a.videoClickTrackingURLTemplates=a.videoClickTrackingURLTemplates.concat(n.videoClickTrackingURLTemplates));if(null!=n.videoCustomClickURLTemplates)for(w=P.creatives,E=0,A=w.length;E<A;E++)a=w[E],"linear"===a.type&&(a.videoCustomClickURLTemplates=a.videoCustomClickURLTemplates.concat(n.videoCustomClickURLTemplates));if(null!=n.videoClickThroughURLTemplate)for(I=P.creatives,T=0,v=I.length;T<v;T++)a=I[T],"linear"===a.type&&null==a.videoClickThroughURLTemplate&&(a.videoClickThroughURLTemplate=n.videoClickThroughURLTemplate);y.ads.splice(++d,0,P)}return delete n.nextWrapperURL,l(t,s)}))}(o);return l()}}(this))},t.childByName=function(t,e){var i,r,n,a;for(a=t.childNodes,r=0,n=a.length;r<n;r++)if(i=a[r],i.nodeName===e)return i},t.childsByName=function(t,e){var i,r,n,a,s;for(r=[],s=t.childNodes,n=0,a=s.length;n<a;n++)i=s[n],i.nodeName===e&&r.push(i);return r},t.parseAdElement=function(t){var e,i,r,n,a;for(n=t.childNodes,i=0,r=n.length;i<r;i++)if(e=n[i],"Wrapper"===(a=e.nodeName)||"InLine"===a){if(this.copyNodeAttribute("id",t,e),this.copyNodeAttribute("sequence",t,e),"Wrapper"===e.nodeName)return this.parseWrapperElement(e);if("InLine"===e.nodeName)return this.parseInLineElement(e)}},t.parseWrapperElement=function(t){var e,i,r,n,a,s,o;for(e=this.parseInLineElement(t),o=this.childByName(t,"VASTAdTagURI"),null!=o?e.nextWrapperURL=this.parseNodeText(o):null!=(o=this.childByName(t,"VASTAdTagURL"))&&(e.nextWrapperURL=this.parseNodeText(this.childByName(o,"URL"))),a=e.creatives,r=0,n=a.length;r<n;r++)i=a[r],s=null,"linear"!==i.type&&"nonlinear"!==i.type||null!=(s=i)&&(null!=s.trackingEvents&&(e.trackingEvents||(e.trackingEvents={}),e.trackingEvents[s.type]=s.trackingEvents),null!=s.videoClickTrackingURLTemplates&&(e.videoClickTrackingURLTemplates=s.videoClickTrackingURLTemplates),null!=s.videoClickThroughURLTemplate&&(e.videoClickThroughURLTemplate=s.videoClickThroughURLTemplate),null!=s.videoCustomClickURLTemplates&&(e.videoCustomClickURLTemplates=s.videoCustomClickURLTemplates));if(null!=e.nextWrapperURL)return e},t.parseInLineElement=function(t){var e,i,r,n,s,o,l,d,u,c,h,p,f,A,v;for(e=new a,e.id=t.getAttribute("id")||null,e.sequence=t.getAttribute("sequence")||null,f=t.childNodes,o=0,u=f.length;o<u;o++)switch(p=f[o],p.nodeName){case"Error":e.errorURLTemplates.push(this.parseNodeText(p));break;case"Impression":e.impressionURLTemplates.push(this.parseNodeText(p));break;case"Creatives":for(A=this.childsByName(p,"Creative"),l=0,c=A.length;l<c;l++)for(n=A[l],r={id:n.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(n),sequence:n.getAttribute("sequence")||null,apiFramework:n.getAttribute("apiFramework")||null},v=n.childNodes,d=0,h=v.length;d<h;d++)switch(s=v[d],s.nodeName){case"Linear":i=this.parseCreativeLinearElement(s,r),i&&e.creatives.push(i);break;case"NonLinearAds":i=this.parseNonLinear(s,r),i&&e.creatives.push(i);break;case"CompanionAds":i=this.parseCompanionAd(s,r),i&&e.creatives.push(i)}break;case"Extensions":this.parseExtension(e.extensions,this.childsByName(p,"Extension"));break;case"AdSystem":e.system={value:this.parseNodeText(p),version:p.getAttribute("version")||null};break;case"AdTitle":e.title=this.parseNodeText(p);break;case"Description":e.description=this.parseNodeText(p);break;case"Advertiser":e.advertiser=this.parseNodeText(p);break;case"Pricing":e.pricing={value:this.parseNodeText(p),model:p.getAttribute("model")||null,currency:p.getAttribute("currency")||null};break;case"Survey":e.survey=this.parseNodeText(p)}return e},t.parseExtension=function(t,e){var i,r,n,a,l,d,u,c,h,p,f,A,v,g,m,y,b,E,T;for(E=[],u=0,f=e.length;u<f;u++){if(l=e[u],r=new s,l.attributes)for(m=l.attributes,c=0,A=m.length;c<A;c++)d=m[c],r.attributes[d.nodeName]=d.nodeValue;for(y=l.childNodes,h=0,v=y.length;h<v;h++)if(i=y[h],T=this.parseNodeText(i),"#comment"!==i.nodeName&&""!==T){if(n=new o,n.name=i.nodeName,n.value=T,i.attributes)for(b=i.attributes,p=0,g=b.length;p<g;p++)a=b[p],n.attributes[a.nodeName]=a.nodeValue;r.children.push(n)}E.push(t.push(r))}return E},t.parseCreativeLinearElement=function(t,e){var i,r,n,a,s,o,l,d,c,f,A,v,g,m,y,b,E,T,_,R,L,S,w,I,P,D,V,O,C,x,k,N,U,M,j,B,F,H,J,q,W,G,z,Q,X,K,Y,Z,$,tt,et,it,rt,nt,at,st,ot,lt,dt;if(a=new u(e),a.duration=this.parseDuration(this.parseNodeText(this.childByName(t,"Duration"))),-1===a.duration&&"Wrapper"!==t.parentNode.parentNode.parentNode.nodeName)return null;if(nt=t.getAttribute("skipoffset"),null==nt?a.skipDelay=null:"%"===nt.charAt(nt.length-1)?(H=parseInt(nt,10),a.skipDelay=a.duration*(H/100)):a.skipDelay=this.parseDuration(nt),null!=(dt=this.childByName(t,"VideoClicks"))){for(a.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(dt,"ClickThrough")),W=this.childsByName(dt,"ClickTracking"),d=0,T=W.length;d<T;d++)n=W[d],a.videoClickTrackingURLTemplates.push(this.parseNodeText(n));for(G=this.childsByName(dt,"CustomClick"),y=0,_=G.length;y<_;y++)s=G[y],a.videoCustomClickURLTemplates.push(this.parseNodeText(s))}for(i=this.childByName(t,"AdParameters"),null!=i&&(a.adParameters=this.parseNodeText(i)),Q=this.childsByName(t,"TrackingEvents"),b=0,L=Q.length;b<L;b++)for(ot=Q[b],X=this.childsByName(ot,"Tracking"),E=0,S=X.length;E<S;E++)if(st=X[E],o=st.getAttribute("event"),lt=this.parseNodeText(st),null!=o&&null!=lt){if("progress"===o){if(!(B=st.getAttribute("offset")))continue;o="%"===B.charAt(B.length-1)?"progress-"+B:"progress-"+Math.round(this.parseDuration(B))}null==(r=a.trackingEvents)[o]&&(r[o]=[]),a.trackingEvents[o].push(lt)}for(K=this.childsByName(t,"MediaFiles"),C=0,w=K.length;C<w;C++)for(U=K[C],Y=this.childsByName(U,"MediaFile"),M=0,I=Y.length;M<I;M++)N=Y[M],k=new p,k.id=N.getAttribute("id"),k.fileURL=this.parseNodeText(N),k.deliveryType=N.getAttribute("delivery"),k.codec=N.getAttribute("codec"),k.mimeType=N.getAttribute("type"),k.apiFramework=N.getAttribute("apiFramework"),k.bitrate=parseInt(N.getAttribute("bitrate")||0),k.minBitrate=parseInt(N.getAttribute("minBitrate")||0),k.maxBitrate=parseInt(N.getAttribute("maxBitrate")||0),k.width=parseInt(N.getAttribute("width")||0),k.height=parseInt(N.getAttribute("height")||0),rt=N.getAttribute("scalable"),rt&&"string"==typeof rt&&(rt=rt.toLowerCase(),"true"===rt?k.scalable=!0:"false"===rt&&(k.scalable=!1)),x=N.getAttribute("maintainAspectRatio"),x&&"string"==typeof x&&(x=x.toLowerCase(),"true"===x?k.maintainAspectRatio=!0:"false"===x&&(k.maintainAspectRatio=!1)),a.mediaFiles.push(k);if(null!=(g=this.childByName(t,"Icons")))for(Z=this.childsByName(g,"Icon"),j=0,P=Z.length;j<P;j++){for(v=Z[j],c=new h,c.program=v.getAttribute("program"),c.height=parseInt(v.getAttribute("height")||0),c.width=parseInt(v.getAttribute("width")||0),c.xPosition=this.parseXPosition(v.getAttribute("xPosition")),c.yPosition=this.parseYPosition(v.getAttribute("yPosition")),c.apiFramework=v.getAttribute("apiFramework"),c.offset=this.parseDuration(v.getAttribute("offset")),c.duration=this.parseDuration(v.getAttribute("duration")),$=this.childsByName(v,"HTMLResource"),F=0,D=$.length;F<D;F++)l=$[F],c.type=l.getAttribute("creativeType")||"text/html",c.htmlResource=this.parseNodeText(l);for(tt=this.childsByName(v,"IFrameResource"),J=0,V=tt.length;J<V;J++)m=tt[J],c.type=m.getAttribute("creativeType")||0,c.iframeResource=this.parseNodeText(m);for(et=this.childsByName(v,"StaticResource"),q=0,O=et.length;q<O;q++)at=et[q],c.type=at.getAttribute("creativeType")||0,c.staticResource=this.parseNodeText(at);if(null!=(A=this.childByName(v,"IconClicks")))for(c.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(A,"IconClickThrough")),z=this.childsByName(A,"IconClickTracking"),it=0,R=z.length;it<R;it++)f=z[it],c.iconClickTrackingURLTemplates.push(this.parseNodeText(f));c.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(v,"IconViewTracking")),a.icons.push(c)}return a},t.parseNonLinear=function(t,e){var i,r,n,a,s,o,l,d,u,h,p,A,v,g,m,y,b,E,T,_,R,L,S,w,I,P,D,V,O,C,x,k,N,U;for(a=new c(e),w=this.childsByName(t,"TrackingEvents"),l=0,A=w.length;l<A;l++)for(N=w[l],I=this.childsByName(N,"Tracking"),u=0,v=I.length;u<v;u++)k=I[u],s=k.getAttribute("event"),U=this.parseNodeText(k),null!=s&&null!=U&&(null==(r=a.trackingEvents)[s]&&(r[s]=[]),a.trackingEvents[s].push(U));for(P=this.childsByName(t,"NonLinear"),h=0,g=P.length;h<g;h++){for(L=P[h],R=new f,R.id=L.getAttribute("id")||null,R.width=L.getAttribute("width"),R.height=L.getAttribute("height"),R.expandedWidth=L.getAttribute("expandedWidth"),R.expandedHeight=L.getAttribute("expandedHeight"),R.scalable=this.parseBoolean(L.getAttribute("scalable")),R.maintainAspectRatio=this.parseBoolean(L.getAttribute("maintainAspectRatio")),R.minSuggestedDuration=this.parseDuration(L.getAttribute("minSuggestedDuration")),R.apiFramework=L.getAttribute("apiFramework"),D=this.childsByName(L,"HTMLResource"),p=0,m=D.length;p<m;p++)o=D[p],R.type=o.getAttribute("creativeType")||"text/html",R.htmlResource=this.parseNodeText(o);for(V=this.childsByName(L,"IFrameResource"),T=0,y=V.length;T<y;T++)d=V[T],R.type=d.getAttribute("creativeType")||0,R.iframeResource=this.parseNodeText(d);for(O=this.childsByName(L,"StaticResource"),_=0,b=O.length;_<b;_++)x=O[_],R.type=x.getAttribute("creativeType")||0,R.staticResource=this.parseNodeText(x);for(i=this.childByName(L,"AdParameters"),null!=i&&(R.adParameters=this.parseNodeText(i)),R.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(L,"NonLinearClickThrough")),C=this.childsByName(L,"NonLinearClickTracking"),S=0,E=C.length;S<E;S++)n=C[S],R.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(n));a.variations.push(R)}return a},t.parseCompanionAd=function(t,e){var i,r,n,a,s,o,u,c,h,p,f,A,v,g,m,y,b,E,T,_,R,L,S,w,I,P,D,V,O,C,x,k,N,U,M,j,B;for(o=new d(e),P=this.childsByName(t,"Companion"),h=0,g=P.length;h<g;h++){for(s=P[h],a=new l,a.id=s.getAttribute("id")||null,a.width=s.getAttribute("width"),a.height=s.getAttribute("height"),a.companionClickTrackingURLTemplates=[],D=this.childsByName(s,"HTMLResource"),f=0,m=D.length;f<m;f++)c=D[f],a.type=c.getAttribute("creativeType")||"text/html",a.htmlResource=this.parseNodeText(c);for(V=this.childsByName(s,"IFrameResource"),A=0,y=V.length;A<y;A++)p=V[A],a.type=p.getAttribute("creativeType")||0,a.iframeResource=this.parseNodeText(p);for(O=this.childsByName(s,"StaticResource"),v=0,b=O.length;v<b;v++){for(U=O[v],a.type=U.getAttribute("creativeType")||0,C=this.childsByName(s,"AltText"),L=0,E=C.length;L<E;L++)r=C[L],a.altText=this.parseNodeText(r);a.staticResource=this.parseNodeText(U)}for(x=this.childsByName(s,"TrackingEvents"),S=0,T=x.length;S<T;S++)for(j=x[S],k=this.childsByName(j,"Tracking"),w=0,_=k.length;w<_;w++)M=k[w],u=M.getAttribute("event"),B=this.parseNodeText(M),null!=u&&null!=B&&(null==(i=a.trackingEvents)[u]&&(i[u]=[]),a.trackingEvents[u].push(B));for(N=this.childsByName(s,"CompanionClickTracking"),I=0,R=N.length;I<R;I++)n=N[I],a.companionClickTrackingURLTemplates.push(this.parseNodeText(n));a.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(s,"CompanionClickThrough")),a.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(s,"CompanionClickTracking")),o.variations.push(a)}return o},t.parseDuration=function(t){var e,i,r,n,a;return null==t?-1:g.isNumeric(t)?parseInt(t):(e=t.split(":"),3!==e.length?-1:(a=e[2].split("."),n=parseInt(a[0]),2===a.length&&(n+=parseFloat("0."+a[1])),r=parseInt(60*e[1]),i=parseInt(60*e[0]*60),isNaN(i||isNaN(r||isNaN(n||r>3600||n>60)))?-1:i+r+n))},t.parseXPosition=function(t){return"left"===t||"right"===t?t:parseInt(t||0)},t.parseYPosition=function(t){return"top"===t||"bottom"===t?t:parseInt(t||0)},t.parseBoolean=function(t){return"true"===t||"TRUE"===t||"1"===t},t.parseNodeText=function(t){return t&&(t.textContent||t.text||"").trim()},t.copyNodeAttribute=function(t,e,i){var r;if(r=e.getAttribute(t))return i.setAttribute(t,r)},t.parseCreativeAdIdAttribute=function(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null},t}(),e.exports=A},{"./ad":2,"./companionad":4,"./creative":5,"./extension":6,"./extensionchild":7,"./icon":8,"./mediafile":10,"./nonlinear":11,"./response":13,"./urlhandler":15,"./util":18,events:1}],13:[function(t,e,i){var r;r=function(){function t(){this.ads=[],this.errorURLTemplates=[]}return t}(),e.exports=r},{}],14:[function(t,e,i){var r,n,a,s,o,l,d,u=function(t,e){function i(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},c={}.hasOwnProperty;n=t("./client"),d=t("./util"),s=t("./creative").VASTCreativeLinear,o=t("./nonlinear"),a=t("./companionad"),r=t("events").EventEmitter,l=function(t){function e(t,e,i){var r,l,d;this.ad=t,this.creative=e,this.variation=null!=i?i:null,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],d=this.creative.trackingEvents;for(r in d)l=d[r],this.trackingEvents[r]=l.slice(0);this.creative instanceof s?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1,this.variation&&(this.variation instanceof o?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates):this.variation instanceof a&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates))),this.on("start",function(){n.lastSuccessfullAd=+new Date})}return u(e,t),e.prototype.setDuration=function(t){return this.assetDuration=t,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},e.prototype.setProgress=function(t){var e,i,r,n,a,s,o,l,d;if(l=null===this.skipDelay?this.skipDelayDefault:this.skipDelay,-1===l||this.skipable||(l>t?this.emit("skip-countdown",l-t):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(i=[],t>0){i.push("start"),a=Math.round(t/this.assetDuration*100),i.push("progress-"+a+"%"),i.push("progress-"+Math.round(t)),o=this.quartiles;for(s in o)(d=o[s])<=t&&t<=d+1&&i.push(s)}for(r=0,n=i.length;r<n;r++)e=i[r],this.track(e,!0);t<this.progress&&this.track("rewind")}return this.progress=t},e.prototype.setMuted=function(t){return this.muted!==t&&this.track(t?"mute":"unmute"),this.muted=t},e.prototype.setPaused=function(t){return this.paused!==t&&this.track(t?"pause":"resume"),this.paused=t},e.prototype.setFullscreen=function(t){return this.fullscreen!==t&&this.track(t?"fullscreen":"exitFullscreen"),this.fullscreen=t},e.prototype.setExpand=function(t){return this.expanded!==t&&this.track(t?"expand":"collapse"),this.expanded=t},e.prototype.setSkipDelay=function(t){if("number"==typeof t)return this.skipDelay=t},e.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},e.prototype.errorWithCode=function(t){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:t})},e.prototype.complete=function(){return this.track("complete")},e.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},e.prototype.stop=function(){},e.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},e.prototype.click=function(){var t,e,i;if((null!=(e=this.clickTrackingURLTemplates)?e.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(i={CONTENTPLAYHEAD:this.progressFormated()}),t=d.resolveURLTemplates([this.clickThroughURLTemplate],i)[0],this.emit("clickthrough",t)},e.prototype.track=function(t,e){var i,r;null==e&&(e=!1),"closeLinear"===t&&null==this.trackingEvents[t]&&null!=this.trackingEvents.close&&(t="close"),r=this.trackingEvents[t],i=this.emitAlwaysEvents.indexOf(t),null!=r?(this.emit(t,""),this.trackURLs(r)):-1!==i&&this.emit(t,""),!0===e&&(delete this.trackingEvents[t],i>-1&&this.emitAlwaysEvents.splice(i,1))},e.prototype.trackURLs=function(t,e){var i;return null==e&&(e={}),this.linear&&(null!=(null!=(i=this.creative.mediaFiles[0])?i.fileURL:void 0)&&(e.ASSETURI=this.creative.mediaFiles[0].fileURL),e.CONTENTPLAYHEAD=this.progressFormated()),d.track(t,e)},e.prototype.progressFormated=function(){var t,e,i,r,n;return n=parseInt(this.progress),t=n/3600,t.length<2&&(t="0"+t),e=n/60%60,e.length<2&&(e="0"+e),r=n%60,r.length<2&&(r="0"+e),i=parseInt(100*(this.progress-n)),t+":"+e+":"+r+"."+i},e}(r),e.exports=l},{"./client":3,"./companionad":4,"./creative":5,"./nonlinear":11,"./util":18,events:1}],15:[function(t,e,i){var r,n,a;a=t("./urlhandlers/xmlhttprequest"),n=t("./urlhandlers/flash"),r=function(){function e(){}return e.get=function(e,i,r){var s,o;return r||("function"==typeof i&&(r=i),i={}),null!=i.response?(o=i.response,delete i.response,r(null,o)):(null!=(s=i.urlhandler)?s.supported():void 0)?i.urlhandler.get(e,i,r):"undefined"==typeof window||null===window?t("./urlhandlers/node").get(e,i,r):a.supported()?a.get(e,i,r):n.supported()?n.get(e,i,r):r(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))},e}(),e.exports=r},{"./urlhandlers/flash":16,"./urlhandlers/xmlhttprequest":17}],16:[function(t,e,i){var r;r=function(){function t(){}return t.xdr=function(){var t;return window.XDomainRequest&&(t=new XDomainRequest),t},t.supported=function(){return!!this.xdr()},t.get=function(t,e,i){var r,n;return(n="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(n.async=!1,r=this.xdr(),r.open("GET",t),r.timeout=e.timeout||0,r.withCredentials=e.withCredentials||!1,r.send(),r.onprogress=function(){},r.onload=function(){return n.loadXML(r.responseText),i(null,n)}):i(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"))},t}(),e.exports=r},{}],17:[function(t,e,i){var r;r=function(){function t(){}return t.xhr=function(){var t;if("withCredentials"in(t=new window.XMLHttpRequest))return t},t.supported=function(){return!!this.xhr()},t.get=function(t,e,i){var r;if("https:"===window.location.protocol&&0===t.indexOf("http://"))return i(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{return r=this.xhr(),r.open("GET",t),r.timeout=e.timeout||0,r.withCredentials=e.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onreadystatechange=function(){if(4===r.readyState)return 200===r.status?i(null,r.responseXML):i(new Error("XHRURLHandler: "+r.statusText))},r.send()}catch(t){return i(new Error("XHRURLHandler: Unexpected error"))}},t}(),e.exports=r},{}],18:[function(t,e,i){var r;r=function(){function t(){}return t.track=function(t,e){var i,r,n,a,s,o;for(r=this.resolveURLTemplates(t,e),o=[],a=0,s=r.length;a<s;a++)i=r[a],"undefined"!=typeof window&&null!==window&&(n=new Image,o.push(n.src=i));return o},t.resolveURLTemplates=function(t,e){var i,r,n,a,s,o,l,d,u;for(null==e&&(e={}),r=[],null!=e.ASSETURI&&(e.ASSETURI=this.encodeURIComponentRFC3986(e.ASSETURI)),null!=e.CONTENTPLAYHEAD&&(e.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(e.CONTENTPLAYHEAD)),null==e.ERRORCODE||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=this.leftpad(Math.round(1e8*Math.random()).toString()),e.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),e.RANDOM=e.random=e.CACHEBUSTING,n=0,s=t.length;n<s;n++)if(i=t[n],d=i){for(a in e)u=e[a],o="["+a+"]",l="%%"+a+"%%",d=d.replace(o,u),d=d.replace(l,u);r.push(d)}return r},t.encodeURIComponentRFC3986=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},t.leftpad=function(t){return t.length<8?function(){var e,i,r;for(r=[],e=0,i=8-t.length;0<=i?e<i:e>i;0<=i?e++:e--)r.push("0");return r}().join("")+t:t},t.storage=function(){var t,e,i;try{i="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(t){t,i=null}return e=function(t){var e;try{if(e="__VASTUtil__",t.setItem(e,e),t.getItem(e)!==e)return!0}catch(t){return t,!0}return!1},(null==i||e(i))&&(t={},i={length:0,getItem:function(e){return t[e]},setItem:function(e,i){t[e]=i,this.length=Object.keys(t).length},removeItem:function(e){delete t[e],this.length=Object.keys(t).length},clear:function(){t={},this.length=0}}),i}(),t.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t}(),e.exports=r},{}]},{},[9])(9)})},function(t,e){e.getDeviceInfo=function(){var t,e={os:"",osv:"0",make:"",model:"",mobile:!1};try{t=navigator.userAgent,t||(t=window.navigator.userAgent)}catch(e){t=window.navigator.userAgent}var i,r;if(/iPod/i.test(t))e.os="iOS",e.osv=(t.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),e.make="Apple",e.model="iPod",e.mobile=!0;else if(/iPhone/i.test(t))e.os="iOS",e.osv=(t.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),e.make="Apple",e.model="iPhone",e.mobile=!0;else if(/iPad/i.test(t))e.os="iOS",e.osv=(t.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),e.make="Apple",e.model="iPad",e.mobile=!0;else if(/Android/i.test(t)){if(e.os="Android",e.mobile=!0,i=/\Android.([\d\.]+).*;\s(\w*;\s)?(.*)\sBuild.*\)/i,r=i.exec(t)){e.osv=r[1]||"0";var n=r[3]||"";/HTC/i.test(n)?(e.make="HTC",i=/HTC\s(.*)/i,r=i.exec(n),e.model=r?r[1]:""):/ASUS/i.test(n)?(e.make="ASUS",i=/ASUS\s(.*)/i,r=i.exec(n),e.model=r?r[1]:""):/ALCATEL/i.test(n)?(e.make="ALCATEL",i=/ALCATEL\s(.*)/i,r=i.exec(n),e.model=r?r[1]:""):/BLU/i.test(n)?(e.make="BLU",i=/BLU\s(.*)/i,r=i.exec(n),e.model=r?r[1]:""):/ME17\d/i.test(n)?(e.make="ASUS",e.model=n):/Nexus/i.test(n)?(e.make="Google",e.model=n):/Lenovo/i.test(n)?(e.make="Lenovo",i=/Lenovo\s(.*)/i):/IdeaTab/i.test(n)?(e.make="Lenovo",e.model=n):/Huawei/i.test(t)?(e.make="Huawei",e.model=n):/SGP\d/i.test(n)?(e.make="Sony",e.model=n):/LT[1-9]\d/i.test(n)?(e.make="Sony",e.model=n):/HP/i.test(n)?(e.make="HP",i=/HP\s(.*)/i,r=i.exec(n),e.model=r?r[1]:""):/A1-/i.test(n)||/B11-/i.test(n)?(e.make="Acer",e.model=n):/GT-/i.test(n)?(e.make="Samsung",i=/(GT-.*)/i,r=i.exec(n),e.model=r?r[1]:""):/SM-/i.test(n)?(e.make="Samsung",i=/(SM-.*)/i,r=i.exec(n),e.model=r?r[1]:""):/SPH-/i.test(n)?(e.make="Samsung",i=/(SPH-.*)/i,r=i.exec(n),e.model=r?r[1]:""):/SCH-/i.test(n)?(e.make="Samsung",i=/(SCH-.*)/i,r=i.exec(n),e.model=r?r[1]:""):/SGH-/i.test(n)?(e.make="Samsung",i=/(SGH-.*)/i,r=i.exec(n),e.model=r?r[1]:""):/DROID/i.test(n)?(e.make="Motorola",i=/(DROID.*)/i,r=i.exec(n),e.model=r?r[1]:""):/XT/i.test(n)?(e.make="Motorola",i=/(XT.*)/i,r=i.exec(n),e.model=r?r[1]:""):/LG-/i.test(n)?(e.make="LG",i=/(LG-.*)/i,r=i.exec(n),e.model=r?r[1]:""):/VS/i.test(n)?(e.make="LG",i=/(VS.*)/i,r=i.exec(n),e.model=r?r[1]:""):/Z[1-9]/i.test(n)?(e.make="ZTE",i=/(Z[1-9].*)/i,r=i.exec(n),e.model=r?r[1]:""):/NX[1-9]/i.test(n)?(e.make="NEXTBOOK",i=/(NX[1-9].*)/i,r=i.exec(n),e.model=r?r[1]:""):/C5[1-9]/i.test(n)?(e.make="Kyocera",i=/(C5[1-9].*)/i,r=i.exec(n),e.model=r?r[1]:""):e.model=n}}else/Windows.Phone/i.test(t)||/WPDesktop/i.test(t)?(e.os="WindowsPhone",e.osv=(t.match(/Windows.Phone\s([0-9]+\.[0-9])/)||[""])[1]||8,e.mobile=!0,/NOKIA/i.test(t)&&(e.make="Nokia",i=/NOKIA;\s(.*?)(;|\))/i,r=i.exec(t),e.model=r?r[1]:"")):/BlackBerry/i.test(t)||navigator.userAgent.match(/BB10/i)?(e.os="BlackBerry",t.indexOf("Version/")>=0?(i=/Version\/(.*?)\s/i,r=i.exec(t),e.osv=r?r[1]:""):(i=/BlackBerry.*\/(.*?)\s/i,r=i.exec(t),e.osv=r?r[1]:""),e.mobile=!0):/Windows/i.test(t)?(e.os="Windows",i=/Windows\sNT\s(.*?)(;|\)|\s)/i,r=i.exec(t),e.osv=r?r[1]:""):/Mac\sOS/i.test(t)&&(e.os="MacOS",i=/Mac\sOS\sX\s(.*?)(;|\)|\s)/i,r=i.exec(t),e.osv=r?r[1]:"");return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),n=i(2),a=i(15),s=i(4),o=function(){function t(t,e){this.players=t,this.playerData=e,this.fixForTypescript=function(){return n.VAST_ERROR}}return t.prototype.xhr=function(){return a.createXMLHTTPObject()},t.prototype.supported=function(){return!!this.xhr()},t.prototype.get=function(t,e,i){var n=this;e.withCredentials="withCredentials"in this.xhr()&&e.withCredentials,this.playerData.requestedVastURL==t?this.playerData.wrapperCount=0:(this.playerData.wrapperCount++,e.withCredentials=!1,this.playerData.withCredentials=!1),a.requestWithAjax({timeout:e.timeout,url:t,withCredentials:e.withCredentials}).then(function(e){try{n.players.logVastResponse&&(r.debugLogVast(n.players,n.playerData,"xhr response to url "+t,!1),r.debugLog(n.players,e.responseText,!1)),n.playerData.vastResponseXML=a.getXML(e),i(null,n.playerData.vastResponseXML)}catch(l){var o={xhr:e,code:a.HttpError.UNKNOWN,message:l.message,fromUrlHandler:!0};-1!==o.message.indexOf("cross-origin")&&(n.players.logVastResponse&&r.debugLogVast(n.players,n.playerData,"xhr response to url "+t+" gave cross origin error",!1),o.code=a.HttpError.CORS),s.logParseXmlError(n.players,o.message),i(o,null)}},function(t){var e={xhr:t.xhr,code:t.code,fromUrlHandler:!0,message:t.data&&t.data.message};i(e,null)}),this.players.logVastResponse&&r.debugLogVast(this.players,this.playerData,"xhr request send called url "+t+", credentials: "+e.withCredentials,!1)},t}();e.VastUrlHandler=o},function(t,e,i){"use strict";function r(t,e){var i=void 0===e?{}:e,r=i.dataFunc,n=void 0===r?null:r,d=i.setVolume,u=void 0!==d&&d,c=i.log,h=void 0===c||c;return function(e,i){return function(){for(var r=[],d=0;d<arguments.length;d++)r[d]=arguments[d];if(!e.vpaidJs)return void f.vpaidJSDisappearedError(e.players,e,i);try{h&&o.debugLogVast(e.players,e,"got js "+i+" event",!1),n&&(r=n.apply(e,r)),setTimeout(function(){t(e.players,e,r)},e.delay[i]||0),u&&e.syncVolume()}catch(t){l.vastError(e.players,e.vastId,l.VAST_ERROR.JS_EXCEPTION,"jsVpaid"+i+" hanlder JS exception: ",t,e),t&&t.terminateVpaid&&s.finishPlayerData(e.players,e,a.TerminateReason.VPAID_VOLUME_VIOLIATION)}}}}var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),s=i(8),o=i(0),l=i(2),d=i(21),u=i(22),c=i(52),h=i(12),p=i(28),f=i(4),A=i(18),v=i(14).EventEmitter2,g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getAdRemainingTime=function(){var t;try{t=this.vpaidJs.getAdRemainingTime(),t=t<0?null:t}catch(t){}return t},e.prototype.getAdDuration=function(){var t;try{t=this.vpaidJs.getAdDuration(),t=t<0?null:t}catch(t){}return t},e.prototype.verifyDuration=function(){if(!this.durationKnown){var t=this.getAdDuration();t&&(this.duration=t,this.durationKnown=!0)}},e.guessError=function(t){return void 0===t?t="no message":"string"!=typeof t&&(t=t.message?t.message:t.data&&t.data.message?t.data.message:"Couldnt extract error message"),{errorMsg:t}},e.clickData=function(t,e,i){return Array.isArray(t)?{url:t[0]||"",id:t[1],playerHandles:t[2]}:{url:t||"",id:e,playerHandles:i}},e.prototype.forceMuteJsVpaid=function(){if(!this.players.AllowedSound()){var t=null;try{this.vpaidJs.setAdVolume?this.vpaidJs.setAdVolume(0):t="JS VPAID - setAdVolume not defined",0!=this.vpaidJs.getAdVolume()&&(t="JS VPAID - setAdVolume/getAdVolume do not match:"+this.vpaidJs.getAdVolume())}catch(e){t="JS VPAID - setAdVolume exception:"+(e&&e.message?e.message:"")}if(t&&!this.players.info.mobile){f.vpaidVolumeError(this.players,this,t)}}},e.prototype.considerVolumeChange=function(){if(!this.players.AllowedSound()){var t=!0,e=null;try{if(0==this.vpaidJs.getAdVolume())return;this.adStartedAt?this.adStartedAt>(new Date).getTime()-1e3&&(t=!1,e="JS VPAID - AdVolume change too soon after adStarted"):e="JS VPAID - AdVolume change before adStarted",e&&(this.vpaidJs.setAdVolume(0),0==this.vpaidJs.getAdVolume()&&(t=!0,e="JS VPAID - AdVolume change reverted"))}catch(t){e="JS VPAID - AdVolumeChanged exception"+(t&&t.message?t.message:"")}f.vpaidVolumeChanged(this.players,this,t,e||"JS VPAID - AdVolume change allowed")}},e.prototype.subscribe=function(){var t=e.VpaidEvents;this.eventSubscriptions={};for(var i in t)t.hasOwnProperty(i)&&(this.eventSubscriptions[i]=t[i](this,i),this.vpaidJs.subscribe(this.eventSubscriptions[i],i))},e.prototype.unsubscribe=function(){for(var t in this.eventSubscriptions)this.eventSubscriptions.hasOwnProperty(t)&&(this.vpaidJs.unsubscribe(this.eventSubscriptions[t],t),delete this.eventSubscriptions[t])},e.prototype.insertCompanion=function(){this.vpaidJsIframeAdElem.appendChild(this.companionsElementDiv)},e.prototype.initMedia=function(){var e=this;return this.vpaidJs=null,this.jsVPAIDElementDiv=null,d.setThirdPartyTimeout(this.players,this),A.isBlocked(this.players.blacklist,this.mediaURL,"js")?void s.finishPlayerData(this.players,this,a.TerminateReason.IS_BLOCKED):(this.players.xhrInterceptEnabled&&this.xhrIntercept(),t.prototype.initMedia.call(this).then(function(){return p.initLoadAdStopper(e.players,e),c.loadJSVpaid(e.players,e).then(function(){e.subscribe(),d.LoadedFunc(e.players,e),o.debugLogVast(e.players,e,"initMedia: done",!0)}).catch(function(t){l.vastError(e.players,e.vastId,l.VAST_ERROR.VPAIDJS_LOAD,t.message,null,e),s.finishPlayerData(e.players,e,a.TerminateReason.VPAID_LOAD_FAILURE)})}))},e.prototype.xhrIntercept=function(){var t=this;this.xhrStats={},this.xhrEvent=new v({wildcard:!0}),this.xhrEvent.on("*",function(e,i,r){var n="error"==e.type||"timeout"==e.type||"blocked"==e.type||"iframeBlock"==e.type;t.xhrStats[e.type]=(t.xhrStats[e.type]||0)+1,"open"==e.type&&"async"in e&&!e.async&&(n=!0,t.xhrStats.sync=(t.xhrStats.sync||0)+1);for(var a=-1,s="",o=r;o;)a++,s=(o.tag||"")+"\n"+s,o=o.parent;if((t.xhrStats.maxDep||0)<a&&(t.xhrStats.maxDep=a),t.players.xhrTraceToConsole){var l=i?i.url+" "+(i.statusText||"")+" "+(i.status||""):e.src;console[n?"error":"warn"]("XHR",t.vastId,e.type,l,"\n"+a+" => "+s)}})},e.prototype.initAd=function(){var t={AdParameters:this.adParameters||""},e=this.vpaidJs.initAd(this.players.widthOverwrite||this.players.width,this.players.heightOverwrite||this.players.height,"normal",4800,t,this.initAdEnvObject);if(this.jsv&&this.vpaidJsIframeVideoCanvas&&0==this.vpaidJsIframeVideo.getElementsByTagName("canvas").length&&this.vpaidJsIframeVideo.appendChild(this.vpaidJsIframeVideoCanvas),!e&&void 0!==e)return"jsVpaid error"},e.prototype.startAd=function(){this.players.rootDivElem.style.top="0px",this.syncVolume();try{this.vpaidJs.startAd(),this.vpaidPlaying=!0,this.sureFastStart=this.expectedSureFastStart,p.initStartAdHalfStopper(this.players,this),p.initStartAdStopper(this.players,this)}catch(t){return"jsVpaid start error"}return null},e.prototype.pauseAd=function(){this.vpaidJs&&this.vpaidJs.pauseAd&&this.vpaidJs.pauseAd()},e.prototype.resumeAd=function(){this.vpaidJs&&this.vpaidJs.resumeAd&&this.vpaidJs.resumeAd()},e.prototype.stopAd=function(){this.vpaidJs&&this.vpaidJs.stopAd&&this.vpaidJs.stopAd()},e.prototype.showAd=function(){this.jsVPAIDElementDiv.style.zIndex="10000",this.jsVPAIDElementDiv.style.position="absolute",this.vpaidJsIframeAdElem&&(this.vpaidJsIframeAdElem.style.zIndex="10000"),this.vpaidJsIframeVideo&&(this.vpaidJsIframeVideo.style.margin="0",this.vpaidJsIframeVideo.style.padding="0",this.vpaidJsIframeVideo.style.top="0px",this.vpaidJsIframeVideo.style.left="0px",this.vpaidJsIframeVideo.style.position="absolute"),h.hideCallingFlashObject(this.players,this)},e.prototype.hideAd=function(){this.jsVPAIDElementDiv&&(this.jsVPAIDElementDiv.style.zIndex=(1-this.uniqId).toString()),this.vpaidJsIframeAdElem&&(this.vpaidJsIframeAdElem.style.zIndex=(1-this.uniqId).toString()),this.vpaidJsIframeVideo&&(this.vpaidJsIframeVideo.style.zIndex=(1-this.uniqId).toString())},e.prototype.clearAd=function(){this.jsVPAIDElementDiv&&(this.jsVPAIDElementDiv.style.display="none");try{this.vpaidJs&&(this.firedEvents.AdError||this.firedEvents.AdStopped||this.vpaidJs.stopAd(),this.vpaidJs.clearAd&&this.vpaidJs.clearAd(),this.unsubscribe())}catch(t){}try{if(this.jsVPAIDElementDiv){var t=this.jsVPAIDElementDiv;setTimeout(function(){t.parentNode.removeChild(t)},1e3)}}catch(t){}this.jsVpaidFrame=null,this.vpaidJsIframeAdElem=null,this.vpaidJsIframeVideo=null,this.vpaidJsIframeVideoCanvas=null,this.vpaidJs=null,this.jsVPAIDElementDiv=null,this.xhrStats&&o.debugLogVast(this.players,this,"XHR trace: "+JSON.stringify(this.xhrStats),!1)},e.prototype.resizeAd=function(t,e,i){this.vpaidJs&&this.vpaidJs.resizeAd&&this.vpaidJs.resizeAd(t,e,i)},e.prototype.setAdVolume=function(t,e){if(this.vpaidJs&&this.vpaidJs.setAdVolume){t=e?0:t;try{this.vpaidJs.getAdVolume&&this.vpaidJs.getAdVolume()===t||this.vpaidJs.setAdVolume(t)}catch(t){}}},e.prototype.getProgress=function(){this.verifyDuration();var t=this.duration;return{time:t-this.getAdRemainingTime(),duration:t}},e.VpaidEvents={AdLoaded:r(d.AdLoadedHandler),AdError:r(d.AdErrorHandler,{dataFunc:e.guessError}),AdStarted:r(d.AdStartedHandler,{dataFunc:function(){this.forceMuteJsVpaid(),this.adStartedAt=(new Date).getTime(),this.verifyDuration()}}),AdStopped:r(d.AdStoppedHandler),AdPlaying:r(d.AdPlayingHandler),AdPaused:r(d.AdPausedHandler),AdVideoStart:r(d.AdVideoStartHandler,{dataFunc:function(){this.verifyDuration()},setVolume:!0}),AdVideoFirstQuartile:r(d.AdFirstQuartileHandler),AdVideoMidpoint:r(d.AdMidpointHandler),AdVideoThirdQuartile:r(d.AdThirdQuartileHandler),AdVideoComplete:r(d.AdCompleteHandler),AdImpression:r(d.AdImpressionHandler,{setVolume:!0}),AdRemainingTimeChange:r(d.AdRemainingTimeChangeHandler,{dataFunc:function(){return{t:this.getAdRemainingTime()}},log:!1}),AdDurationChange:r(d.AdDurationChangeHandler,{dataFunc:function(){return{t:this.getAdDuration()}}}),AdVolumeChange:r(d.AdVolumeChangeHandler,{dataFunc:function(){return this.considerVolumeChange(),{volume:this.vpaidJs.getAdVolume()}}}),AdClickThru:r(d.AdClickthruHandler,{dataFunc:e.clickData})},e}(u.PlayerDataVast);e.PlayerDataVpaidJs=g},function(t,e,i){"use strict";function r(t){var e=document.createElement("iframe");return e.src="about:blank",e.width="100%",e.height="100%",e.id="vjs"+Math.floor(5e3*Math.random()),e.setAttribute("frameBorder","0"),e.setAttribute("scrolling","no"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.overflow="hidden",t&&(e.sandbox="allow-scripts allow-same-origin allow-popups"),e}function n(t){var e=t.createElement;t.createElement=function(i){var r=e.call(t,i);try{"video"===i.toLowerCase()&&(r.muted=!0,r.volume=0,r.playsInline=!0,Object.defineProperty(r,"muted",{get:function(){return!0},set:function(t){}}),Object.defineProperty(r,"volume",{get:function(){return 0},set:function(t){}}))}catch(t){}return r}}function a(t,e){return!!t.htmlOnly||void 0!==e.sandbox&&e.sandbox}function s(t,e){return f&&t.usejsv&&t.mainAutoplay}function o(t,e){return f&&(t.mainAutoplay&&t.muteToPlay||!t.AllowedSound())}function l(t,e){return new u.Promise(function(i,l){e.jsVPAIDElementDiv=h.createAdContainer(e.vastId),t.divElem.appendChild(e.jsVPAIDElementDiv);var u=a(t,e),f=r(u);e.jsVpaidFrame=f;var A=!1,v=!1;e.jsVPAIDElementDiv.appendChild(f);var g=f.contentWindow&&f.contentWindow.document;if(!g)throw new Error("loadJSVpaid frame document not defined");var m=function(){try{d(t,e),i()}catch(t){l(t)}};if(g.write('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n</head>\n<body></body>\n</html>\n'),g.body.style.margin="0",g.body.style.padding="0","https:"==t.protocol){var y=g.createElement("meta");y.httpEquiv="Content-Security-Policy",y.content="upgrade-insecure-requests;",g.getElementsByTagName("head")[0].appendChild(y)}if(s(t,e)){var b=g.createElement("script");b.setAttribute("type","text/javascript"),b.src=t.conf.pJsvUrl,b.addEventListener("load",function(){e.jsv=A=!0,A&&v&&m()},!1),g.body.appendChild(b)}else o(t,e)&&n(g),A=!0;e.xhrEvent&&p.patchIframeXHR(f.contentWindow,e.xhrEvent,t.blacklist,t.observableOnly,e.mediaURL);var E=g.createElement("script");E.setAttribute("type","text/javascript"),E.src=c.upgradeProtocol(t.protocol,e.mediaURL),E.addEventListener("load",function(){v=!0,A&&v&&m()},!1);var T=g.createElement("div");T.id="vpaid-js-ad-elem",T.style.margin="0",T.style.padding="0",T.style.width="100%",T.style.height="100%",T.style.position="absolute",T.style.left="0",T.style.top="0",e.vpaidJsIframeAdElem=T,(e.iframeSlot||u?g.body:e.jsVPAIDElementDiv).appendChild(T),g.body.appendChild(E),e.initCompanion(g)})}function d(t,e){if("function"==typeof t.jsVpaidLoaded)return t.jsVpaidLoaded(e);var i=e.jsVpaidFrame;if(!i||!i.contentWindow||!i.contentWindow.getVPAIDAd)throw new Error("couldn't find js vpaid module");var r,n=i.contentWindow&&i.contentWindow.document;if(r=e.jsv?new i.contentWindow.video_jsv:n.createElement("video"),e.vpaidJsIframeVideo=r,r.setAttribute("preload","auto"),r.style.margin="0",r.style.padding="0",r.style.top="0px",r.style.left="0px",r.style.position="absolute",r.style.width="100%",r.style.height="100%",r.playsInline=!0,t.muted&&(r.volume=0,r.muted=!t.dynamicSound),e.jsv){var a="";r.canPlayType=function(){return a&&a.length>8&&!c.isStreamingUrl(a)?"probably":""},r.proxyUrl=function(e){return a=c.getVprUrl(e,t)}}if(e.vpaidJsIframeAdElem.appendChild(r),e.jsv&&(e.vpaidJsIframeVideoCanvas=e.vpaidJsIframeVideo.getElementsByTagName("canvas")[0]),e.initAdEnvObject={},e.initAdEnvObject.slot=e.vpaidJsIframeAdElem,e.initAdEnvObject.videoSlot=e.vpaidJsIframeVideo,e.initAdEnvObject.videoSlotCanAutoPlay=!0,t.mainAutoplay||(e.initAdEnvObject.videoSlotCanAutoPlay=!1),e.vpaidJs=i.contentWindow.getVPAIDAd(),!e.vpaidJs)throw new Error("failed to create js vpaid module");e.vpaidJs.handshakeVersion&&e.vpaidJs.handshakeVersion("2.0")}Object.defineProperty(e,"__esModule",{value:!0});var u=i(10),c=i(3),h=i(9),p=i(18);e.createVpaidJsIframe=r;var f=!1;e.loadJSVpaid=l,e.jsVpaidLoaded=d},function(t,e,i){"use strict";function r(t,e){try{var i;t.mainAutoplay?e.videoElement=i=m.createVideoElement(t):e.videoElement=i=e.adVideo,R.assignClass(i,R.cssClass("video_element")),i.style.zIndex=(9994-e.uniqId).toString(),e.firstPlayEventTriggered=!1;var r=s;if(e.delay.AdLoaded){var h=s;r=function(t,e){return setTimeout(function(){return h(t,e)},e.delay.AdLoaded)}}var p=a;if(m.jsvCanvas(i)){var f=a;p=function(t,e){return setTimeout(function(){return f(t,e)},0)}}i.addEventListener("play",function(){return p(t,e)}),i.addEventListener("canplay",function(){return r(t,e)}),i.addEventListener("pause",function(){return n(t,e)}),i.addEventListener("ended",function(){return o(t,e)}),i.addEventListener("error",function(i){return l(t,e,i)}),i.addEventListener("click",function(){return d(t,e)}),i.addEventListener("timeupdate",function(){return u(t,e)}),i.addEventListener("volumechange",function(){return c(t,e)})}catch(i){y.vastError(t,e.vastId,y.VAST_ERROR.JS_EXCEPTION,"video prepare gave JS exception: ",i,e)}return i}function n(t,e){e.videoElement.duration>0&&e.videoElement.duration>e.videoElement.currentTime&&(g.debugLogVast(t,e,"got video paused callback",!0),_.pausePlayingPlayer(t,e))}function a(t,e){try{if(_.resumePlayingPlayer(t,e),t.beingVpaid){var i;i=e.duration?e.duration:e.videoElement.duration,E.callingVpaidEvent(t,"jsAdDurationChange",{duration:i.toFixed(2)})}if(g.debugLogVast(t,e,"onplay",!1),e.firstPlayEventTriggered)return void g.debugLogVast(t,e,"already handled play event",!1);if(e.firstPlayEventTriggered=!0,e.state!=p.PlayerDataState.Started)return void g.debugLogVast(t,e,"invalid state, was probably stopped - "+e.state,!1);if(T.adStarted(t,e),T.adImpression(t,e))return;t.beingVpaid&&E.callingVpaidEvent(t,"jsAdVideoStart",{}),e.errorCount=0,g.debugLogVast(t,e,"onplay done",!1)}catch(i){y.vastError(t,e.vastId,y.VAST_ERROR.JS_EXCEPTION,"video onplay gave JS exception: ",i,e)}}function s(t,e){L.logVastLoaded(t,e);try{if(g.debugLogVast(t,e,"video oncanplay",!1),"video"!=e.adType)return void g.debugLogVast(t,e,"adType not video: "+e.adType,!1);if(e.state>p.PlayerDataState.Ready)return void g.debugLogVast(t,e,"video oncanplay but state is "+e.state,!1);e.durationKnown=!0;try{e.duration=e.videoElement.duration,e.vastTracker&&(e.vastTracker.duration=e.duration,e.vastTracker.setDuration(e.duration))}catch(t){e.durationKnown=!1}var i=e.videoElement,r=t.width,n=t.height;i.style.width="100%",i.style.height="100%",r||(r=t.width,n=t.height),r>t.width&&(n=n*t.width/r,r=t.width),n>t.height&&(r=r*t.height/n,n=t.height),r=Math.floor(r),n=Math.floor(n);var a=(t.height-n)/2;if(a=Math.floor(a),g.debugLogVast(t,e,"video width: "+r+", height: "+n+", top: "+a,!1),i.style.cssText="background-color: black; width:100%; height:100%; position: relative; top: "+a+"px",e.state=p.PlayerDataState.Ready,t.beingVpaid)try{E.callingVpaidEvent(t,"jsAdReadyToStart",{})}catch(i){y.vastError(t,e.vastId,y.VAST_ERROR.JS_EXCEPTION,"video oncanplay gave JS exception: ",i,e)}try{e.syncVolume()}catch(t){}b.playNext(t)}catch(i){y.vastError(t,e.vastId,y.VAST_ERROR.JS_EXCEPTION,"video oncanplay gave JS exception: ",i,e)}}function o(t,e){try{if(g.debugLogVast(t,e,"video onended",!1),e.completed)return void g.debugLogVast(t,e,"dup video ended event",!1);e.completed=!0,e.onComplete(),f.finishPlayerData(t,e,p.TerminateReason.AD_COMPLETE)}catch(i){y.vastError(t,e.vastId,y.VAST_ERROR.JS_EXCEPTION,"video onended gave JS exception: ",i,e)}}function l(t,e,i){try{if(e.state==p.PlayerDataState.Error||"video"!=e.adType)return;g.debugLogVast(t,e,"video onerror",!1);var r=!1;e.state==p.PlayerDataState.Initing&&(r=!0),E.restoreCallingFlashObjectStyle(t,e);var n=-1;i.target.error.code&&i.target.error.code&&(n=i.target.error.code),_.notifyApi(t,e,"aderror"),y.vastError(t,e.vastId,y.VAST_ERROR.VIDEO_ERROR,"video player error code: "+n,null,e,r),f.finishPlayerData(t,e,p.TerminateReason.VIDEO_ERROR)}catch(i){y.vastError(t,e.vastId,y.VAST_ERROR.JS_EXCEPTION,"video onerror gave JS exception: ",i,e)}}function d(t,e){try{g.debugLogVast(t,e,"video onclick",!1),_.adClick(t,e,null)}catch(i){y.vastError(t,e.vastId,y.VAST_ERROR.JS_EXCEPTION,"video onclick gave JS exception: ",i,e)}}function u(t,e){if(!(e.state<p.PlayerDataState.Initing||e.state==p.PlayerDataState.Error||"video"!=e.adType))try{var i=e.videoElement;e.vastTracker&&e.vastTracker.setProgress(i.currentTime),t.beingVpaid&&E.callingVpaidEvent(t,"jsAdRemainingTimeChange",{remainingTime:(i.duration-i.currentTime).toFixed()});var r=Math.floor(i.currentTime/i.duration*4);r>0&&r<4&&e.quartile!=r&&e.onQuartile(r)}catch(i){y.vastError(t,e.vastId,y.VAST_ERROR.JS_EXCEPTION,"video ontimeupdate gave JS exception: ",i,e)}}function c(t,e){g.debugLogVast(t,e,"got video volumeChange callback",!0),t.beingVpaid&&E.callingVpaidEvent(t,"jsAdVolumeChange",{}),_.setPlayerVolume(t,e.videoElement.volume,e.videoElement.muted)}var h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(8),A=i(22),v=i(4),g=i(0),m=i(26),y=i(2),b=i(13),E=i(12),T=i(33),_=i(5),R=i(19),L=i(11),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstPlayEventTriggered=!1,e.completed=!1,e}return h(e,t),e.prototype.initMedia=function(){var e=this;return t.prototype.initMedia.call(this).then(function(){e.initCompanion(),e.videoElement||r(e.players,e),m.setVideoSrc(e.players,e.videoElement,e.mediaURL),m.jsvCanvas(e.videoElement)||(e.videoElement.preload="auto",e.videoElement.autoplay=!1,e.videoElement.controls=e.players.controlBar&&!e.players.controlBarType,e.videoElement.loop=!1,e.videoElement.load()),g.debugLogVast(e.players,e,"initMedia: done",!0)})},e.prototype.strictImpression=function(){return!1},e.prototype.isUnlocked=function(){return!0},e.prototype.initAd=function(){},e.prototype.startAd=function(){this.showAd(),this.sureFastStart=!0,this.players.mainAutoplay&&this.players.divElem.appendChild(this.videoElement),this.syncVolume(),this.adStartedAt=(new Date).getTime(),v.validateVideoStart(this.players,this.videoElement,this.videoElement.play(),"vast")},e.prototype.pauseAd=function(){this.videoElement.pause()},e.prototype.resumeAd=function(){this.videoElement.play()},e.prototype.stopAd=function(){this.videoElement.pause()},e.prototype.showAd=function(){this.players.mainAutoplay?(this.videoElement.style.display="block",this.videoElement.style.zIndex="10000",this.videoElement.style.position="absolute"):(this.adContainer.style.zIndex="10000",this.adContainer.style.position="absolute"),E.hideCallingFlashObject(this.players,this)},e.prototype.hideAd=function(){this.players.mainAutoplay?this.videoElement&&(this.videoElement.style.display="none"):(this.pauseAd(),this.adContainer.style.zIndex=(1-this.uniqId).toString())},e.prototype.clearAd=function(){this.adStartedAt=null,this.players.mainAutoplay?this.videoElement&&this.videoElement.parentNode&&this.videoElement.parentNode.removeChild(this.videoElement):this.hideAd()},e.prototype.resizeAd=function(t,e,i){},e.prototype.setAdVolume=function(t,e){this.players.mainAutoplay&&this.players.muteToPlay&&!this.adStartedAt&&(e=!0),this.videoElement&&(this.videoElement.muted!==e&&(this.videoElement.muted=e),this.videoElement.volume!==t&&(this.videoElement.volume=t))},e.prototype.getProgress=function(){var t=this.videoElement.duration;return{time:Math.min(this.videoElement.currentTime,t),duration:t}},e}(A.PlayerDataVast);e.PlayerDataVideo=S,e.prepareVideoElem=r},function(t,e,i){var r=i(55);t.exports="string"==typeof r?r:r.toString()},function(t,e,i){e=t.exports=i(40)(void 0),e.push([t.i,"#__cedato_root_container{background-color:#000;border:0 none;display:block;height:100%;margin:0;overflow:hidden;padding:0;position:relative;top:0;width:100%}.__cedato_hidden{position:absolute;top:-10000px;left:-10000px}#__cedato_root_container .__cedato_content_container{width:100%;height:100%;top:0;left:0;position:absolute;background:#000;z-index:10001}#__cedato_root_container .__cedato_content_container .__cedato_content_video{height:100%!important;display:block;width:100%;position:relative;z-index:0}#__cedato_root_container .__cedato_content_container .__cedato_content_video.__cedato_active{z-index:2}#__cedato_root_container .__cedato_flash_container{position:absolute;top:-1000px;z-index:1}#__cedato_root_container .__cedato_video_element{height:100%!important;width:100%;position:relative;top:0;left:0;background-color:#000}#__cedato_root_container .__cedato_jsvpaid_element{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;padding:0;margin:0}.__cedato_skip_button{background-color:rgba(0,0,0,.1);color:#ccc;border:1px solid #ccc;cursor:pointer;font-family:arial,sans-serif-light,sans-serif;font-size:12px;text-align:center;position:absolute;right:5px;bottom:5px;z-index:10012;padding:4px 10px}.__cedato_skip_button:hover{color:#fff;border:1px solid #fff}.__cedato_close_button{position:absolute;z-index:10012;top:5px;right:5px;width:20px;height:20px;margin:0;padding:0;cursor:pointer;background:url("+i(56)+");background-repeat:no-repeat;background-position:50%;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.__cedato_spinner{z-index:1;background-image:url("+i(57)+")}.__cedato_play_button,.__cedato_spinner{width:100%;height:100%;position:absolute;top:0;left:0;background-repeat:no-repeat;background-position:50%}.__cedato_play_button{z-index:10003;cursor:pointer;background-image:url("+i(58)+");background-size:auto 30%}.__cedato_content_poster{width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;background-color:#000;background-repeat:no-repeat;background-position:50%}#__cedato_root_container.__cedato_desktop .__cedato_control_bar{opacity:0;-webkit-transition:all .5s ease-out;-moz-transition:all .5s ease-out;-o-transition:all .5s ease-out;transition:all .5s ease-out}#__cedato_root_container.__cedato_desktop:hover .__cedato_control_bar{opacity:1}.__cedato_control_bar{width:100%;height:36px;padding:6px 10px 0;position:absolute;bottom:0;left:0;z-index:10010;box-sizing:border-box;display:-ms-flexbox;display:-webkit-box;display:flex;align-items:center}.__cedato_playback_button{width:40px;height:30px;background:url("+i(59)+");background-repeat:no-repeat;display:inline-block;cursor:pointer}.__cedato_playback_button.__cedato_playback_play_button{background-position:center 0}.__cedato_playback_button.__cedato_playback_pause_button{background-position:bottom}.__cedato_volume_button{width:40px;background-image:url("+i(60)+")}.__cedato_bitrate_button,.__cedato_volume_button{height:30px;background-repeat:no-repeat;display:inline-block;cursor:pointer}.__cedato_bitrate_button{width:30px;background-image:url("+i(61)+");background-position:50%;margin-left:auto}.__cedato_bitrate_list{right:10px;bottom:40px;position:absolute;background:rgba(28,28,28,.9)}.__cedato_bitrate_list.__cedato_hidden{right:auto;bottom:auto}.__cedato_bitrate_item{color:#fff;font-size:12px;height:30px;line-height:30px;padding:0 15px;cursor:pointer}.__cedato_bitrate_item.__cedato_selected,.__cedato_bitrate_item:hover{background:hsla(0,0%,100%,.4)}.__cedato_volume_button.__cedato_volume_mute_button{background-position:center 0}.__cedato_volume_button.__cedato_volume_unmute_button{background-position:bottom}.__cedato_progress{width:100%;height:100%;transform:scaleX(0);transform-origin:0 0}.__cedato_volume_bar{display:-ms-flexbox;display:-webkit-box;display:flex;cursor:pointer;width:80px;height:4px;background:hsla(0,0%,100%,.2);-webkit-box-align:center;-ms-flex-align:center;align-items:center}.__cedato_volume_bar:hover{height:6px}.__cedato_volume_bar .__cedato_progress{background:#fff}.__cedato_seek_bar{height:4px;top:0;left:10px;right:10px;position:absolute;background:hsla(0,0%,100%,.2)}.__cedato_seek_bar.__cedato_hidden{position:absolute;top:-10000px;left:-10000px}.__cedato_seek_bar .__cedato_progress{background:#337ab7}.__cedato_seek_bar.__cedato_interactive:hover{height:8px;top:-2px;cursor:pointer}.__cedato_time_tracker{display:-ms-flexbox;display:-webkit-box;display:flex;padding-left:5px;align-items:center}.__cedato_time_tracker span{color:#fff;font-size:12px;line-height:12px;padding-left:5px}.__cedato_controls_skip_button{width:30px;height:30px;margin-left:auto;margin-right:10px;background-image:url("+i(62)+");background-repeat:no-repeat;background-position:50%;cursor:pointer;font-size:0}.__cedato_controls_skip_button+.__cedato_bitrate_button{margin-left:0}#__cedato_root_container,.__cedato_content_container,.__cedato_control_bar,.__cedato_time_tracker span{-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}",""])},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAA81BMVEUAAADj4+Pw8PDy8vL19fX19fXg4ODc3Nzv7+/v7+/f39/i4uLg4ODm5ubk5OTn5+fw8PDx8fH4+Pjf39/4+Pjx8fHj4+Pi4uLd3d3x8fHw8PDu7u7m5ubo6Oji4uLo6Ojm5ub09PTs7Ozs7Ozv7+/s7Oz09PTu7u7y8vL09PTz8/P09PT09PT29vbe3t7c3Nzl5eXk5OTf39/w8PDm5ubr6+vh4eHt7e3h4eHr6+vo6Ojy8vLo6Ojq6ur29vbu7u7q6urw8PDv7+/5+fns7Ozv7+/e3t7k5OTo6Oj9/f3m5ubx8fHq6urg4ODp6enh4eHu7u4RCU8/AAAARHRSTlMA/jwuHPjkvklC+PbsvbCiSjYR/fvy8Ozq3tvUyba2qJpybmFRUTo4MyomJCAV7+7k4trW1dHGw768fHt4aGdbWD4+CTgmc6AAAAEDSURBVBjTfZFXcsJAEERnhQIKSEaYnE024Jxz2KAIvv9pPEISxRf9s12vqmeneuCIfgb31Wp7oB8g2RY8pnTLRe88Z4WLICi9jMdv3SAwpJStjbBWTK2uMi7vXMkz5TzkWrSTvGVKdfjQpjhGG0KBRknKIY8AjZis1mZ8iTnRR9jyznAYYbV6KE4ARpsWQoWhhdWV79cXaGbsdA/da9+35OSLHWwm8bnJKkZIvgE+oybCPnkGULkoLAlvAHSJjVD6o2UYarjIVHuFJY0mgOpsLBcy/ar0Lq1jy9RZ1sIN41klUsUTvXdJGtnC48U8tHginFAqOHmYHzQ6cdqKcut8HbnDPzn7H8odQnj7AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/gif;base64,R0lGODlhIAAgAPMAAAAAAP///zg4OHp6ekhISGRkZMjIyKioqCYmJhoaGkJCQuDg4Pr6+gAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHRLYKhKP1oZmADdEAAAh+QQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY/CZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB+A4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6+Ho7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq+B6QDtuetcaBPnW6+O7wDHpIiK9SaVK5GgV543tzjgGcghAgAh+QQJCgAAACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK++G+w48edZPK+M6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE+G+cD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm+FNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk+aV+oJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0/VNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc+XiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30/iI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE/jiuL04RGEBgwWhShRgQExHBAAh+QQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR+ipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY+Yip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd+MFCN6HAAIKgNggY0KtEBAAh+QQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1+vsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d+jYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg+ygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0+bm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h+Kr0SJ8MFihpNbx+4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX+BP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAADTCAMAAAARS7eNAAAAe1BMVEUAAACysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrIjfjSEAAAAKHRSTlMAkPkE6fAJgFE5GQ8U4R/CLDHcQdmzpJ2Jb/XIdqxauWB7SSaXZ8/UVzQYqwAACTxJREFUeNrU2lnSmzAQBOAGiR2BAf8sNnjHnvufMMlDqmIhY5tV+S4AUzXd0oMwm2DjVmXxE2+5ZdEflsW38U9RVu4mwP8k8NrbnlMfvr+13v8w1bUtUvpUWrRX6MtvG07f4k3rQ0Oec6eh7o4HrSSloHFEmUAT/nlLU9iedVi8rDFpKmaTYVV2ldK00srGWkKH0/S4E2INvmHSPEzDx9LCckfz2ZUBlmSfLZqXdbaxmIOgz/DHMTecujr91la1c2uOD4s+Iw5Yxiamt8x7XrtJAJUgcev8YdJb8Qbzs9/WgMjbhOEdO6ly8bYYbMwsE9THyk8RPhedGov6iAxzCgrqIYyM4VssMwT1KALMxhM90Tc8DMS8G6eXhId5MOd1cn5chjGYe3ydojPDDPz4ZWjKCONF5csoxT4ml3FSE5PdIINKkBrPMLHKJKX0xDAddkpJyawwJTsnJdGZZvxEgpRyG5MJ9+rc1DamZ9fqHO1DTOSaksotxDzCG6mkV0zC46SwTzCfRLkQ3MMELjvq2lUMc2KV8qsXjOaa1BVHmFsUU5fpzjGOWWEJlTn9QAfqeiRYxuZBXQeM4KoPgqXYBXW5GCwzSWa2WFKr+IMMA3m7MZU522Gx8zDIxiLZPcLS/DvJrA0G8AXJfmwsLziSTPgDsrgnWcGwBlaQbG/jWw3JSqylJFmDLzkkO2M9Z5I5+MqFZDXWVJPsgi9Ell7jKAayojFd4GBtzohOMEhiYH3Df+rSbRMd5AMjFHJ6FjPogMX0jIeDTp40hB7C7ZC9OchFos8Tm6tcu4cB23aBPi7fb1yhXVP3tXaBNzJ6dtSjC/5iR3qWoZctRY7r8KTmX74Uh62NPrXG4VFHqEaP0NLvXiD7xb3Z9iYIQ1G4tigKyJvgDCjoZEn//y9csuzL4fJioCczO9+2mLmH3tOeW9rOgrbR65/Nd+r91LdEp0aVagt6s1ODvzpYkE7VmMo++QJliitZReXov2JBXrgoBpehIiv0LCh7bXiahbG+SBVZjRyg+bpMFrcp1V6Rlbzi81aM4uK2y2emCumMdnByE8loOY+lmkimzHT2IzpexcM2UaznHn6k1yUD5KGb6IJPP5pJ4lW0ftviwjRRVE13NcZzMDzIY1umiTa4VprJN3E6cPI9OdFEAfpjP7mWdo6eW9UomrqpNTWwoOdqHr6JnhaEFfUQsI54bBspksqJ1x8FdqUOePgmwk61GM8GR+OAh28ik49mBF9M5it5UBuOidAk/mi5xU54+CYKxgouFWnVMY89UtrWFgtupNwaAg/HRI0sONke6ZDAwzFRqEUDKn9dKg6PTdybqBQDIbPbncDDMlEjMpzs5CIaj9V3xzzRYFcH61KtCDw0E9WQRIamcZ/Aw7uK4GMmHbDPgcDDu/5yQAPJVnxrCDw8E5lKnphKMBwweFCdIUWE5AdRg30IPEwTXWHojejzPhk8xGOoJ+yrxXQQEniYJgrFhOBj6CbwUE1U9N1ygxMkTB5UHbg/pXQTgAQeroke/fLSUIBEHspZe7S/7qedJ5sH9bFzvA0X9BLDjsDDNZHBtIYthKcIPGQTHWGvAP1UE3jIJsK49sDvPxN42CY6Q3+FP17+gsfWsbM3dWfcUriSeQjXszGRltixftF53F/PvuMEkONyyudxfT17j1sI3tDpRT6Pu6tfJ1xw4ARfRuBhmyiD7YL34VlqohR5ML4ReNgmiuFPIE9M5pk30f/i+ebmjFIbhoEgWlWWHZqmFMctpcQQY0p8/xP2e9DGJJYeEt4DCAa8ibQ785Zw3peeZbnsTM/TTTSrniAruwr0LLePffxeixF3q55q7gcysd9+P6jl/ibD4IT7m96vr+X1PL3x+pP7dRXvH5kDp71/anifysY48X1awfxANvrJ84NJDiyqx/nklfCk87dTQT2vGx0xjc7fdD7qYT35zRatzkdLzq/VUZZnfo3tF/jWsfcLuv+ZYD3ZzWTxenGUH+wSevqUa7CuF6n9Kd869v600H5bHed599uz5qEBPVTrxCbsOfKHXFg92c3mnfpDivh3NFGT27+jF9Rfj+rJHdbwQc7D/W92aSIto/8N9CfyrWP7E3n/qF1fR8Q/yvt77eo85+89qN2f1JM5zHnV9uH98XYNn6A/ns8vxK2D5hf4fIlWh+ZL+PyPVjjA+Z84n/UG6hnmjKF0Pfnu39LE6RmPmNm/u5tv7H0mPSwj05/0c4Pzp3EFORfIn9L5YK2btA6RD+bz23HrYPltKl/Pt46dr+f5B3brQPwDjk/Bt04MEGk8zg+xW4fnh9h8l58kPTz710V8F5S/s946PH8n5iN9J+ux3R4MH4nkV0mN4sah+FUkX4xtHZsvhvLf1t1sBP8N5fOtuA0pPh/JT3QrRjaIn4jyLd0Gty7Dt4yVD+1mPc35Baq2f/wreg/JX5yT1gHKRXxYlN/ruNax+b0wX9lxrWPzlWH+tcNax+Zf03xy99/eneU4CkNRGL7ggcExgyEMASqgQHL3v8LufmyVIamKTShS3wJAlhC8oPM3EWjZ2Se3vh+fcdCxtR//dvv+n/sL+Wb6Cwr/171lH+Nzv6SADSCdpl/yln2Z3fV/9tZn2l0/a3d9s93153bXB9T1G88C1sePmn6jqb5mCGuLdH3N3/7pHvu0AL6JuQ/D2XzfeN85gXWkc33n3/72bvvou+vXAwQUNZoU7EmvNlcKLwp1xgPYcRhRR12M3aBBHdZyMI+3DHWag9EPgZbsCZhFeolaBTf98tRSPTF6GmV+QEkvo6gnawFm8FrOb/MYF8Y4g1URPC+qmK09WT0yuDjn7JPnru0fcY47ELAjkDiLjgH59nUdantgWk+UuEA62dePRDJH4oJSgE2ZwiWs6yN4XNQXDJeoDCzjjovLZFGnHO4h6VRIXOY6HOxLYrzLvRWtnwrQEanfFlcX74oTWMeHxMew27kbvbae+r/q1nOK843iY+QHrIYPDO1iA4c1ieqE9pwqAWsLHVsnOjkhvMLBo2ge9Q7wKrxWaJaqObxU1rloittl8HrhkKMJ+bCZGHtaSXyOrFLYlMC74nddvU2WvsO+o/hVtOs385hpXKZS4aNUOW3n56B5IpjGhuIS2oxTIOAnEYlfV+Uxzilj+A9jNI+PZVX7iQBb/gC7fRypMqAIpQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAA8CAMAAABGivqtAAAAS1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////+DmQsHAAAAGHRSTlMAYjvMIRXSxFw9He3k3KNzX15PRC4CpFVAlFLQAAAAcklEQVQ4y+3QORKAIBBE0QZnEPdd5/4nlczEai1T+QnBgwIGOd6hG+OiccrYLMSacCpMQjhVOmGcNgxeCZvt/stpfjd/Of934FOTekMu9ypdxiiAxHHRG67MzAEuLdUN+4v9n/hhLGvfdjMwd22/Isc7AY22DRWMXN/sAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAA8CAMAAABGivqtAAAAb1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8v0wLRAAAAJHRSTlMAePmIAjQlIghuXwTl4NadVEw9Lq2namfv3Mq1knxELBgRCrcsC/AdAAAAsUlEQVQ4y+2TWw6DIBBFRxkUpFZbX33Yqi37X2PV8NGEXOICOB/8nMDcIbkUOUBGZAK2XQ/FwF5ON2IjK+Wr/CqT1Fri8Z0IX5/tDg3Ns+lyT5dOF6J+JdrTd6fpW1fDePC2P3vaZsPkql2To70tMetOoV97kGFDkJmIKRI5RBa2LVSuoTu4oVLzkkjYksKKKi1gx5Swaf8BDYW6/H+8hrOb3ix6QsnDezuNGxpkpsjGD/8KEYRLLQGvAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAMAAAAolt3jAAAAZlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+Vn2moAAAAIXRSTlMAYOOnUvfcZFDz6dbPvZqRioIg7uzAtayrn3FwWUA+LCp8CJGWAAAAcUlEQVQI102LRw7DMAwEl8WS7Lin9/D/nwwjAZHnMjsAiczILKj0ZgGFeNalNWvmJDdgZfuzf2PKo+uyBLpzDUSDKxDwasxc5KkAnp6xZAIev+NTpKMrKK62YcLnUItX4C5p9vd20UtEIZj1qAjzmMcXAF4MUhIxStoAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFCM0M4Njg1NEY1ODExRTc5Q0EyQjI3ODhFQ0QzRThBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFCM0M4Njg2NEY1ODExRTc5Q0EyQjI3ODhFQ0QzRThBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUIzQzg2ODM0RjU4MTFFNzlDQTJCMjc4OEVDRDNFOEEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUIzQzg2ODQ0RjU4MTFFNzlDQTJCMjc4OEVDRDNFOEEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6ursEkAAAAi0lEQVR42mL4//9/ExArAjEDEjYA4jogFkQTh2MQ8QWILwGxA5KEzX8I2A7E2rg0voAqeg7EeVAJzf8IcAuIw7BpfPYfFUyFKvyKJPYLiHuBWBSfRhB4CVWMDvYCsSlIIyNIIwMDgyQD8eA1EFcwMZALyHUqRYEDi44XeKIjnKoJAFeSq8eX5AACDADzfuohgZ+1BgAAAABJRU5ErkJggg=="},function(t,e,i){"use strict";function r(t){return"boolean"==typeof t}function n(t){return t&&"number"==typeof t.nodeType}function a(t){return"string"==typeof t}function s(t){return"number"==typeof t}function o(t){return t&&("object"==typeof t||l(t))}function l(t){return"function"==typeof t}function d(t){return o(t)&&"number"==typeof t.length&&"number"!=typeof t.nodeType}function u(t){return function(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return(n(e)||a(e))&&(i.unshift(e),e={}),A(t,e,i)}}function c(t){return t.preventDefault(),t}function h(t){return t.stopPropagation(),t}function p(t){return!r(t)&&null!=t}function f(t){return Array.isArray(t)?t.map(f).filter(Boolean).join(" "):o(t)?E(t).filter(function(e){return t[e]}).join(" "):p(t)?""+t:""}function A(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];e=e||{};var n;return a(t)?(n=e.namespaceURI?document.createElementNS(e.namespaceURI,t):document.createElement(t),m(e,n),g(i,n)):l(t)&&(n=t(b({},e,{children:i}))),l(e.ref)&&e.ref(n),n}function v(t,e){d(t)?g(t,e):a(t)||s(t)?e.appendChild(document.createTextNode(t)):null===t?e.appendChild(document.createComment("")):n(t)&&e.appendChild(t)}function g(t,e){if(n(t)||a(t))v(t,e);else for(var i=0,r=t;i<r.length;i++){var s=r[i];v(s,e)}return e}function m(t,e){for(var i=0,r=E(t);i<r.length;i++){var n=r[i],a=t[n];switch(n){case"style":if(o(a)){b(e[n],a);continue}break;case"dataset":b(e[n],a);continue;case"innerHTML":case"innerText":case"textContent":e[n]=a;continue;case"spellCheck":e.spellcheck=a;case"class":case"className":e.setAttribute("class",f(a));continue;case"ref":case"namespaceURI":continue}if(l(a)){if("on"===n.substr(0,2)){var s=n.slice(2).toLowerCase();y(e,s,a)}}else e&&(!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&e.setAttribute(n,a))}return e}function y(t,e,i){return t.addEventListener(e,i),t}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"SVGNamespace",function(){return _}),i.d(e,"preventDefault",function(){return c}),i.d(e,"stopPropagation",function(){return h}),i.d(e,"createElement",function(){return A}),i.d(e,"DOM",function(){return T});var b=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},E=Object.keys,T=function(t){for(var e=0,i=E(t);e<i.length;e++){var r=i[e];t[r]=u(r)}return t}({a:0,blockquote:0,button:0,div:0,em:0,form:0,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,hr:0,img:0,input:0,li:0,link:0,ol:0,p:0,script:0,span:0,strong:0,table:0,thead:0,td:0,th:0,tr:0,ul:0}),_="http://www.w3.org/2000/svg"},function(t,e,i){"use strict";function r(t,e){if(null!=t.moat.rate&&Math.random()>t.moat.rate||!t.moat.ids||!t.moat.partnerCode)return null;var i={},r=a.macros(t,e);for(var n in t.moat.ids)t.moat.ids.hasOwnProperty(n)&&(i[n]=r(t.moat.ids[n]));return s.debugLogVast(t,e,"init moat, ids: "+JSON.stringify(i)+", partner code: "+t.moat.partnerCode+", rate: "+t.moat.rate,!1,null),o(t.divElem,i,e.duration,t.moat.partnerCode,t.contentUrlPlayer.getUrl())}function n(t,e,i){var n=l[i];if(!n)return!1;if("ad.start"==i&&(e.moatAPI=r(t,e)),e.moatAPI){s.debugLogVast(t,e,"dispatch moat event: "+n,!1,null);var a={type:n,adVolume:t.volume};e.moatAPI.dispatchEvent(a)}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(27),s=i(0),o=i(65).initMoatTracking,l=(d={},d["ad.start"]="AdVideoStart",d["ad.firstQuartile"]="AdVideoFirstQuartile",d["ad.midpoint"]="AdVideoMidpoint",d["ad.thirdQuartile"]="AdVideoThirdQuartile",d["ad.complete"]="AdVideoComplete",d);e.initMoat=r,e.dispatchMoatEvent=n;var d},function(t,e){e.initMoatTracking=function(t,e,i,r,n){var a=document.createElement("script"),s=[];e={adData:{ids:e,duration:i,url:n},dispatchEvent:function(t){this.sendEvent?(s&&(s.push(t),t=s,s=!1),this.sendEvent(t)):s.push(t)}},i="_moatApi"+Math.floor(1e8*Math.random());var o,l;try{o=t.ownerDocument,l=o.defaultView||o.parentWindow}catch(t){o=document,l=window}return l[i]=e,a.type="text/javascript",t&&t.insertBefore(a,t.childNodes[0]||null),a.src="https://z.moatads.com/"+r+"/moatvideo.js#"+i,e}},function(t,e,i){"use strict";function r(t){var e=t.pluginElement,i=t.api,r=t.playerDiv,a=t.log;if(e){var s=null,o=6e4;e.dataset&&e.dataset.timeout&&(o=1e3*e.dataset.timeout),a("Passback: set timeout on"+o+"seconds"),e.textContent&&(s=setTimeout(function(){a("Passback: ad not started, calling script"),n(r,e,s,i)},o),i.on("adstart",function(){a("Passback: ad started, clearing timeout"),clearTimeout(s),s=null}))}}function n(t,e,i,r){var n=e.textContent.replace(/\<\\\//g,"</"),a=document.createElement("iframe");a.style.width="100%",a.style.height="100%",a.style.border="none",t.insertBefore(a,t.firstChild);var s=a.contentDocument||a.contentWindow.document;s&&s.write("<body style='margin:0'>"+n+"</body>"),r.close(!0),clearTimeout(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.initPassback=r},,,,function(t,e){var i=function(){function t(){if(!J){try{var t=N.getElementsByTagName("body")[0].appendChild(g("span"));t.parentNode.removeChild(t)}catch(t){return}J=!0;for(var e=j.length,i=0;i<e;i++)j[i]()}}function e(t){J?t():j[j.length]=t}function r(t){if(typeof k.addEventListener!=P)k.addEventListener("load",t,!1);else if(typeof N.addEventListener!=P)N.addEventListener("load",t,!1);else if(typeof k.attachEvent!=P)m(k,"onload",t);else if("function"==typeof k.onload){var e=k.onload;k.onload=function(){e(),t()}}else k.onload=t}function n(){M?a():s()}function a(){var t=N.getElementsByTagName("body")[0],e=g(D);e.setAttribute("type",O);var i=t.appendChild(e);if(i){var r=0;!function(){if(typeof i.GetVariable!=P){var n=i.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),G.pv=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)])}else if(r<10)return r++,void setTimeout(arguments.callee,10);t.removeChild(e),i=null,s()}()}else s()}function s(){var t=B.length;if(t>0)for(var e=0;e<t;e++){var i=B[e].id,r=B[e].callbackFn,n={success:!1,id:i};if(G.pv[0]>0){var a=v(i);if(a)if(!y(B[e].swfVersion)||G.wk&&G.wk<312)if(B[e].expressInstall&&l()){var s={};s.data=B[e].expressInstall,s.width=a.getAttribute("width")||"0",s.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(s.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(s.align=a.getAttribute("align"));for(var c={},h=a.getElementsByTagName("param"),p=h.length,f=0;f<p;f++)"movie"!=h[f].getAttribute("name").toLowerCase()&&(c[h[f].getAttribute("name")]=h[f].getAttribute("value"));d(s,c,i,r)}else u(a),r&&r(n);else E(i,!0),r&&(n.success=!0,n.ref=o(i),r(n))}else if(E(i,!0),r){var A=o(i);A&&typeof A.SetVariable!=P&&(n.success=!0,n.ref=A),r(n)}}}function o(t){var e=null,i=v(t);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=P)e=i;else{var r=i.getElementsByTagName(D)[0];r&&(e=r)}return e}function l(){return!q&&y("6.0.65")&&(G.win||G.mac)&&!(G.wk&&G.wk<312)}function d(t,e,i,r){q=!0,L=r||null,S={success:!1,id:i};var n=v(i);if(n){"OBJECT"==n.nodeName?(_=c(n),R=null):(_=n,R=i),t.id=C,(typeof t.width==P||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==P||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),N.title=N.title.slice(0,47)+" - Flash Player Installation";var a=G.ie&&G.win?["Active"].concat("").join("X"):"PlugIn",s="MMredirectURL="+k.location.toString().replace(/&/g,"%26")+"&MMplayerType="+a+"&MMdoctitle="+N.title;if(typeof e.flashvars!=P?e.flashvars+="&"+s:e.flashvars=s,G.ie&&G.win&&4!=n.readyState){var o=g("div");i+="SWFObjectNew",o.setAttribute("id",i),n.parentNode.insertBefore(o,n),n.style.display="none",function(){4==n.readyState?n.parentNode.removeChild(n):setTimeout(arguments.callee,10)}()}h(t,e,i)}}function u(t){if(G.ie&&G.win&&4!=t.readyState){var e=g("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(c(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(c(t),t)}function c(t){var e=g("div");if(G.win&&G.ie)e.innerHTML=t.innerHTML;else{var i=t.getElementsByTagName(D)[0];if(i){var r=i.childNodes;if(r)for(var n=r.length,a=0;a<n;a++)1==r[a].nodeType&&"PARAM"==r[a].nodeName||8==r[a].nodeType||e.appendChild(r[a].cloneNode(!0))}}return e}function h(t,e,i){var r,n=v(i);if(G.wk&&G.wk<312)return r;if(n)if(typeof t.id==P&&(t.id=i),G.ie&&G.win){var a="";for(var s in t)t[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?e.movie=t[s]:"styleclass"==s.toLowerCase()?a+=' class="'+t[s]+'"':"classid"!=s.toLowerCase()&&(a+=" "+s+'="'+t[s]+'"'));var o="";for(var l in e)e[l]!=Object.prototype[l]&&(o+='<param name="'+l+'" value="'+e[l]+'" />');n.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+o+"</object>",F[F.length]=t.id,r=v(t.id)}else{var d=g(D);d.setAttribute("type",O);for(var u in t)t[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?d.setAttribute("class",t[u]):"classid"!=u.toLowerCase()&&d.setAttribute(u,t[u]));for(var c in e)e[c]!=Object.prototype[c]&&"movie"!=c.toLowerCase()&&p(d,c,e[c]);n.parentNode.replaceChild(d,n),r=d}return r}function p(t,e,i){var r=g("param");r.setAttribute("name",e),r.setAttribute("value",i),t.appendChild(r)}function f(t){var e=v(t);e&&"OBJECT"==e.nodeName&&(G.ie&&G.win?(e.style.display="none",function(){4==e.readyState?A(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function A(t){var e=v(t);if(e){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode.removeChild(e)}}function v(t){var e=null;try{e=N.getElementById(t)}catch(t){}return e}function g(t){return N.createElement(t)}function m(t,e,i){t.attachEvent(e,i),H[H.length]=[t,e,i]}function y(t){var e=G.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,e[0]>i[0]||e[0]==i[0]&&e[1]>i[1]||e[0]==i[0]&&e[1]==i[1]&&e[2]>=i[2]}function b(t,e,i,r){if(!G.ie||!G.mac){var n=N.getElementsByTagName("head")[0];if(n){var a=i&&"string"==typeof i?i:"screen";if(r&&(w=null,I=null),!w||I!=a){var s=g("style");s.setAttribute("type","text/css"),s.setAttribute("media",a),w=n.appendChild(s),G.ie&&G.win&&typeof N.styleSheets!=P&&N.styleSheets.length>0&&(w=N.styleSheets[N.styleSheets.length-1]),I=a}G.ie&&G.win?w&&typeof w.addRule==D&&w.addRule(t,e):w&&typeof N.createTextNode!=P&&w.appendChild(N.createTextNode(t+" {"+e+"}"))}}}function E(t,e){if(W){var i=e?"visible":"hidden";J&&v(t)?v(t).style.visibility=i:b("#"+t,"visibility:"+i)}}function T(t){return null!=/[\\\"<>\.;]/.exec(t)&&typeof encodeURIComponent!=P?encodeURIComponent(t):t}var _,R,L,S,w,I,P="undefined",D="object",V="Shockwave Flash",O="application/x-shockwave-flash",C="SWFObjectExprInst",x="onreadystatechange",k=window,N=document,U=navigator,M=!1,j=[n],B=[],F=[],H=[],J=!1,q=!1,W=!0,G=function(){var t=typeof N.getElementById!=P&&typeof N.getElementsByTagName!=P&&typeof N.createElement!=P,e=U.userAgent.toLowerCase(),i=U.platform.toLowerCase(),r=/win/.test(i?i:e),n=/mac/.test(i?i:e),a=!!/webkit/.test(e)&&parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s=!1,o=[0,0,0],l=null;if(typeof U.plugins!=P&&typeof U.plugins[V]==D)!(l=U.plugins[V].description)||typeof U.mimeTypes!=P&&U.mimeTypes[O]&&!U.mimeTypes[O].enabledPlugin||(M=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),o[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),o[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof k[["Active"].concat("Object").join("X")]!=P)try{var d=new(window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");d&&(l=d.GetVariable("$version"))&&(s=!0,l=l.split(" ")[1].split(","),o=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)])}catch(t){}return{w3:t,pv:o,wk:a,ie:s,win:r,mac:n}}();(function(){G.w3&&((typeof N.readyState!=P&&"complete"==N.readyState||typeof N.readyState==P&&(N.getElementsByTagName("body")[0]||N.body))&&t(),J||(typeof N.addEventListener!=P&&N.addEventListener("DOMContentLoaded",t,!1),G.ie&&G.win&&(N.attachEvent(x,function(){"complete"==N.readyState&&(N.detachEvent(x,arguments.callee),t())}),k==top&&function(){if(!J){try{N.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}t()}}()),G.wk&&function(){if(!J)/loaded|complete/.test(N.readyState)?t():setTimeout(arguments.callee,0)}(),r(t)))})(),function(){G.ie&&G.win&&window.attachEvent("onunload",function(){for(var t=H.length,e=0;e<t;e++)H[e][0].detachEvent(H[e][1],H[e][2]);for(var r=F.length,n=0;n<r;n++)f(F[n]);for(var a in G)G[a]=null;G=null;for(var s in i)i[s]=null;i=null})}();return{registerObject:function(t,e,i,r){if(G.w3&&t&&e){var n={};n.id=t,n.swfVersion=e,n.expressInstall=i,n.callbackFn=r,B[B.length]=n,E(t,!1)}else r&&r({success:!1,id:t})},getObjectById:function(t){if(G.w3)return o(t)},embedSWF:function(t,i,r,n,a,s,o,u,c,p){var f={success:!1,id:i};G.w3&&!(G.wk&&G.wk<312)&&t&&i&&r&&n&&a?(E(i,!1),e(function(){r+="",n+="";var e={};if(c&&typeof c===D)for(var A in c)e[A]=c[A];e.data=t,e.width=r,e.height=n;var v={};if(u&&typeof u===D)for(var g in u)v[g]=u[g];if(o&&typeof o===D)for(var m in o)typeof v.flashvars!=P?v.flashvars+="&"+m+"="+o[m]:v.flashvars=m+"="+o[m];if(y(a)){var b=h(e,v,i);e.id==i&&E(i,!0),f.success=!0,f.ref=b}else{if(s&&l())return e.data=s,void d(e,v,i,p);E(i,!0)}p&&p(f)})):p&&p(f)},switchOffAutoHideShow:function(){W=!1},ua:G,getFlashPlayerVersion:function(){return{major:G.pv[0],minor:G.pv[1],release:G.pv[2]}},hasFlashPlayerVersion:y,createSWF:function(t,e,i){return G.w3?h(t,e,i):void 0},showExpressInstall:function(t,e,i,r){G.w3&&l()&&d(t,e,i,r)},removeSWF:function(t){G.w3&&f(t)},createCSS:function(t,e,i,r){G.w3&&b(t,e,i,r)},addDomLoadEvent:e,addLoadEvent:r,getQueryParamValue:function(t){var e=N.location.search||N.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return T(e);for(var i=e.split("&"),r=0;r<i.length;r++)if(i[r].substring(0,i[r].indexOf("="))==t)return T(i[r].substring(i[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(q){var t=v(C);t&&_&&(t.parentNode.replaceChild(_,t),R&&(E(R,!0),G.ie&&G.win&&(_.style.display="block")),L&&L(S)),q=!1}}}}();t.exports=i},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(70);i(73),i(46).default({jsv:null,swf:r,tag:window.CEDATO_TAG})},function(t,e){/*!
* sandblaster
* A client-side JavaScript library to detect if your code is running inside of a sandboxed iframe... and, if desired, might just be able to change that fact!
* Copyright (c) 2014-2015 James M. Greene
* Licensed MIT
* http://jamesmgreene.github.io/sandblaster/
* v1.1.1
*/
!function(t,e){"use strict";function i(t){return{name:t.name,message:t.message,stack:t.stack}}function r(t,e){return(t||[]).concat(e||[]).filter(function(t,e,i){return i.indexOf(t)===e})}function n(){var e=!t.opener,i=!!(t.top&&t!=t.top||t.parent&&t!=t.parent);return e&&i}function a(t){var e;try{e="object"==typeof t&&null!==t&&1===t.nodeType&&/^I?FRAME$/.test(t.nodeName||"")&&!!t.hasAttribute&&!!t.getAttribute&&!!t.setAttribute}catch(t){e=!1}return e}function s(e){var r;try{r=t.frameElement,a(r)||(r=null)}catch(t){r=null,"function"==typeof e&&e(i(t))}return r}function o(t){var e;try{e=document.domain||null}catch(r){e=null,"function"==typeof t&&t(i(r))}return e}function l(){return{forms:null,modals:null,pointerLock:null,popups:null,popupsToEscapeSandbox:null,sameOrigin:!0,scripts:!0,topNavigation:null}}function d(t){var e,i=null;return null===t?i=l():"string"==typeof t&&(e=t.replace(/^\s+|\s+$/g,"").toLowerCase().split(/\s+/),i={forms:-1!==e.indexOf("allow-forms"),modals:-1!==e.indexOf("allow-modals"),pointerLock:-1!==e.indexOf("allow-pointer-lock"),popups:-1!==e.indexOf("allow-popups"),popupsToEscapeSandbox:-1!==e.indexOf("allow-popups-to-escape-sandbox"),sameOrigin:-1!==e.indexOf("allow-same-origin"),scripts:-1!==e.indexOf("allow-scripts"),topNavigation:-1!==e.indexOf("allow-top-navigation")}),i}function u(t,e){var i,n,a,s,o=!1;if(t&&"object"==typeof t&&e&&"object"==typeof e)for(i=r(Object.keys(t),Object.keys(e)),o=!0,n=0,a=i.length;n<a;n++)if(s=i[n],!t.hasOwnProperty(s)||!e.hasOwnProperty(s)||t[s]!==e[s]){o=!1;break}return o}function c(t,i){var r,n,s,o,l={sandboxed:e,sandboxAllowances:e,unsandboxable:e,resandboxable:e,errors:[]};if(a(t)){try{l.sandboxed=t.hasAttribute("sandbox")}catch(t){l.sandboxed=null,"function"==typeof i&&i(t)}if(l.sandboxed)try{r=t.getAttribute("sandbox")||""}catch(t){r=null,"function"==typeof i&&i(t)}else null===l.sandboxed&&(r=null);if(null!==r&&"string"!=typeof r||(l.sandboxAllowances=d(r)),l.sandboxed)try{t.removeAttribute("sandbox"),l.unsandboxable=!t.hasAttribute("sandbox")}catch(t){l.unsandboxable=!1,"function"==typeof i&&i(t)}if(l.unsandboxable&&"string"==typeof r)try{t.setAttribute("sandbox",r),n=t.hasAttribute("sandbox")}catch(t){n=!1,"function"==typeof i&&i(t)}if(n&&l.sandboxAllowances)try{s=t.getAttribute("sandbox")||""}catch(t){s=null,"function"==typeof i&&i(t)}else null===n&&(s=null);null!==s&&"string"!=typeof s||(s=d(s)),n&&(o=null,l.sandboxAllowances&&s&&(o=u(l.sandboxAllowances,s))),l.resandboxable=o}return l}function h(){var t=this;if(!(t instanceof h))return new h;t._initialState=t.detect(),t._unsandboxState=null}var p=Array.prototype.slice;h.prototype.detect=function(){var t,r,a,l={framed:!1,crossOrigin:null,sandboxed:null,sandboxAllowances:e,unsandboxable:e,resandboxable:e,sandboxable:e,errors:[]},d=function(t){l.errors.push(i(t))},u=function(t){r=i(t),l.errors.push(r)};try{l.framed=n(),l.framed?(t=s(u),null!=t?(l.crossOrigin=!1,a=c(t,d),l.sandboxed=a.sandboxed,l.sandboxAllowances=a.sandboxAllowances,l.unsandboxable=a.unsandboxable,l.resandboxable=a.resandboxable):(l.crossOrigin=!0,l.sandboxed=null,l.sandboxAllowances={forms:null,modals:null,pointerLock:null,popups:null,popupsToEscapeSandbox:null,sameOrigin:null,scripts:!0,topNavigation:null},l.unsandboxable=!1,l.resandboxable=!1,null===o(d)?(l.sandboxed=!0,l.sandboxAllowances.sameOrigin=!1):r&&("SecurityError"!==r.name?l.crossOrigin=null:/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(r.message.toLowerCase())&&(l.sandboxed=!0,l.sandboxAllowances.sameOrigin=!0))),l.sandboxable=l.resandboxable||!0===l.framed&&!1===l.crossOrigin&&(!1===l.sandboxed||l.sandboxAllowances.sameOrigin)||!1):(l.crossOrigin=e,l.sandboxed=e,l.errors=e)}catch(t){d(t)}return l},h.prototype.unsandbox=function(){var t,e,i=!1,r=this,n=r._initialState;if(!1===n.framed)i=!0;else if(!1===n.crossOrigin&&(t=r.detect(),i=!1===t.sandboxed,t.sandboxed&&t.unsandboxable&&(r._unsandboxState=t,e=s(function(){i=!1}))))try{e.removeAttribute("sandbox"),i=!e.hasAttribute("sandbox")}catch(t){i=!1}return i},h.prototype.resandbox=function(){var t=!1,e=this;return null!=e._unsandboxState&&(t=e.sandbox(e._unsandboxState.sandboxAllowances)),!0===t&&(e._unsandboxState=null),t},h.prototype.sandbox=function(t){var e,i,n,a,l,d,u,c=!1,h=this,p=h._initialState,f=[];if(t&&"object"==typeof t&&p.framed&&!1!==p.crossOrigin&&(n=h.detect(),(!1===n.sandboxed&&n.sandboxable||n.sandboxed&&n.unsandboxable)&&(a=n.sandboxAllowances,i=r(Object.keys(t),Object.keys(a||{})),i.forEach(function(e){(!0===t[e]||null==t[e]&&a&&!0===a[e])&&f.push("allow-"+e.replace(/[A-Z]/g,"-$1").toLowerCase())}),f.length>0&&(d=s())))){l=-1===f.indexOf("allow-same-origin")||-1===f.indexOf("allow-scripts"),e=f.sort().join(" ");try{d.setAttribute("sandbox",e),c=l}catch(t){c=!1}if(d=s())try{u=(d.getAttribute("sandbox")||"").replace(/^\s+|\s+$/g,"").split(/\s+/).sort().join(" "),c=u===e||l&&(""===u||null===o())}catch(t){c=l}}return c},h.prototype.reload=function(){var t,e,i,r,n=!1,a=this,o=a._initialState;if(o.framed&&!1===o.crossOrigin&&(t=s()))try{t.parentNode&&t.parentNode.ownerDocument&&(e=p.call(t.attributes).map(function(t){return{name:t.name,value:t.value}}),i=t.parentNode.ownerDocument.createElement("iframe"),e.forEach(function(t){i.setAttribute(t.name,t.value)}),r=t.parentNode.replaceChild(i,t),n=t===r)}catch(t){n=!1}return n},t.sandblaster=new h}(window)}]);