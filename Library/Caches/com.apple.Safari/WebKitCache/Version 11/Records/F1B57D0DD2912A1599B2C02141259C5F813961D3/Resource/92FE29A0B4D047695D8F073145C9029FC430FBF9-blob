if (self.CavalryLogger) { CavalryLogger.start_js(["a\/xlX"]); }

__d('CameraEventPostOwnerInfo.react',['cx','fbt','React','formatDate','Timestamp.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=function k(l){var m=l.bucketOwnerName,n=l.threadOwnerName,o=l.time,p=c('React').createElement(c('Timestamp.react'),{autoUpdate:true,time:o,text:c('formatDate')(o,'M j, Y',{utc:true})}),q=i._("de {story_poster}",[i.param('story_poster',n)]);return c('React').createElement('div',{className:"_60x1"},c('React').createElement('div',null,c('React').createElement('p',{className:"_2in7"},m)),c('React').createElement('div',{className:"_2in8"},q,' \u2022 ',p))};f.exports=j}),null);
__d('CameraEventPostOwnerPic.react',['cx','React','idx','Image.react','Tooltip.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l,m=k.bucketOwnerName,n=k.bucketProfilePicture,o=k.threadProfilePicture;if(!o)return null;var p=(l=n)!=null?l.uri:l,q=null;if(p){q=c('React').createElement(c('Image.react'),{src:p,className:"_116u"})}else q=c('React').createElement('div',{className:"_24ex"+(' '+"_116u")});return c('React').createElement('span',null,c('React').createElement(c('Tooltip.react'),{tooltip:m,position:'left'},q),c('React').createElement(c('Image.react'),{src:o.uri,className:"_24ey"}))};f.exports=i}),null);
__d("CameraPostDirectMarkSeenMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1644150182303893"};j.getQueryID=function(){"use strict";return "171816796723339"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d('CameraPostLoggingEvents',[],(function a(b,c,d,e,f,g){'use strict';f.exports={SEND_REPLY_ATTEMPT:'sendReplyMutationAttempt',SEND_REPLY_SUCCESS:'sendReplyMutationSuccess',SEND_REPLY_FAIL:'sendReplyMutationFail',THREAD_VIEWED:'view',THREAD_MARK_SEEN_ATTEMPT:'markSeenMutationAttempt',THREAD_MARK_SEEN_SUCCESS:'markSeenMutationSuccess',THREAD_MARK_SEEN_FAIL:'markSeenMutationFail',DIRECT_VIEWER_CLICKOUT:'clickout',STORIES_VIEWER_CLICKOUT:'stories_clickout',BUCKET_CHANGED:'bucketChanged',BUCKET_SELECTED_FROM_TRAY:'bucketSelectedFromTray',PAUSE_TOGGLE_ON:'pauseToggleOn',PAUSE_TOGGLE_OFF:'pauseToggleOff',AUTO_PROGRESSION:'autoProgression'}}),null);
__d("CameraPostQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1585409328177520"};j.getQueryID=function(){"use strict";return "1941924769355181"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostRepliesQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1494166853955273"};j.getQueryID=function(){"use strict";return "1468697053209427"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostReplyMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1459763854077111"};j.getQueryID=function(){"use strict";return "1849675045338105"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostUserQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1652248708148952"};j.getQueryID=function(){"use strict";return "143159039576179"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d('CameraPostWWWTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:CameraPostWWWLoggerConfig',this.$CameraPostWWWTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:CameraPostWWWLoggerConfig',this.$CameraPostWWWTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$CameraPostWWWTypedLogger1={};return this};h.prototype.updateData=function(j){this.$CameraPostWWWTypedLogger1=babelHelpers['extends']({},this.$CameraPostWWWTypedLogger1,j);return this};h.prototype.setCameraPostType=function(j){this.$CameraPostWWWTypedLogger1.camera_post_type=j;return this};h.prototype.setEventDetails=function(j){this.$CameraPostWWWTypedLogger1.event_details=j;return this};h.prototype.setEventStoriesInTray=function(j){this.$CameraPostWWWTypedLogger1.event_stories_in_tray=j;return this};h.prototype.setEventType=function(j){this.$CameraPostWWWTypedLogger1.event_type=j;return this};h.prototype.setFolloweeStoriesInTray=function(j){this.$CameraPostWWWTypedLogger1.followee_stories_in_tray=j;return this};h.prototype.setFriendStoriesInTray=function(j){this.$CameraPostWWWTypedLogger1.friend_stories_in_tray=j;return this};h.prototype.setHasNewContent=function(j){this.$CameraPostWWWTypedLogger1.has_new_content=j;return this};h.prototype.setHasSelfStoryInTray=function(j){this.$CameraPostWWWTypedLogger1.has_self_story_in_tray=j;return this};h.prototype.setLiveStoriesInTray=function(j){this.$CameraPostWWWTypedLogger1.live_stories_in_tray=j;return this};h.prototype.setMediaID=function(j){this.$CameraPostWWWTypedLogger1.media_id=j;return this};h.prototype.setMediaType=function(j){this.$CameraPostWWWTypedLogger1.media_type=j;return this};h.prototype.setNewNonSelfStoriesInTray=function(j){this.$CameraPostWWWTypedLogger1.new_non_self_stories_in_tray=j;return this};h.prototype.setPageStoriesInTray=function(j){this.$CameraPostWWWTypedLogger1.page_stories_in_tray=j;return this};h.prototype.setStoryAction=function(j){this.$CameraPostWWWTypedLogger1.story_action=j;return this};h.prototype.setStoryActionSource=function(j){this.$CameraPostWWWTypedLogger1.story_action_source=j;return this};h.prototype.setStoryID=function(j){this.$CameraPostWWWTypedLogger1.story_id=j;return this};h.prototype.setStoryOwnerFbid=function(j){this.$CameraPostWWWTypedLogger1.story_owner_fbid=j;return this};h.prototype.setStoryOwnerType=function(j){this.$CameraPostWWWTypedLogger1.story_owner_type=j;return this};h.prototype.setStoryPromotionsInTray=function(j){this.$CameraPostWWWTypedLogger1.story_promotions_in_tray=j;return this};h.prototype.setStorySize=function(j){this.$CameraPostWWWTypedLogger1.story_size=j;return this};h.prototype.setThreadID=function(j){this.$CameraPostWWWTypedLogger1.thread_id=j;return this};h.prototype.setTotalNonSelfStoriesInTray=function(j){this.$CameraPostWWWTypedLogger1.total_non_self_stories_in_tray=j;return this};h.prototype.setViewerID=function(j){this.$CameraPostWWWTypedLogger1.viewer_id=j;return this};h.prototype.setViewers=function(j){this.$CameraPostWWWTypedLogger1.viewers=j;return this};h.prototype.setWebSurface=function(j){this.$CameraPostWWWTypedLogger1.web_surface=j;return this};var i={camera_post_type:true,event_details:true,event_stories_in_tray:true,event_type:true,followee_stories_in_tray:true,friend_stories_in_tray:true,has_new_content:true,has_self_story_in_tray:true,live_stories_in_tray:true,media_id:true,media_type:true,new_non_self_stories_in_tray:true,page_stories_in_tray:true,story_action:true,story_action_source:true,story_id:true,story_owner_fbid:true,story_owner_type:true,story_promotions_in_tray:true,story_size:true,thread_id:true,total_non_self_stories_in_tray:true,viewer_id:true,viewers:true,web_surface:true};f.exports=h}),null);
__d('CameraPostGraphQLAPI',['WebGraphQL','CameraPostReplyMutationWebGraphQLMutation','CameraPostDirectMarkSeenMutationWebGraphQLMutation','CameraPostQueryWebGraphQLQuery','CameraPostRepliesQueryWebGraphQLQuery','CameraPostUserQueryWebGraphQLQuery','CameraPostWWWTypedLogger','CameraPostLoggingEvents','idx','uniqueID'],(function a(b,c,d,e,f,g){'use strict';f.exports={sendDirectReply:function h(i,j,k,l){var m=c('uniqueID')(),n={client_mutation_id:m,actor_id:i,thread_id:j,message:k},o=k.length;new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').SEND_REPLY_ATTEMPT).setEventDetails(o).setViewerID(i).setThreadID(j).log();return c('WebGraphQL').exec(new (c('CameraPostReplyMutationWebGraphQLMutation'))({input:n})).then(function(p){new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').SEND_REPLY_SUCCESS).setEventDetails(o).setViewerID(i).setThreadID(j).log();return p},function(p){new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').SEND_REPLY_FAIL).setEventDetails(o).setViewerID(i).setThreadID(j).log();return p})},loadThreadFullInformation:function h(i,j){return c('WebGraphQL').exec(new (c('CameraPostQueryWebGraphQLQuery'))({thread_id:j})).then(function(k){var l,m,n=(l=k)!=null?(l=l.node)!=null?l.camera_post_type:l:l,o=(m=k)!=null?(m=m.node)!=null?m.viewer_replays_left:m:m;new (c('CameraPostWWWTypedLogger'))().setCameraPostType(n).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').THREAD_VIEWED).setEventDetails(o).setViewerID(i).setThreadID(j).log();return k},function(k){return k})},loadUserInfo:function h(){return c('WebGraphQL').exec(new (c('CameraPostUserQueryWebGraphQLQuery'))())},loadRepliesForThread:function h(i){return c('WebGraphQL').exec(new (c('CameraPostRepliesQueryWebGraphQLQuery'))({thread_id:i}))},markThreadSeen:function h(i,j,k,l,m){var n={client_mutation_id:c('uniqueID')(),actor_id:i,thread_id:j,last_message_seen_id:k},o=new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').THREAD_MARK_SEEN_ATTEMPT).setViewerID(i).setThreadID(j);if(m)o=o.setEventDetails(m);o.log();return c('WebGraphQL').exec(new (c('CameraPostDirectMarkSeenMutationWebGraphQLMutation'))({input:n})).then(function(p){new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').THREAD_MARK_SEEN_SUCCESS).setEventDetails(m).setViewerID(i).setThreadID(j).log();return p},function(p){new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').THREAD_MARK_SEEN_FAIL).setEventDetails(m).setViewerID(i).setThreadID(j).log();return p})}}}),null);
__d('CameraPostMuteButton.react',['ix','cx','React','fbglyph','AbstractButton.react','Image.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$CameraPostMuteButton2=function(r){r.preventDefault();r.stopPropagation();this.props.onMouseUp()}.bind(this),n}l.prototype.$CameraPostMuteButton1=function(m){m.preventDefault();m.stopPropagation()};l.prototype.render=function(){var m=h("115742"),n=h("115739");return c('React').createElement(c('AbstractButton.react'),{className:"_tqj",tabIndex:'0',onMouseDown:this.$CameraPostMuteButton1,onMouseUp:this.$CameraPostMuteButton2,image:c('React').createElement(c('Image.react'),{src:this.props.muted?m:n}),labelIsHidden:true,label:this.props.muted?'Muted':'Unmuted'})};f.exports=l}),null);
__d('CameraPostSATPComponent.react',['cx','React','TextWithEmoticons.react','idx'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.componentDidMount=function(){var l,m,n=(l=this.props.satpData)!=null?(l=l.wwwTextFormatMetadata)!=null?l.body_style:l:l,o=(m=this.props.satpData)!=null?(m=m.wwwTextFormatMetadata)!=null?m.text_input_style:m:m;this.$CameraPostSATPComponent1&&this.$CameraPostSATPComponent1.setAttribute('style',n||'');this.$CameraPostSATPComponent2&&this.$CameraPostSATPComponent2.setAttribute('style',o||'')};k.prototype.render=function(){return c('React').createElement('div',{className:this.props.className},c('React').createElement('div',{className:"_zre"},c('React').createElement('div',{className:"_zrf",ref:function(l){return this.$CameraPostSATPComponent1=l}.bind(this)},c('React').createElement('div',{className:"_zrg",ref:function(l){return this.$CameraPostSATPComponent2=l}.bind(this)},c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:this.props.satpData.rootMessageText,size:30})))))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('FBStoriesLoggingHelper',['CameraPostWWWTypedLogger','CurrentUser','FBStoriesBucketHelper','FBStoriesLoggingConstants','FBStoriesStore','JSLog'],(function a(b,c,d,e,f,g){'use strict';var h={logStoryTrayLoad:function i(j,k){var l=c('FBStoriesBucketHelper').hasData(j),m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=c('CurrentUser').getID();k.forEach(function(v){m++;if(v.unseen_count>0)n++;var w=c('FBStoriesBucketHelper').getLoggingType(v);switch(w){case c('FBStoriesLoggingConstants').LIVE_STORY:o++;break;case c('FBStoriesLoggingConstants').PAGE_STORY:p++;break;case c('FBStoriesLoggingConstants').EVENT_STORY:q++;break;case c('FBStoriesLoggingConstants').STORY_PROMOTION:r++;break;case c('FBStoriesLoggingConstants').FOLLOWEE_STORY:s++;break;case c('FBStoriesLoggingConstants').FRIEND_STORY:t++;break;default:c('JSLog').error('storyOwnerType not found',w);}});new (c('CameraPostWWWTypedLogger'))().setStoryAction('storyTrayLoad').setHasSelfStoryInTray(l).setTotalNonSelfStoriesInTray(m).setNewNonSelfStoriesInTray(n).setLiveStoriesInTray(o).setPageStoriesInTray(p).setEventStoriesInTray(q).setStoryPromotionsInTray(r).setFolloweeStoriesInTray(s).setFriendStoriesInTray(t).setViewerID(u).log()},storyLog:function i(j,k){var l=c('FBStoriesStore').getSelectedBucketCameraPostType(),m=c('FBStoriesStore').getSelectedBucketOwnerID(),n=c('FBStoriesStore').getSelectedBucketOwnerType(),o=c('FBStoriesStore').getThreadCountForSelectedBucket(),p=c('FBStoriesStore').getSelectedBucketUnseenCount()>0,q=c('FBStoriesStore').getSelectedBucketId(),r=c('CurrentUser').getID();new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setStoryAction(j).setStoryActionSource(k).setStoryOwnerFbid(m).setStoryOwnerType(n).setStorySize(o).setHasNewContent(p).setStoryID(q).setViewerID(r).log()},mediaLog:function i(j){var k=c('FBStoriesStore').getCurrentThreadCameraPostTypeForSelectedBucket(),l=c('FBStoriesStore').getSelectedBucketOwnerID(),m=c('FBStoriesStore').getSelectedBucketOwnerType(),n=c('FBStoriesStore').getCurrentThreadMediaTypeForSelectedBucket(),o=c('FBStoriesStore').getCurrentThreadMediaIDForSelectedBucket(),p=c('FBStoriesStore').getCurrentThreadMediaViewerCountForSelectedBucket(),q=c('FBStoriesStore').getCurrentThreadIDForSelectedBucket(),r=c('FBStoriesStore').getSelectedBucketId(),s=c('CurrentUser').getID();new (c('CameraPostWWWTypedLogger'))().setCameraPostType(k).setStoryAction(j).setStoryOwnerFbid(l).setStoryOwnerType(m).setMediaType(n).setMediaID(o).setViewers(p).setThreadID(q).setStoryID(r).setViewerID(s).log()}};f.exports=h}),null);
__d("XUnfollowAllProfileController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/follow\/unfollow_all_profile\/",{profile_ids:{type:"FBIDVector"},location:{type:"Int"}})}),null);
__d('FBStoriesActions',['FBStoriesDispatcher','FBStoriesStore','FBStoriesActionTypes','AsyncRequest','CameraPostTypes','CameraPostGraphQLAPI','FBStoriesGraphQLAPI','FBStoriesLoggingHelper','XPageFollowMutatorController','XUnfollowAllProfileController'],(function a(b,c,d,e,f,g){'use strict';var h=c('FBStoriesDispatcher').dispatch,i={nextThread:function j(k){var l=c('FBStoriesStore').isSelectedBucketLive();if(l){i.nextBucket();return}var m=c('FBStoriesStore').getThreadsForSelectedBucket(),n=c('FBStoriesStore').getCurrentThreadIndexForSelectedBucket(),o=k!==undefined?k:n+1;if(m.length===0){i.nextBucket()}else if(o<=m.length-1){i.currentThreadIndexChanged(o)}else i.nextBucket();},prevThread:function j(k){var l=c('FBStoriesStore').isSelectedBucketLive();if(l){i.prevBucket();return}var m=c('FBStoriesStore').getThreadsForSelectedBucket(),n=c('FBStoriesStore').getCurrentThreadIndexForSelectedBucket(),o=k!==undefined?k:n-1;if(m.length===0){i.prevBucket()}else if(o>=0){i.currentThreadIndexChanged(o,true)}else i.prevBucket();},nextBucket:function j(){return i._transitionBucket(true)},prevBucket:function j(){return i._transitionBucket(false)},userSelectedBucket:function j(k){var l=c('FBStoriesStore').getBucketIds().indexOf(k),m=c('FBStoriesStore').getUnseenThreadIndex(l),n=Math.max(0,m),o=c('FBStoriesStore').isOwnBucket(k);h({type:c('FBStoriesActionTypes').RESET_LOCAL_SEEN_HISTORY});h({type:c('FBStoriesActionTypes').SET_UNSEEN_MODE,value:!o&&m>=0});h({type:c('FBStoriesActionTypes').SET_ALL_BUCKETS_VIEWED,value:false});h({type:c('FBStoriesActionTypes').SELECTED_BUCKET_IDX_CHANGED,bucketIndex:l});i.currentThreadIndexChanged(n)},updateCurrentThreadPercentDone:function j(k){h({type:c('FBStoriesActionTypes').SELECTED_THREAD_PERCENT_DONE,percentDone:k})},currentThreadIndexChanged:function j(k){var l,m=arguments.length<=1||arguments[1]===undefined?false:arguments[1],n=c('FBStoriesStore').getCurrentThreadData(),o=c('FBStoriesStore').isOwnBucket(),p=c('FBStoriesStore').userBucketIsLive();if(n&&o&&!p)i.markThreadViewersSeen(n.threadID);h({type:c('FBStoriesActionTypes').SELECTED_THREAD_IDX_CHANGED,index:k});i.updateCurrentThreadPercentDone(0);var q=c('FBStoriesStore').getUserInfo().userID,r=c('FBStoriesStore').getCurrentThreadData();if(r){(function(){var s=r.threadID,t=r.latestMessageID;if(o){c('FBStoriesGraphQLAPI').loadViewerListForThread(s).done(function(u){return h({type:c('FBStoriesActionTypes').VIEWER_LIST_LOADED_FOR_THREAD,threadID:s,data:u})})}else{h({type:c('FBStoriesActionTypes').UPDATE_THREAD_SEEN_OPTIMISTIC,threadID:s});c('CameraPostGraphQLAPI').markThreadSeen(q,s,t,r.cameraPostType)}})()}else if(m){i.prevThread()}else i.nextThread();},markThreadViewersSeen:function j(k){h({type:c('FBStoriesActionTypes').UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC,threadID:k});c('FBStoriesGraphQLAPI').updateThreadSeenReciept(k)},_transitionBucket:function j(k,l){var m=c('FBStoriesStore').getBucketCount(),n=c('FBStoriesStore').getCurrentThreadData(),o=c('FBStoriesStore').isOwnBucket(),p=c('FBStoriesStore').userBucketIsLive();if(n&&o&&!p)i.markThreadViewersSeen(n.threadID);l=l!==undefined?l:c('FBStoriesStore').getSelectedBucketIndex();var q=k?l+1:l-1,r=function v(){return q>=m||q<0},s=0;if(c('FBStoriesStore').isUnseenMode()){var t=false;while(t===false&&!r()){s=c('FBStoriesStore').getUnseenThreadIndex(q);t=s>=0;if(!t)q=k?q+1:q-1;}}else if(!k)s=c('FBStoriesStore').getLastSeenThreadIndexForBucket(q);var u=r();h({type:c('FBStoriesActionTypes').SET_ALL_BUCKETS_VIEWED,value:u});if(u){if(o&&n&&!p)return i.markThreadViewersSeen(n.threadID);return undefined}i.removeEndedLiveVideo();h({type:c('FBStoriesActionTypes').SELECTED_BUCKET_IDX_CHANGED,bucketIndex:q});if(!c('FBStoriesStore').hasDataInSelectedBucket()&&!c('FBStoriesStore').isSelectedBucketLive()){if(k)return i.nextBucket();return i.prevBucket()}i.currentThreadIndexChanged(s);c('FBStoriesLoggingHelper').storyLog('openStory','openFromPriorStory');return undefined},deleteThreadFromBucket:function j(k,l){if(!c('FBStoriesStore').isUserManagedThread(k,l))return;c('FBStoriesGraphQLAPI').deleteStory(c('FBStoriesStore').getUserInfo().userID,k);h({type:c('FBStoriesActionTypes').DELETE_THREAD_FROM_BUCKET,threadID:k,bucketID:l});i.nextThread(c('FBStoriesStore').getCurrentThreadIndexForSelectedBucket())},unFollowBucketOwner:function j(k,l,m){if(!k||!m)return;var n=0;if(k===c('CameraPostTypes').PAGE_STORY){var o=c('XPageFollowMutatorController').getURIBuilder().setInt('page_id',l).setBool('status',false).setEnum('location',n).getURI();new (c('AsyncRequest'))().setURI(o).send()}else if(k===c('CameraPostTypes').STORY){var p=c('XUnfollowAllProfileController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(p).setData({profile_ids:[l],location:n}).send()}h({type:c('FBStoriesActionTypes').REMOVE_BUCKET,bucketID:m});i._transitionBucket(true,c('FBStoriesStore').getSelectedBucketIndex()-1)},removeEndedLiveVideo:function j(){if(!c('FBStoriesStore').isSelectedBucketLiveAndEnded())return;var k=c('FBStoriesStore').getSelectedBucketId();if(c('FBStoriesStore').getThreadsForSelectedBucket().length>0){h({type:c('FBStoriesActionTypes').REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET,bucketID:k})}else h({type:c('FBStoriesActionTypes').REMOVE_BUCKET,bucketID:k});},setIsCommercialBreakRunning:function j(k,l){h({type:c('FBStoriesActionTypes').SET_IS_COMMERCIAL_BREAK_RUNNING,isCommercialBreakRunning:l,videoID:k})}};f.exports=i}),null);
__d('FBStoriesTimer',['EventEmitter','VideoPlayerController'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=30,k=1000;h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;function l(m){i.constructor.call(this);this.$FBStoriesTimer8=function(){if(this.$FBStoriesTimer7){this.$FBStoriesTimer5=this.$FBStoriesTimer7.getCurrentTimePosition()*k;this.$FBStoriesTimer1=this.$FBStoriesTimer7.getPlaybackDuration()*k}else this.$FBStoriesTimer5+=j;var r=this.$FBStoriesTimer2+(this.$FBStoriesTimer3-this.$FBStoriesTimer2)*(this.$FBStoriesTimer5/this.$FBStoriesTimer1),s=Math.min(this.$FBStoriesTimer3,r);this.emit('tick',s);if(s===this.$FBStoriesTimer3){this.emit('done');if(this.$FBStoriesTimer6)clearTimeout(this.$FBStoriesTimer6);}else{var t=this.$FBStoriesTimer1-this.$FBStoriesTimer5,u=Math.min(t,j);this.$FBStoriesTimer6=setTimeout(this.$FBStoriesTimer8,u)}}.bind(this);var n=m.duration,o=m.vpc,p=m.start,q=m.end;this.$FBStoriesTimer1=n;this.$FBStoriesTimer2=p===undefined?0:p;this.$FBStoriesTimer3=q===undefined?100:q;this.$FBStoriesTimer7=o;this.$FBStoriesTimer4=false;this.$FBStoriesTimer5=0}l.prototype.getTimeElapsed=function(){return this.$FBStoriesTimer5};l.prototype.setTimeElapsed=function(m){this.$FBStoriesTimer5=m};l.prototype.onDone=function(m){return this.addListener('done',m)};l.prototype.onTick=function(m){return this.addListener('tick',function(n){return m(n)})};l.prototype.pause=function(){clearTimeout(this.$FBStoriesTimer6)};l.prototype.play=function(){this.$FBStoriesTimer8()};l.prototype.stop=function(){clearTimeout(this.$FBStoriesTimer6)};f.exports=l}),null);
__d('CameraPostMedia.react',['cx','FBStoriesTimer','React','ReactCSSTransitionGroup','createCancelableFunction','emptyFunction','BackgroundImage.react','CameraPostTypes','CameraPostMediaHelper','CameraPostMuteButton.react','CameraPostSATPComponent.react','EventListener','FBStoriesActions','JSLog','SubscriptionsHandler','VideoComponentAutoPlayControl.react','VideoComponentCommercialBreakLiveTransitionOverlay.react','VideoComponentCommercialBreakVideoAdOverlay.react','VideoComponentLiveAudioAnimation.react','VideoComponentLiveEndScreen.react','VideoComponentLiveInterruptedScreen.react','VideoComponentLiveVideoIndicator.react','VideoComponentStreamingReactionTray.react','VideoComponentWithCommercialBreak.react','VideoComponentWithInstreamVideo.react','VideoComponentWithLiveBroadcast.react','VideoComponentWithLoopingPlayback.react','VideoDataContainer.react','VideoPlayer.react','VideoPlayerController','VideoPlayerLoggerSource','VideoPlayerOrigins','VideoPlayerReason','XUISpinner.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"},l=3500,m=1000,n=200,o=200,p=200;i=babelHelpers.inherits(q,c('React').Component);j=i&&i.prototype;function q(r){j.constructor.call(this,r);this.$CameraPostMedia12=function(s){this.props.onTimeUpdate&&this.props.onTimeUpdate(s)}.bind(this);this.$CameraPostMedia15=function(){this.$CameraPostMedia6();this.$CameraPostMedia16(this.props.cameraPostType)&&this.$CameraPostMedia8()}.bind(this);this.$CameraPostMedia6=c('createCancelableFunction')(function(){if(this.$CameraPostMedia4){this.setState({height:this.$CameraPostMedia4.clientHeight,width:this.$CameraPostMedia4.clientWidth})}else{var s=window.innerHeight,t=void 0,u=void 0;if(s<=800){t=622;u=350}else if(s>=1350){t=1080;u=608}else{t=s*.83625-48;u=t*(350/622)}this.setState({height:t,width:u})}}.bind(this));this.$CameraPostMedia17=function(s){if(!s)c('JSLog').error('onUpdateMetaData, VideoPlayerController is undefined.');if(s&&!this.$CameraPostMedia1){var t=s.getPlaybackDuration();this.$CameraPostMedia14(t,s)}if(this.props.isMediaMuted){s&&s.mute()}else s&&s.unmute();}.bind(this);this.state={height:0,width:0}}q.prototype.componentDidMount=function(){this.$CameraPostMedia6();window.onresize=this.$CameraPostMedia6;if(this.$CameraPostMedia7())this.$CameraPostMedia8();};q.prototype.componentWillUnmount=function(){if(this.$CameraPostMedia1){this.$CameraPostMedia1.stop();delete this.$CameraPostMedia1}this.$CameraPostMedia6.cancel();if(this.$CameraPostMedia5)this.$CameraPostMedia5.release();};q.prototype.componentWillUpdate=function(r){if(r.paused!==this.props.paused)if(r.paused){this.$CameraPostMedia1&&this.$CameraPostMedia1.pause();this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.pause(c('VideoPlayerReason').USER)}else{this.$CameraPostMedia1&&this.$CameraPostMedia1.play();this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.play(c('VideoPlayerReason').USER)}if(r.isMediaMuted!==this.props.isMediaMuted)if(r.isMediaMuted){this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.mute()}else this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.unmute();};q.prototype.$CameraPostMedia9=function(){return c('CameraPostMediaHelper').isImage(this.props.media)};q.prototype.$CameraPostMedia10=function(){return c('CameraPostMediaHelper').isVideo(this.props.media)};q.prototype.$CameraPostMedia11=function(){return this.props.satpData.wwwTextFormatMetadata!==null};q.prototype.$CameraPostMedia7=function(){return this.$CameraPostMedia11()&&this.props.satpData.showSATPNativeRender};q.prototype.$CameraPostMedia13=function(r,s){if(this.props.onDone&&this.props.onTimeUpdate){this.$CameraPostMedia1=new (c('FBStoriesTimer'))({duration:r,vpc:s});this.$CameraPostMedia1.onTick(this.$CameraPostMedia12);this.props.onDone&&this.$CameraPostMedia1.onDone(this.props.onDone);if(!this.props.paused)this.$CameraPostMedia1.play();}};q.prototype.$CameraPostMedia8=function(){this.$CameraPostMedia13(l)};q.prototype.$CameraPostMedia14=function(r,s){this.$CameraPostMedia13(r*m,s)};q.prototype.$CameraPostMedia18=function(r){switch(r){case c('CameraPostTypes').DIRECT:case c('CameraPostTypes').DIRECT_NUX:case c('CameraPostTypes').GROUP_DIRECT:return c('VideoPlayerOrigins').DIRECT_INBOX;case c('CameraPostTypes').STORY:case c('CameraPostTypes').STORY_NUX:case c('CameraPostTypes').EVENT_STORY:case c('CameraPostTypes').PAGE_STORY:return c('VideoPlayerOrigins').FB_STORIES;default:c('JSLog').error('invalid Camera Post Type '+r);return c('VideoPlayerOrigins').BACKSTAGE;}};q.prototype.$CameraPostMedia16=function(r){switch(r){case c('CameraPostTypes').STORY:case c('CameraPostTypes').STORY_NUX:case c('CameraPostTypes').EVENT_STORY:case c('CameraPostTypes').PAGE_STORY:return true;default:return false;}};q.prototype.$CameraPostMedia19=function(r){if(this.$CameraPostMedia5||!r)return;var s=r.vpc;this.$CameraPostMedia5=new (c('SubscriptionsHandler'))();this.$CameraPostMedia5.addSubscriptions(s.addListener('commercialBreak/hideUFI',function(){return c('FBStoriesActions').setIsCommercialBreakRunning(s.getVideoID(),true)}),s.addListener('commercialBreak/showUFI',function(){return c('FBStoriesActions').setIsCommercialBreakRunning(s.getVideoID(),false)}));if(this.props.isBucketLive)c('EventListener').listen(s.getRootNode(),'contextmenu',function(event){event.preventDefault()});};q.prototype.render=function(){var r=this.props,s=r.cameraPostType,t=r.media,u=r.showOverlay,v=r.isMediaMuted,w=r.onMuteMouseUp,x=r.showPausedOverlay,y=r.showMuteButton;if(!t)return null;var z=u?c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:k,transitionEnterTimeout:n,transitionLeaveTimeout:n},c('React').createElement('div',{className:"_3dew"})):null,aa=x?c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:k,transitionEnterTimeout:n,transitionLeaveTimeout:n},c('React').createElement('div',{className:"_ida"},c('React').createElement('span',{className:"_idd"}))):null,ba=c('React').createElement(c('XUISpinner.react'),{background:'dark',className:"_2out",size:'large'}),ca=y?c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:k,transitionEnterTimeout:o,transitionLeaveTimeout:p},c('React').createElement(c('CameraPostMuteButton.react'),{muted:v,onMouseUp:w})):null;if(this.$CameraPostMedia10()){var da=this.props.isBucketLive,ea=c('React').createElement(c('VideoDataContainer.react'),{videoID:c('CameraPostMediaHelper').getId(t),renderLoading:function ia(){return ba}},c('React').createElement(c('VideoPlayer.react'),{videoData:c('VideoDataContainer.react').VIDEO_DATA_PLACEHOLDER,playerOrigin:this.$CameraPostMedia18(s),subOrigin:c('VideoPlayerLoggerSource').CAMERA_POST,autoplay:da,ref:function(ia){this.$CameraPostMedia2=ia;this.$CameraPostMedia19(ia)}.bind(this),onUpdateMetadata:this.$CameraPostMedia17,className:"_1s5n"+(this.props.isBucketLive?' '+"_3r0u":'')},!this.props.isBucketLive&&c('React').createElement(c('VideoComponentAutoPlayControl.react'),null),c('React').createElement(c('VideoComponentWithLiveBroadcast.react'),null),c('React').createElement(c('VideoComponentLiveAudioAnimation.react'),null),c('React').createElement(c('VideoComponentLiveEndScreen.react'),null),c('React').createElement(c('VideoComponentLiveVideoIndicator.react'),null),c('React').createElement(c('VideoComponentLiveInterruptedScreen.react'),null),c('React').createElement(c('VideoComponentStreamingReactionTray.react'),null),c('React').createElement(c('VideoComponentWithInstreamVideo.react'),null),c('React').createElement(c('VideoComponentWithCommercialBreak.react'),null),c('React').createElement(c('VideoComponentCommercialBreakVideoAdOverlay.react'),null),c('React').createElement(c('VideoComponentCommercialBreakLiveTransitionOverlay.react'),null),this.props.loop&&c('React').createElement(c('VideoComponentWithLoopingPlayback.react'),{infiniteLooping:true})));return c('React').createElement('div',{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown},ea,ca,z,aa,this.props.children)}if(this.$CameraPostMedia7()){var fa=c('React').createElement(c('CameraPostSATPComponent.react'),{satpData:this.props.satpData,className:"_1s5n"});return c('React').createElement('div',{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown,ref:function(ia){return this.$CameraPostMedia4=ia}.bind(this)},fa,this.$CameraPostMedia16(s)&&ca,z,aa,this.props.children)}if(this.$CameraPostMedia9()){var ga=c('React').createElement(c('BackgroundImage.react'),{src:c('CameraPostMediaHelper').getImageUri(t),backgroundSize:'contain',width:this.state.width,height:this.state.height,className:"_1s5n",onImageLoad:this.$CameraPostMedia15,loadingIndicatorStyle:'large'});return c('React').createElement('div',{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown,ref:function(ia){return this.$CameraPostMedia4=ia}.bind(this)},ga,this.$CameraPostMedia16(s)&&ca,z,aa,this.props.children)}var ha='Error: media type not found '+String(c('CameraPostMediaHelper').getType(this.props.media));c('JSLog').error(ha);return c('React').createElement('div',{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown},ba,z,aa,this.props.children)};q.defaultProps={loop:false,media:{},showMuteButton:true,showOverlay:false,showPausedOverlay:false,onTimeUpdate:function r(s){},onDone:c('emptyFunction'),onMouseUp:c('emptyFunction'),onMouseDown:c('emptyFunction'),paused:false,cameraPostType:'',userID:null,threadID:null,width:1,height:1,isBucketLive:false,isMediaMuted:false,onMuteMouseUp:c('emptyFunction'),satpData:{rootMessageText:'',showSATPNativeRender:false,wwwTextFormatMetadata:null}};f.exports=q}),null);
__d('CameraPostNoViewsLeft.react',['ix','cx','fbt','React','fbglyph','Image.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=function l(m){var n=j._("Solo puedes ver fotos y v\u00eddeos en privado hasta 24 horas despu\u00e9s de abrirlos."),o=j._("Solo puedes ver las fotos y los v\u00eddeos en privado una vez m\u00e1s despu\u00e9s de abrirlos.");return c('React').createElement('div',{className:"_4tkv"},c('React').createElement('div',{className:"_1ael"},c('React').createElement('div',{className:"_d0c"},c('React').createElement(c('Image.react'),{className:"_d0d",src:h("124408")}),c('React').createElement('div',{className:"_d0e"},m.in24hEphExp?n:o))))};f.exports=k}),null);
__d("CameraPostSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAMERA_SYSTEM:"CAMERA_SYSTEM",NEWSFEED:"NEWSFEED",INSTAGRAM:"INSTAGRAM",MESSENGER:"MESSENGER"})}),null);
__d('CameraPostOwnerInfo.react',['cx','fbt','React','CameraPostSource','formatDate','Timestamp.react','Tooltip.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=function q(r,s,t){var u=[];s.forEach(function(v){u.push(v[t])});return u},k=function q(r,s,t){var u=[];s.forEach(function(v){if(v.id!==r)u.push(v[t]);});return u},l=function q(r,s,t){var u=j(r,s,t);return u.join(', ')},m=function q(r,s,t){var u=k(r,s,t),v=u.reduce(function(w,x){if(w.showingNames==='')return {showingNames:x,others:w.others};if((w.showingNames+', '+x).length<20)return {showingNames:w.showingNames+', '+x,others:w.others};return {showingNames:w.showingNames,others:w.others+1}},{showingNames:'',others:0});if(v.others>0)return i._({"s":"{names_of_members} y {num_others} miembro m\u00e1s","p":"{names_of_members} y {num_others} miembros m\u00e1s"},[i.param('names_of_members',v.showingNames),i.param('num_others',v.others),i['enum'](v.others===1?'s':'p',{s:'other',p:'others'})]);return v.showingNames},n=function q(r,s,t,u){if(t!==''&&t!==null)return t;return m(r,s,u)},o=function q(r,s,t){var u=l(r,s,t);return c('React').createElement('div',null,c('React').createElement('p',{className:"_3gpm"},i._("Miembros del grupo")),c('React').createElement('p',{className:"_3gpn"},u))},p=function q(r){var s=r.id,t=r.name,u=r.time,v=r.cameraPostType,w=r.cameraPostSource,x=r.participants,y=r.groupName,z=function ca(){if(v==='GROUP_DIRECT'){return c('React').createElement('p',{className:"_2in7"},t,c('React').createElement('span',{className:"_3gpo"},'\u00A0to\u00A0'),c('React').createElement(c('Tooltip.react'),{tooltip:o(s,x,'name'),position:'below'},n(s,x,y,'short_name')))}else return c('React').createElement('p',{className:"_2in7"},t);},aa=c('React').createElement(c('Timestamp.react'),{autoUpdate:true,time:u,text:c('formatDate')(u,'M j, Y',{utc:true})}),ba=function ca(){if(w===c('CameraPostSource').INSTAGRAM)return c('React').createElement('div',{className:"_2in8"},aa,'\u00A0 \u2022 \u00A0',i._("Instagram"));return c('React').createElement('div',{className:"_2in8"},aa)};return c('React').createElement('div',{className:"_60x1"},z(),ba())};f.exports=p}),null);
__d('CameraPostOwnerPic.react',['cx','React','Image.react','Tooltip.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=k.profile_picture,m=k.name;if(!l)return null;return c('React').createElement(c('Tooltip.react'),{tooltip:m,position:'left'},c('React').createElement(c('Image.react'),{src:l.uri,className:"_116u"}))};f.exports=i}),null);
__d('CameraPostOwnerView.react',['cx','CameraPostTypes','React','CameraEventPostOwnerInfo.react','CameraEventPostOwnerPic.react','CameraPostOwnerPic.react','CameraPostOwnerInfo.react','CameraPostBucketOwnerHelper','CameraPostThreadOwnerHelper'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=k.bucketOwner,m=k.threadOwner,n=k.time,o=k.cameraPostType,p=k.cameraPostSource,q=k.participants,r=k.groupName,s=c('CameraPostBucketOwnerHelper').getId(l),t=c('CameraPostBucketOwnerHelper').getName(l);switch(o){case c('CameraPostTypes').EVENT_STORY:var u=c('CameraPostThreadOwnerHelper').getName(m),v={uri:c('CameraPostThreadOwnerHelper').getProfilePictureUri(m)},w={uri:c('CameraPostBucketOwnerHelper').getCoverPhotoUri(l)};return c('React').createElement('div',{className:"_116v"},c('React').createElement(c('CameraEventPostOwnerPic.react'),{bucketOwnerName:t,bucketProfilePicture:w,threadProfilePicture:v}),c('React').createElement(c('CameraEventPostOwnerInfo.react'),{bucketOwnerName:t,threadOwnerName:u,time:n}));}var w={uri:c('CameraPostBucketOwnerHelper').getProfilePictureUri(l)};return c('React').createElement('div',{className:"_116v"},c('React').createElement(c('CameraPostOwnerPic.react'),{profile_picture:w,name:t}),c('React').createElement(c('CameraPostOwnerInfo.react'),{id:s,name:t,time:n,cameraPostType:o,cameraPostSource:p,participants:q||[],groupName:r||''}))};f.exports=i}),null);
__d('CameraPostReplyText.react',['cx','React','formatDate','Image.react','TextWithEmoticons.react','Timestamp.react','Tooltip.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=k.reply,m=c('React').createElement(c('Tooltip.react'),{tooltip:l.camera_post_message_owner.name,alignH:'right'},c('React').createElement(c('Image.react'),{src:l.camera_post_message_owner.profile_picture.uri,className:"_5_nx"})),n=c('React').createElement(c('Tooltip.react'),{tooltip:c('React').createElement(c('Timestamp.react'),{autoUpdate:true,time:l.time,text:c('formatDate')(l.time,'M j, Y',{utc:true}),className:"_3gpn"}),position:'right'},c('React').createElement('div',{className:"_1gr4"},c('React').createElement('div',{className:"_5_ny"},c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:l.message_text}))));return c('React').createElement('div',{className:"_1gr5"},m,n)};f.exports=i}),null);
__d('CameraPostReplyTexts.react',['cx','fbt','React','ReactCSSTransitionGroup','CameraPostReplyText.react','ShimButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"};j=babelHelpers.inherits(n,l);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.$CameraPostReplyTexts1=this.$CameraPostReplyTexts1.bind(this)}n.prototype.$CameraPostReplyTexts1=function(){var o=this.refs.replyTexts;o.scrollTop=o.scrollHeight};n.prototype.componentDidMount=function(){var o=this;setTimeout(function(){o.$CameraPostReplyTexts1()},0)};n.prototype.componentDidUpdate=function(){this.$CameraPostReplyTexts1()};n.prototype.render=function(){var o=this.props,p=o.replies,q=o.show,r=o.onClickShowReplies,s=o.onClickHideReplies;if(p.length===0)return c('React').createElement('div',{className:"_2njg",ref:'replyTexts'});if(p.length>0&&!q){if(p.length===1)return c('React').createElement('div',{className:"_2njg",ref:'replyTexts'},c('React').createElement(c('ShimButton.react'),{className:"_j39",form:'link',onClick:r},i._("Ver una respuesta")));return c('React').createElement('div',{className:"_2njg",ref:'replyTexts'},c('React').createElement(c('ShimButton.react'),{className:"_j39",form:'link',onClick:r},i._("Ver {number of replies} respuestas",[i.param('number of replies',p.length)])))}return c('React').createElement('div',{className:"_2njg",ref:'replyTexts'},c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:m,transitionEnterTimeout:200,transitionLeaveTimeout:200},p.map(function(t){return c('React').createElement(c('CameraPostReplyText.react'),{reply:t,key:t.id})})),c('React').createElement(c('ShimButton.react'),{className:"_j39",form:'link',onClick:s},i._("Ocultar respuestas")))};f.exports=n}),null);
__d('CameraPostReportButton.react',['ix','cx','fbt','AsyncDialog','AsyncRequest','NFXStoryLocation','React','fbglyph','Image.react','PopoverMenu.react','ReactMenu','ReactXUIMenu'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('ReactMenu').Item,l='/ajax/nfx/start_dialog',m='/ajax/bugs/report',n='342047509524458',o=function p(q){var r=function v(){c('AsyncDialog').send(new (c('AsyncRequest'))().setData({reportable_ent_token:q.threadID.toString(),story_location:c('NFXStoryLocation').DIRECT_MESSAGING}).setURI(l))},s=function v(){c('AsyncDialog').send(new (c('AsyncRequest'))().setData({product_category_id:n}).setURI(m))},t=[].concat(q.children||[],[q.contentReportFbt?c('React').createElement(k,{onClick:r,key:'report'},c('React').createElement(c('Image.react'),{src:h("113891")}),q.contentReportFbt):null,c('React').createElement(k,{onClick:s,key:'bug'},c('React').createElement(c('Image.react'),{src:h("112874")}),j._("Algo no funciona"))]),u=c('React').createElement(c('ReactXUIMenu'),{className:"_610-",onItemClick:q.onPopoverItemClick},t);return c('React').createElement('div',{className:"_4q7o"},c('React').createElement(c('PopoverMenu.react'),{alignv:'bottom',alignh:'center',menu:u,position:'below',onItemClick:q.onPopoverItemClick,onShow:q.onPopoverShow,onHide:q.onPopoverHide},c('React').createElement('a',{href:'#'},c('React').createElement(c('Image.react'),{src:h("114186")}))))};f.exports=o}),null);
__d('CameraPostSendReply.react',['cx','fbt','React','emptyFunction','Image.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$CameraPostSendReply1=function(o){this.setState({replyText:o.target.value})}.bind(this);this.$CameraPostSendReply2=function(event){if(event.key==='Enter'){this.props.onReplyEntered(this.state.replyText);this.setState({replyText:''})}}.bind(this);this.$CameraPostSendReply4=function(o){return this.$CameraPostSendReply3=o}.bind(this);this.state={replyText:''}}m.prototype.componentDidMount=function(){if(this.props.focused){this.$CameraPostSendReply3.focus()}else this.$CameraPostSendReply3.blur();};m.prototype.componentDidUpdate=function(){if(this.props.focused){this.$CameraPostSendReply3.focus()}else this.$CameraPostSendReply3.blur();};m.prototype.render=function(){return c('React').createElement('div',{className:"_2dvt"},c('React').createElement('div',{className:"_2dv-"},c('React').createElement(c('Image.react'),{src:this.props.replyProfilePic,className:"_2dv_"})),c('React').createElement('div',{className:"_2dw0"},c('React').createElement('input',{placeholder:i._("Escribe una respuesta..."),ref:this.$CameraPostSendReply4,value:this.state.replyText,onChange:this.$CameraPostSendReply1,onFocus:this.props.onFocusInput,onBlur:this.props.onBlurInput,onKeyDown:this.$CameraPostSendReply2,onMouseUp:this.$CameraPostSendReply5})))};m.prototype.$CameraPostSendReply5=function(n){n.preventDefault();n.stopPropagation()};m.defaultProps={onFocusInput:c('emptyFunction'),onBlurInput:c('emptyFunction'),onMouseUp:c('emptyFunction')};f.exports=m}),null);
__d('DirectCameraPostEphemeralityNUX.react',['cx','fbt','React','SimpleNUXMessage','SimpleNUXMessageTypes','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={nuxShown:!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').FB_DIRECT_WEB_EPHEMERALITY)},this.$DirectCameraPostEphemeralityNUX1=function(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').FB_DIRECT_WEB_EPHEMERALITY);this.setState({nuxShown:false})}.bind(this),o}m.prototype.renderLayers=function(){var n=c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.nuxPosition}.bind(this),position:'left',shown:this.state.nuxShown,onCloseButtonClick:this.$DirectCameraPostEphemeralityNUX1,key:'ambientNUX'},'After you close this, you can see it again for the next 24 hours.'),o=c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.nuxPosition}.bind(this),position:'left',shown:this.state.nuxShown,onCloseButtonClick:this.$DirectCameraPostEphemeralityNUX1,key:'ambientNUX'},i._("Cuando la hayas cerrado, podr\u00e1s verla una vez m\u00e1s durante un plazo de 24 horas."));return this.props.in24hEphExp?n:o};m.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement('div',{ref:'nuxPosition',className:"_s6_"}),this.renderLayers())};f.exports=m}),null);
__d('DirectCameraPost.react',['cx','fbt','React','CameraPostMedia.react','CameraPostOwnerView.react','CameraPostReplyTexts.react','CameraPostReportButton.react','CameraPostSendReply.react','DirectCameraPostEphemeralityNUX.react','VideoPlayerController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$DirectCameraPost2=function(){this.setState({isShowingReplies:false})}.bind(this);this.$DirectCameraPost3=function(){this.setState({isShowingReplies:true})}.bind(this);this.$DirectCameraPost4=function(){this.setState({isReplyFocused:true},this.$DirectCameraPost3)}.bind(this);this.$DirectCameraPost5=function(){this.setState({isReplyFocused:false})}.bind(this);this.$DirectCameraPost1=function(o){this.setState({isPostMuted:!this.state.isPostMuted})}.bind(this);this.state={isShowingReplies:true,isReplyFocused:false,isPostMuted:false}}m.prototype.render=function(){var n=this.props,o=n.cameraPostType,p=n.cameraPostSource,q=n.media,r=n.owner,s=n.time,t=n.replies,u=n.replyProfileName,v=n.replyProfilePic,w=n.userID,x=n.threadID,y=n.onReplyEntered,z=n.participants,aa=n.groupName,ba=n.in24hEphExp,ca=n.satpData,da=this.state,ea=da.isShowingReplies,fa=da.isPostMuted;return c('React').createElement('div',{className:"_4tkv"},c('React').createElement(c('DirectCameraPostEphemeralityNUX.react'),{in24hEphExp:ba}),c('React').createElement(c('CameraPostMedia.react'),{media:q,showOverlay:ea&&t.length>0,loop:true,cameraPostType:o,userID:w,threadID:x,isMediaMuted:fa,onMuteMouseUp:this.$DirectCameraPost1,satpData:ca}),c('React').createElement(c('CameraPostOwnerView.react'),{bucketOwner:r,threadOwner:r,time:s,cameraPostType:o,cameraPostSource:p,participants:z,groupName:aa}),c('React').createElement(c('CameraPostReportButton.react'),{threadID:x,contentReportFbt:i._("Denunciar")}),c('React').createElement(c('CameraPostReplyTexts.react'),{onClickHideReplies:this.$DirectCameraPost2,onClickShowReplies:this.$DirectCameraPost3,replies:t,show:ea}),c('React').createElement(c('CameraPostSendReply.react'),{cameraPostType:o,focused:this.state.isReplyFocused,onReplyEntered:y,onFocusInput:this.$DirectCameraPost4,onBlurInput:this.$DirectCameraPost5,threadID:x,replyProfileName:u,replyProfilePic:v,userID:w}))};f.exports=m}),null);
__d('CameraPostTheater.react',['CameraPostWWWTypedLogger','CameraPostLoggingEvents','React','createCancelableFunction','idx','Random','DirectCameraPost.react','CameraPostNoViewsLeft.react','CameraPostGraphQLAPI'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component,k=1000,l=1000;h=babelHelpers.inherits(m,j);i=h&&h.prototype;function m(n){i.constructor.call(this,n);this.$CameraPostTheater3=function(o){if(o!==''){this.$CameraPostTheater10(o);var p=this.props,q=p.userID,r=p.threadID;c('CameraPostGraphQLAPI').sendDirectReply(q,r,o,this.state.camera_post_type).done(this.$CameraPostTheater11)}}.bind(this);this.$CameraPostTheater14=c('createCancelableFunction')(function(){this.setState({isSeen:true})}.bind(this));this.$CameraPostTheater11=c('createCancelableFunction')(function(){this.$CameraPostTheater7()}.bind(this));this.$CameraPostTheater8=c('createCancelableFunction')(function(o){var p,q=(p=o)!=null?(p=p.node)!=null?(p=p.direct_messages)!=null?p.nodes:p:p:p;if(q==null)q=[];q=q.reverse().slice(1);this.setState({replies:q})}.bind(this));this.$CameraPostTheater9=c('createCancelableFunction')(function(o){return false});this.$CameraPostTheater4=c('createCancelableFunction')(function(o){var p,q,r,s,t,u,v,w,x,y,z,aa,ba=(p=o)!=null?(p=p.node)!=null?p.camera_post_type:p:p,ca=(q=o)!=null?(q=q.node)!=null?q.post_source:q:q,da=(r=o)!=null?(r=r.node)!=null?(r=r.root_message)!=null?r.message_media:r:r:r,ea=(s=o)!=null?(s=s.node)!=null?(s=s.root_message)!=null?s.camera_post_message_owner:s:s:s,fa=(t=o)!=null?(t=t.node)!=null?t.viewer_replays_left:t:t,ga=(u=o)!=null?(u=u.node)!=null?u.latest_message:u:u,ha=(v=o)!=null?(v=v.node)!=null?(v=v.root_message)!=null?v.time:v:v:v,ia=(w=o)!=null?(w=w.node)!=null?(w=w.direct_participants)!=null?w.nodes:w:w:w,ja=(x=o)!=null?(x=x.node)!=null?x.group_name:x:x,ka=(y=o)!=null?(y=y.node)!=null?(y=y.root_message)!=null?y.message_text:y:y:y,la=(z=o)!=null?(z=z.node)!=null?(z=z.root_message)!=null?z.www_text_format_metadata:z:z:z,ma=(aa=o)!=null?(aa=aa.node)!=null?(aa=aa.direct_messages)!=null?aa.nodes:aa:aa:aa;if(ma==null)ma=[];ma=ma.reverse().slice(1);this.setState({camera_post_type:ba,post_source:ca,message_media:da,camera_post_message_owner:ea,time:ha,replies:ma.length>this.state.replies.length?ma:this.state.replies,isLoaded:true,latest_message:ga,viewer_replays_left:fa,participants:ia,group_name:ja,message_text:ka,www_text_format_metadata:la},function(){if(!this.state.isSeen){var na=this.props.in24hEphExp&&this.state.viewer_replays_left<=1,oa=na;if(!oa)this.$CameraPostTheater13();}}.bind(this))}.bind(this));this.$CameraPostTheater5=c('createCancelableFunction')(function(o){var p,q;this.setState({replyProfileName:(p=o)!=null?(p=p.me)!=null?p.name:p:p,replyProfilePic:(q=o)!=null?(q=q.me)!=null?(q=q.profile_picture)!=null?q.uri:q:q:q})}.bind(this));this.$CameraPostTheater6=c('createCancelableFunction')(function(o){});this.state={camera_post_type:null,post_source:null,message_media:null,camera_post_message_owner:null,time:null,replies:[],replyProfileName:null,replyProfilePic:null,isLoaded:false,isSeen:false,viewer_replays_left:null,participants:null,group_name:null,www_text_format_metadata:null,message_text:''};this.logSpotlightHide=this.logSpotlightHide.bind(this)}m.prototype.componentDidMount=function(){this.$CameraPostTheater1();this.$CameraPostTheater2()};m.prototype.render=function(){if(!this.state.isLoaded)return null;var n=this.props,o=n.userID,p=n.threadID,q=n.in24hEphExp,r=n.showSATPNativeRender,s=this.state,t=s.camera_post_type,u=s.post_source,v=s.message_media,w=s.camera_post_message_owner,x=s.time,y=s.replies,z=s.replyProfileName,aa=s.replyProfilePic,ba=s.participants,ca=s.group_name,da=s.viewer_replays_left,ea=s.www_text_format_metadata,fa=s.message_text,ga={rootMessageText:fa,showSATPNativeRender:r,wwwTextFormatMetadata:ea};return da===0?c('React').createElement(c('CameraPostNoViewsLeft.react'),{in24hEphExp:q}):c('React').createElement(c('DirectCameraPost.react'),{cameraPostType:t,cameraPostSource:u,media:v,owner:w,time:x,replies:y,replyProfileName:z,replyProfilePic:aa,userID:o,threadID:p,participants:ba,groupName:ca,onReplyEntered:this.$CameraPostTheater3,in24hEphExp:q,satpData:ga})};m.prototype.logSpotlightHide=function(){var n=this.props,o=n.userID,p=n.threadID;new (c('CameraPostWWWTypedLogger'))().setCameraPostType(this.state.camera_post_type).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').DIRECT_VIEWER_CLICKOUT).setEventDetails(0).setViewerID(o).setThreadID(p).log()};m.prototype.$CameraPostTheater1=function(){c('CameraPostGraphQLAPI').loadThreadFullInformation(this.props.userID,this.props.threadID).done(this.$CameraPostTheater4)};m.prototype.$CameraPostTheater2=function(){c('CameraPostGraphQLAPI').loadUserInfo().done(this.$CameraPostTheater5,this.$CameraPostTheater6)};m.prototype.$CameraPostTheater7=function(){c('CameraPostGraphQLAPI').loadRepliesForThread(this.props.threadID).done(this.$CameraPostTheater8,this.$CameraPostTheater9)};m.prototype.$CameraPostTheater10=function(n){var o=Date.now()/l,p={id:this.$CameraPostTheater12(),camera_post_message_owner:{name:this.state.replyProfileName,profile_picture:{uri:this.state.replyProfilePic}},message_text:n,time:o};if(!this.state.replies){this.setState({replies:[p]})}else this.setState({replies:[].concat(this.state.replies,[p])});};m.prototype.$CameraPostTheater12=function(){return Math.floor(c('Random').random()*k)};m.prototype.$CameraPostTheater13=function(){var n,o=this.props,p=o.userID,q=o.threadID,r=((n=this.state.latest_message)!=null?n.id:n)||null;c('CameraPostGraphQLAPI').markThreadSeen(p,q,r,this.state.camera_post_type,this.state.viewer_replays_left).done(this.$CameraPostTheater14)};m.prototype.componentWillUnmount=function(){this.$CameraPostTheater4.cancel();this.$CameraPostTheater14.cancel();this.$CameraPostTheater11.cancel();this.$CameraPostTheater5.cancel();this.$CameraPostTheater6.cancel();this.$CameraPostTheater8.cancel();this.$CameraPostTheater9.cancel()};f.exports=m}),null);
__d('ManagedSpotlightViewer',['ge','DOM','React','ReactDOM','SpotlightViewer','SpotlightViewerClose'],(function a(b,c,d,e,f,g){'use strict';f.exports={ref:null,bootstrap:function h(i){var j=i.wrappedComponent,k=i.props,l=c('React').createElement(j,babelHelpers['extends']({},k,{ref:function(m){this.ref=m}.bind(this)}));this.renderComponent(l)},renderComponent:function h(i){var j=false,k=function(){if(this.ref&&Object.prototype.hasOwnProperty.call(this.ref,'logSpotlightHide')&&!j){this.ref.logSpotlightHide();j=true}c('ReactDOM').unmountComponentAtNode(l);if(document.body&&l.parentNode===document.body)document.body.removeChild(l);}.bind(this),l=c('ge')('spotlight_viewer_container');if(!l){l=c('DOM').create('div',{id:'spotlight_viewer_container'});if(document.body)document.body.appendChild(l);}var m=c('React').createElement(c('SpotlightViewer'),{open:true,onHide:k},c('React').createElement(c('SpotlightViewerClose'),{isFixed:true,position:'right',onClick:k}),i);c('ReactDOM').render(m,l)}}}),null);