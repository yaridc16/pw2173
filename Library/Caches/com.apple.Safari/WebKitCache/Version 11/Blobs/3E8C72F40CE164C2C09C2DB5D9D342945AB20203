YUI.add("td-applet-trending-atomic-mainview",function(e,t){var n="container",r=".trending-list",i=".trending-title",s=".tn-title",o="data-category",u="data-title",a="selected",f="blur",l=typeof window.requestAnimationFrame=="function";e.namespace("TD.Applet").TrendingAtomicMainView=e.Base.create("TDAppletTrendingAtomicMainView",e.Af.AppletView,[],{initializer:function(t){var s=this,u=s.get(n),f=u?u.all(i):[],l=u?u.all(r):[];s.guid=t.guid,s.config=e.Af.Bootstrap.getViewMeta(s.guid,"main").config||{},s.currentCategory=null,s.categories=[],s.titleNodes={},s.listNodes={},s._handles=[],e.each(f,function(e){var t=e.getAttribute(o);s.categories.push(t),s.titleNodes[t]=e,e.hasClass(a)&&t&&(s.currentCategory=t)}),e.each(l,function(e){var t=e.getAttribute(o);s.listNodes[t]=e}),s.config.rotationEnabled&&s.categories.length>1&&(s.rotateTimerEvent=null,s._handles.push(u.on("mouseenter",e.bind(s.stopRotation,s))),s._handles.push(u.on("mouseleave",e.bind(s.startRotation,s))),s.startRotation()),s.config.clickableTitles&&s.categories.length>1&&s._handles.push(u.delegate("click",e.bind(s.handleSelect,s),i))},startRotation:function(){var t=this,n=t.config.rotationInterval||15e3;t.rotateTimerEvent=e.later(n,t,t.rotate,[],!0)},stopRotation:function(){var e=this;e.rotateTimerEvent.cancel(),e.rotateTimerEvent=null},rotate:function(){var t=this,n=t.categories.shift();t.categories.push(n),l?window.requestAnimationFrame(e.bind(function(){t.toggleCategory(n)},t)):t.toggleCategory(n)},handleSelect:function(e){var t=this,n=e.currentTarget.getAttribute(o);if(n===t.currentCategory)return;l?window.requestAnimationFrame(function(){t.toggleCategory(n)}):t.toggleCategory(n)},toggleCategory:function(t){var n=this;if(!n.currentCategory||!t||n.currentCategory===t)return;n.show(n.titleNodes[t]),n.hide(n.titleNodes[n.currentCategory]),e.one(s)&&e.one(s).setHTML(n.titleNodes[t].getAttribute(u)),n.show(n.listNodes[t]),n.hide(n.listNodes[n.currentCategory]),n.currentCategory=t},show:function(e){e&&e.removeClass(f).addClass(a)},hide:function(e){e&&e.removeClass(a).addClass(f)},destructor:function(){e.Array.each(this._handles,function(e){e.detach()}),this._handles=[]}})},"@VERSION@",{requires:["af-applet-view","node"]});
YUI.add("td-applet-trending-atomic-templates-partials-categorization_header",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,i){return e.write('<h2 class="Fz(15px) D(b) Ell Ov(v)"><span class="tn-title D(ib) Miw(120px) C($trendingHeader) Fw(b) Trs($trendTrs)">').helper("i18n_string",i,{},{_key:"TRENDING_NOW"}).write('</span><span class="trending-title Cur(p) D(ib) Mstart(8px) selected" data-category="slingstone" data-title="').helper("i18n_string",i,{},{_key:"TRENDING_NOW"}).write('"><button class="blur_C($defaultIcon) Trs($trendTrs) Pos(r) Px(6px)"  data-ylk="m:tn;ct:all"><i class="trending-title:h_C($selectedIcon) Icon-Fp2 IconTrending selected_C($selectedIcon) Fz(16px) Fw(100) Pos(r)"></i></button></span>').section(i.get("hasCelebrities"),i,{block:t},null).section(i.get("hasNews"),i,{block:n},null).section(i.get("hasSports"),i,{block:r},null).write('<span class="trending-title Cur(p) D(ib) blur" data-category="gifts" data-title="').helper("i18n_string",i,{},{_key:"TRENDING_DEALS"}).write('"><button class="blur_C($defaultIcon) Trs($trendTrs) Pos(r) Px(6px)" data-ylk="m:tn;ct:gift"><i class="trending-title:h_C($selectedIcon) Icon-Fp2 IconShopping selected_C($selectedIcon) Fz(16px) Fw(100) Pos(r)"></i></button></span></h2>').write("\n")}function t(e,t){return e.write('<span class="trending-title Cur(p) D(ib) blur" data-category="stars" data-title="').helper("i18n_string",t,{},{_key:"TRENDING_STARS"}).write('"><button class="blur_C($defaultIcon) Trs($trendTrs) Pos(r) Px(6px)" data-ylk="m:tn;ct:clb"><i class="trending-title:h_C($selectedIcon) Icon-Fp2 IconStarFilled selected_C($selectedIcon) Fz(16px) Fw(100) Pos(r)"></i></button></span>')}function n(e,t){return e.write('<span class="trending-title Cur(p) D(ib) blur" data-category="news" data-title="').helper("i18n_string",t,{},{_key:"TRENDING_NEWS"}).write('"><button class="blur_C($defaultIcon) Trs($trendTrs) Pos(r) Px(6px)" data-ylk="m:tn;ct:news"><i class="trending-title:h_C($selectedIcon) Icon-Fp2 IconNews selected_C($selectedIcon) Fz(16px) Fw(100) Pos(r)"></i></button></span>')}function r(e,t){return e.write('<span class="trending-title Cur(p) D(ib) blur" data-category="sports" data-title="').helper("i18n_string",t,{},{_key:"TRENDING_SPORTS"}).write('"><button class="blur_C($defaultIcon) Trs($trendTrs) Pos(r) Px(6px)" data-ylk="m:tn;ct:sprt"><i class="trending-title:h_C($selectedIcon) Icon-Fp2 IconSports selected_C($selectedIcon) Fz(16px) Fw(100) Pos(r)"></i></button></span>')}return dust.register("td-applet-trending-atomic-templates-partials-categorization_header",e),e}()}(),dust.cache["td-applet-trending-atomic:partials/categorization_header.dust"]=dust.cache["td-applet-trending-atomic:partials/categorization_header"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-trending-atomic/templates/partials/categorization_header"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-trending-atomic-templates-partials-categorization_body",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<ul class="Pos(r) Mt(10px)">').write("\n    ").write('<li class="trending-list selected" data-category="slingstone">').write("\n        ").write('<ul class="M(0) ua-ie8_W(100%) ua-ie7_W(100%) blur_V(h) blur_Op(0) selected_Op(1) Trs($trendTrs)">').section(n.get("mainTabTerms"),n,{block:t},null).write("</ul>").write("\n    ").write("</li>").section(n.get("hasCelebrities"),n,{block:i},null).section(n.get("hasNews"),n,{block:a},null).section(n.get("hasSports"),n,{block:h},null).write('<li class="trending-list blur Pos(a) T(0) W(100%)" data-category="gifts">').write("\n        ").write('<ul class="M(0) ua-ie8_W(100%) ua-ie7_W(100%) blur_V(h) blur_Op(0) selected_Op(1) blur_H(0) Ov(h) Trs($trendTrs)">').section(n.get("giftsTerms"),n,{block:m},null).write("</ul>").write("\n    ").write("</li></ul>").write("\n")}function t(e,t){return e.write('<li class="trending-item Pt(7px) D(ib) Bxz(bb) W(50%) ').helper("lt",t,{block:n},{key:t.get("$idx"),value:t.getPath(!1,["config","ui","columnSize"])}).write(' ua-ie7_Pend(5px)">').write("\n                ").write('<a href="').reference(t.get("link"),t,"h").write('" class="Td(n):h C($link) Ell D(ib)" title="').reference(t.get("text"),t,"h",["s"]).write('" ').helper("rapid_data_attr",t,{},{"rapid-base":t.get("i13n"),elm:"itm",elmt:"topic",itc:"0"}).write(">").write("\n                    ").write('<span class="trending-item:h_Bgc($itemColor').reference(t.get("$idx"),t,"h").write(") trending-item:h_C(#fff) trending-item:h_Bdc($itemColor").reference(t.get("$idx"),t,"h").write(") C($itemColor").reference(t.get("$idx"),t,"h").write(') Fz(11px) Lh(17px) D(ib) W(1.5em) Ta(c) Bdrs(18px) Bd Bdw(1px)">').helper("math",t,{},{key:r,method:"add",operand:"1"}).write('</span><span class="trending-item:h_C($itemColor').reference(t.get("$idx"),t,"h").write(') C($searchTerm) Mstart(2px) Fw(b) Fz(13px)"> ').reference(t.get("text"),t,"h",["s"]).write("</span>").write("\n                ").write("</a>").write("\n            ").write("</li>")}function n(e,t){return e.write(" Fl(start) Cl(start)")}function r(e,t){return e.reference(t.get("$idx"),t,"h")}function i(e,t){return e.write('<li class="trending-list blur Pos(a) T(0) W(100%)" data-category="stars">').write("\n        ").write('<ul class="M(0) ua-ie8_W(100%) ua-ie7_W(100%) blur_V(h) blur_Op(0) selected_Op(1) blur_H(0) Ov(h) Trs($trendTrs)">').section(t.get("celebrityTerms"),t,{block:s},null).write("</ul>").write("\n    ").write("</li>")}function s(e,t){return e.write('<li class="trending-item Pt(7px) D(ib) Bxz(bb) W(50%) ').helper("lt",t,{block:o},{key:t.get("$idx"),value:t.getPath(!1,["config","ui","columnSize"])}).write(' ua-ie7_Pend(5px)">').write("\n                ").write('<a href="').reference(t.get("link"),t,"h").write('" class="Td(n):h C($link) Ell D(ib)" title="').reference(t.get("text"),t,"h",["s"]).write('" ').helper("rapid_data_attr",t,{},{"rapid-base":t.get("i13n"),elm:"itm",elmt:"topic",itc:"0"}).write(">").write("\n                    ").write('<span class="trending-item:h_Bgc($itemColor').reference(t.get("$idx"),t,"h").write(") trending-item:h_C(#fff) trending-item:h_Bdc($itemColor").reference(t.get("$idx"),t,"h").write(") C($itemColor").reference(t.get("$idx"),t,"h").write(') Fz(11px) Lh(17px) D(ib) W(1.5em) Ta(c) Bdrs(18px) Bd Bdw(1px)">').helper("math",t,{},{key:u,method:"add",operand:"1"}).write('</span><span class="trending-item:h_C($itemColor').reference(t.get("$idx"),t,"h").write(') C($searchTerm) Mstart(2px) Fw(b)"> ').reference(t.get("text"),t,"h",["s"]).write("</span>").write("\n                ").write("</a>").write("\n            ").write("</li>")}function o(e,t){return e.write(" Fl(start) Cl(start)")}function u(e,t){return e.reference(t.get("$idx"),t,"h")}function a(e,t){return e.write('<li class="trending-list blur Pos(a) T(0) W(100%)" data-category="news">').write("\n        ").write('<ul class="M(0) ua-ie8_W(100%) ua-ie7_W(100%) blur_V(h) blur_Op(0) selected_Op(1) blur_H(0) Ov(h) Trs($trendTrs)">').section(t.get("newsTerms"),t,{block:f},null).write("</ul>").write("\n    ").write("</li>")}function f(e,t){return e.write('<li class="trending-item Pt(7px) D(ib) Bxz(bb) W(50%) ').helper("lt",t,{block:l},{key:t.get("$idx"),value:t.getPath(!1,["config","ui","columnSize"])}).write(' ua-ie7_Pend(5px)">').write("\n                ").write('<a href="').reference(t.get("link"),t,"h").write('" class="Td(n):h C($link) Ell D(ib)" title="').reference(t.get("text"),t,"h",["s"]).write('" ').helper("rapid_data_attr",t,{},{"rapid-base":t.get("i13n"),elm:"itm",elmt:"topic",itc:"0"}).write(">").write("\n                    ").write('<span class="trending-item:h_Bgc($itemColor').reference(t.get("$idx"),t,"h").write(") trending-item:h_C(#fff) trending-item:h_Bdc($itemColor").reference(t.get("$idx"),t,"h").write(") C($itemColor").reference(t.get("$idx"),t,"h").write(') Fz(11px) Lh(17px) D(ib) W(1.5em) Ta(c) Bdrs(18px) Bd Bdw(1px)">').helper("math",t,{},{key:c,method:"add",operand:"1"}).write('</span><span class="trending-item:h_C($itemColor').reference(t.get("$idx"),t,"h").write(') C($searchTerm) Mstart(2px) Fw(b)"> ').reference(t.get("text"),t,"h",["s"]).write("</span>").write("\n                ").write("</a>").write("\n            ").write("</li>")}function l(e,t){return e.write(" Fl(start) Cl(start)")}function c(e,t){return e.reference(t.get("$idx"),t,"h")}function h(e,t){return e.write('<li class="trending-list blur Pos(a) T(0) W(100%)" data-category="sports">').write("\n        ").write('<ul class="M(0) ua-ie8_W(100%) ua-ie7_W(100%) blur_V(h) blur_Op(0) selected_Op(1) blur_H(0) Ov(h) Trs($trendTrs)">').section(t.get("sportsTerms"),t,{block:p},null).write("</ul>").write("\n    ").write("</li>")}function p(e,t){return e.write('<li class="trending-item Pt(7px) D(ib) Bxz(bb) W(50%) ').helper("lt",t,{block:d},{key:t.get("$idx"),
value:t.getPath(!1,["config","ui","columnSize"])}).write(' ua-ie7_Pend(5px)">').write("\n                ").write('<a href="').reference(t.get("link"),t,"h").write('" class="Td(n):h C($link) Ell D(ib)" title="').reference(t.get("text"),t,"h",["s"]).write('" ').helper("rapid_data_attr",t,{},{"rapid-base":t.get("i13n"),elm:"itm",elmt:"topic",itc:"0"}).write(">").write("\n                    ").write('<span class="trending-item:h_Bgc($itemColor').reference(t.get("$idx"),t,"h").write(") trending-item:h_C(#fff) trending-item:h_Bdc($itemColor").reference(t.get("$idx"),t,"h").write(") C($itemColor").reference(t.get("$idx"),t,"h").write(') Fz(11px) Lh(17px) D(ib) W(1.5em) Ta(c) Bdrs(18px) Bd Bdw(1px)">').helper("math",t,{},{key:v,method:"add",operand:"1"}).write('</span><span class="trending-item:h_C($itemColor').reference(t.get("$idx"),t,"h").write(') C($searchTerm) Mstart(2px) Fw(b)"> ').reference(t.get("text"),t,"h",["s"]).write("</span>").write("\n                ").write("</a>").write("\n            ").write("</li>")}function d(e,t){return e.write(" Fl(start) Cl(start)")}function v(e,t){return e.reference(t.get("$idx"),t,"h")}function m(e,t){return e.write('<li class="trending-item Pt(7px) D(ib) Bxz(bb) W(50%) ').helper("lt",t,{block:g},{key:t.get("$idx"),value:t.getPath(!1,["config","ui","columnSize"])}).write(' ua-ie7_Pend(5px)">').write("\n                ").write('<a href="').reference(t.get("link"),t,"h").write('" class="Td(n):h C($link) Ell D(ib)" title="').reference(t.get("text"),t,"h",["s"]).write('" ').helper("rapid_data_attr",t,{},{"rapid-base":t.get("i13n"),elm:"itm",elmt:"topic",itc:"0"}).write(">").write("\n                    ").write('<span class="trending-item:h_Bgc($itemColor').reference(t.get("$idx"),t,"h").write(") trending-item:h_C(#fff) trending-item:h_Bdc($itemColor").reference(t.get("$idx"),t,"h").write(") C($itemColor").reference(t.get("$idx"),t,"h").write(') Fz(11px) Lh(17px) D(ib) W(1.5em) Ta(c) Bdrs(18px) Bd Bdw(1px)">').helper("math",t,{},{key:y,method:"add",operand:"1"}).write('</span><span class="trending-item:h_C($itemColor').reference(t.get("$idx"),t,"h").write(') C($searchTerm) Mstart(2px) Fw(b)"> ').reference(t.get("text"),t,"h",["s"]).write("</span>").write("\n                ").write("</a>").write("\n            ").write("</li>")}function g(e,t){return e.write(" Fl(start) Cl(start)")}function y(e,t){return e.reference(t.get("$idx"),t,"h")}return dust.register("td-applet-trending-atomic-templates-partials-categorization_body",e),e}()}(),dust.cache["td-applet-trending-atomic:partials/categorization_body.dust"]=dust.cache["td-applet-trending-atomic:partials/categorization_body"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-trending-atomic/templates/partials/categorization_body"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-trending-atomic-templates-partials-inline_trending",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<div class="inline-tn W(100%)"><h2 class="Fz(15px) Fw(700)"><div class="Mb(8px)"><i class="Icon-Fp2 IconTrending Fz(15px) Pos(r) Mend(6px)"></i>').helper("i18n_string",n,{},{_key:n.getPath(!1,["inlineTnow","title"])}).write('</div></h2><ul class="inline-m P(0) Mt(0) Cl(b) Td(n) Ovy(h) H(4.9em)">').section(n.getPath(!1,["inlineTnow","data"]),n,{block:t},null).write("</ul></div>").write("\n")}function t(e,t){return e.write('<li class="inline-tn-item inline-m_Maw(18%) Fz(13px) Fw(500) Ta(c) ').helper("eq",t,{block:n},{key:t.get("$idx"),value:5}).write(" Bdrs(3px) Bd Bdw(1px) Mb(5px) Mend(5px) C($inlineColor").reference(t.get("$idx"),t,"h").write(") Bgc($inlineHoverColor").reference(t.get("$idx"),t,"h").write('):h Fl(start) Px(5px) Py(5px)"><a class="Ell Ov(h) Td(n):h C($inlineColor').reference(t.get("$idx"),t,"h").write(') inline-tn-item:h_C(#fff) D(b)" href="').reference(t.get("link"),t,"h").write('" title="').reference(t.get("text"),t,"h",["s"]).write('" target="_blank" ').helper("rapid_data_attr",t,{},{"rapid-base":t.get("i13n"),elm:"itm",elmt:"topic",itc:"0"}).write(">").reference(t.get("text"),t,"h",["s"]).write("</a></li>")}function n(e,t){return e.write("Cl(start)")}return dust.register("td-applet-trending-atomic-templates-partials-inline_trending",e),e}()}(),dust.cache["td-applet-trending-atomic:partials/inline_trending.dust"]=dust.cache["td-applet-trending-atomic:partials/inline_trending"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-trending-atomic/templates/partials/inline_trending"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-trending-atomic-templates-main",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,r){return e.write("<div>").notexists(r.getPath(!1,["config","ui","inlineTnEnabled"]),r,{"else":t,block:n},null).write("\n").write("</div>").write("\n")}function t(e,t){return e.partial("partials/inline_trending",t,null)}function n(e,t){return e.exists(t.getPath(!1,["config","ui","titleEnabled"]),t,{block:r},null).notexists(t.getPath(!1,["config","ui","categorizationEnabled"]),t,{"else":h,block:p},null)}function r(e,t){return e.notexists(t.getPath(!1,["config","ui","categorizationEnabled"]),t,{"else":i,block:s},null)}function i(e,t){return e.partial("partials/categorization_header",t,null)}function s(e,t){return e.write('<h2 class="Fz(15px) D(b) Ell Ov(v)"><span class="trending-title Cur(p) D(ib) W(50%) selected" data-category="').reference(t.getPath(!1,["config","ui","mainTabCategory"]),t,"h").write('"><div class="blur_C($disabledHeading) Trs($trendTrs)">').section(t.get("showPersonalTitle"),t,{"else":o,block:u},null).write("</div></span>").exists(t.getPath(!1,["config","ui","secondTabEnabled"]),t,{block:a},null).exists(t.getPath(!1,["config","ui","seachIconEnabled"]),t,{block:c},null).write("</h2>")}function o(e,t){return e.helper("i18n_string",t,{},{_key:t.getPath(!1,["config","ui","titleKey"])})}function u(e,t){return e.helper("i18n_string",t,{},{_key:t.getPath(!1,["config","ui","personalizedTitle"])})}function a(e,t){return e.write('<span class="trending-title Cur(p) D(ib) W(50%) blur" data-category="').reference(t.getPath(!1,["config","ui","secondTabCategory"]),t,"h").write('"><div class="blur_C($disabledHeading) Trs($trendTrs) Pos(r)"><i class="Icon-Fp2 ').reference(t.getPath(!1,["config","ui","secondTabIcon"]),t,"h").write(" selected_C($").reference(t.getPath(!1,["config","ui","secondTabCategory"]),t,"h").write(') Fz(20px) Fw(100) Pos(a) Start(-19px) T(-4px)"></i><span class="Mstart(4px)">').section(t.get("customSecondTabTitle"),t,{"else":f,block:l},null).write("</span></div></span>")}function f(e,t){return e.helper("i18n_string",t,{},{_key:t.getPath(!1,["config","ui","secondTabTitleKey"])})}function l(e,t){return e.reference(t.get("customSecondTabTitle"),t,"h")}function c(e,t){return e.write('<i class="D(ib) Icon-Fp2 IconNavSearch Pstart(4px)"></i>')}function h(e,t){return e.partial("partials/categorization_body",t,null)}function p(e,t){return e.write('<ul class="Pos(r) Mt(10px)">').write("\n        ").write('<li class="trending-list selected" data-category="').reference(t.getPath(!1,["config","ui","mainTabCategory"]),t,"h").write('">').write("\n            ").write('<ul class="M(0) Mstart(-8px) ua-ie8_W(100%) ua-ie7_W(100%) blur_V(h) blur_Op(0) selected_Op(1) Trs($trendTrs)">').section(t.get("mainTabTerms"),t,{block:d},null).write("</ul>").write("\n        ").write("</li>").exists(t.getPath(!1,["config","ui","secondTabEnabled"]),t,{block:g},null).write("</ul>")}function d(e,t){return e.write('<li class="trending-item Pt(7px) D(ib) Bxz(bb) W(50%) ').helper("lt",t,{block:v},{key:t.get("$idx"),value:t.getPath(!1,["config","ui","columnSize"])}).write(' ua-ie7_Pend(5px)">').write("\n                    ").write('<a href="').reference(t.get("link"),t,"h").write('" class="Td(n):h C($link) Fz(13px) Ell D(ib)" title="').reference(t.get("text"),t,"h",["s"]).write('" ').helper("rapid_data_attr",t,{},{"rapid-base":t.get("i13n"),elm:"itm",elmt:"topic",itc:"0"}).write(">").write("\n                        ").write('<span class="D(ib) W(1.3em) Ta(e) C(#000)">').helper("math",t,{},{key:m,method:"add",operand:"1"}).write('.</span><span class="C($searchBlue):h Fw(b) Mstart(2px)"> ').reference(t.get("text"),t,"h",["s"]).write("</span>").write("\n                    ").write("</a>").write("\n                ").write("</li>")}function v(e,t){return e.write(" Fl(start) Cl(start)")}function m(e,t){return e.reference(t.get("$idx"),t,"h")}function g(e,t){return e.write('<li class="trending-list blur Pos(a) T(0) W(100%)" data-category="').reference(t.getPath(!1,["config","ui","secondTabCategory"]),t,"h").write('">').write("\n            ").write('<ul class="M(0) Mstart(-8px) ua-ie8_W(100%) ua-ie7_W(100%) blur_V(h) blur_Op(0) selected_Op(1) blur_H(0) Ov(h) Trs($trendTrs)">').section(t.get("secondTabTerms"),t,{block:y},null).write("</ul>").write("\n        ").write("</li>")}function y(e,t){return e.write('<li class="trending-item Pt(7px) D(ib) Bxz(bb) W(50%) ').helper("lt",t,{block:b},{key:t.get("$idx"),value:t.getPath(!1,["config","ui","columnSize"])}).write(' ua-ie7_Pend(5px)">').write("\n                        ").write('<a href="').reference(t.get("link"),t,"h").write('" class="Td(n):h C($link) Fz(13px) Ell D(ib)" title="').reference(t.get("text"),t,"h",["s"]).write('" ').helper("rapid_data_attr",t,{},{"rapid-base":t.get("i13n"),elm:"itm",elmt:"topic",itc:"0"}).write(">").write("\n                            ").write('<span class="D(ib) W(1.3em) Ta(e) C(#000)">').helper("math",t,{},{key:w,method:"add",operand:"1"}).write('.</span><span class="C($searchBlue):h Fw(b) Mstart(2px)"> ').reference(t.get("text"),t,"h",["s"]).write("</span>").write("\n                        ").write("</a>").write("\n                    ").write("</li>")}function b(e,t){return e.write(" Fl(start) Cl(start)")}function w(e,t){return e.reference(t.get("$idx"),t,"h")}return dust.register("td-applet-trending-atomic-templates-main",e),e}()}(),dust.cache["td-applet-trending-atomic:main.dust"]=dust.cache["td-applet-trending-atomic:main"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-trending-atomic/templates/main"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust","td-applet-trending-atomic-templates-partials-categorization_header","td-applet-trending-atomic-templates-partials-categorization_body","td-applet-trending-atomic-templates-partials-inline_trending"]});
YUI.add("td-applet-weather-atomic-appletmodel",function(e,t){"use strict";e.namespace("TD.Applet").WeatherAppletModel=e.Mjata.ModelBase.createModelClass("TDAppletWeatherAppletModel","1.0",e.Af.AppletModel,[],{initializer:function(t){e.Mjata.ModelStore.after("AfLocations:selectedLocationChange",this.locationChanged,this),this.get("config.enableFav")&&(e.Mjata.ModelStore.after("AfLocations:favLocationAdded",this.favLocationAdded,this),e.Mjata.ModelStore.after("AfLocations:favLocationDeleted",this.favLocationDeleted,this)),e.Mjata.ModelStore.after("AfLocations:currentChange",this.currentChange,this),this.after("settingsChange",e.bind(this.settingsChanged,this))},currentChange:function(e){this.getDataModel("weather").set("currentLoc",e.newVal)},locationChanged:function(t){var n=this.getDataModel("weather"),r=this,i=n.get("woeids"),s,o,u="";if(!t.newVal||!t.newVal.woeid)return;o=t.newVal,s=t.newVal.woeid,e.Array.indexOf(i,s)<0?n.loadSingleForecast(s,r.get("config.enableWeatherYQLP"),function(t,i){if(!t&&i){var s=r.get("config.daysLimit");i[0]&&(i=i[0]),i.location=o,i.forecast.day&&(i.forecast.day=i.forecast.day.slice(0,s)),r.saveSettings({curloc:i.location.woeid}),n.replaceLoc(r.translate(i),0),e.Global.fire("TDWeatherApplet:locationChanged",i)}else if(t||!i)i&&i.city&&(u="for "+i.city),r.fire("forecastError",{message:"Forecast details "+u+" could not be found."})}):(r.saveSettings({curloc:s}),n.copyLocByWoeId(s,0))},translate:function(e){var t=this.get("i18n"),n=e&&e.current||null,r=e&&e.forecast||null,i,s=0,o,u=this.get("config"),a,f="",l="",c;e.link&&e.link.href&&(i=u.baseLink,i&&(e.link.href=e.link.href.replace("http://weather.yahoo.com",i)),u&&u.urlGeneratorRules&&u.urlGeneratorRules.enabled===!0&&(a=new RegExp("{"+Object.keys(e.location).join("}|{")+"}","gi"),f=i+"/",u.urlGeneratorRules.local_country_code.indexOf(e.location.country.toLowerCase())>=0?l=u.urlGeneratorRules.url_format_local_ajax:l=u.urlGeneratorRules.url_format_international,f+=l.replace(a,function(t){var n=t.replace("{","").replace("}","");return e.location[n]}),e.link.href=f.toLowerCase().replace(/\s/g,"-"))),n&&n.condition&&n.condition.description&&t[n.condition.description]&&(n.condition.description=t[n.condition.description]);if(r&&r.day&&r.day instanceof Array&&r.day.length>0){o=r.day.length;for(s=0;s<o;s+=1)c=r.day[s],c&&(c.condition&&c.condition.description&&t[c.condition.description]&&(c.condition.description=t[c.condition.description]),c.label&&t[c.label]&&(c.label=t[c.label]))}return e},favLocationAdded:function(e){var t=this,n=this.getDataModel("weather"),r=e.location;r&&r.woeid&&n.loadSingleForecast(r.woeid,t.get("config.enableWeatherYQLP"),function(e,i){if(!e&&i){var s=t.get("config.daysLimit");i[0]&&(i=i[0]),i.forecast.day&&(i.forecast.day=i.forecast.day.slice(0,s)),i.accordianState="c",i.location=r,n.addLoc(i,1)}})},favLocationDeleted:function(e){var t=this.getDataModel("weather");t.deleteLoc(e.location)},settingsChanged:function(e){var t=this.getDataModel("weather"),n=e.prevVal&&e.prevVal.hasOwnProperty("unit");n!==e.newVal.unit&&t.setUnit(e.newVal.unit)}})},"@VERSION@",{requires:["mjata-model-base","af-applet-model","mjata-model-store"]});
YUI.add("td-applet-weather-atomic-model",function(e,t){"use strict";function n(e,t,n){if(t===n)return e;switch(t){case"f":return Math.round(e*1.8+32);case"c":return Math.round((e-32)/1.8);default:return e}}e.namespace("TD.Applet").WeatherModel=e.Base.create("TDAppletWeatherModel",e.Model,[e.Af.Sync],{readonly:!0,resource:"weather",idAttribute:"woeid",consolidate:!1,postForRead:!1,setUnit:function(e){e&&(this._modifyWeatherUnit(e),this.set("unit",e.toLowerCase()))},deleteLoc:function(e){var t=this.get("weatherDataList"),n=this._getIndex(e.woeid);n>-1&&(t.splice(n,1),this.set("weatherDataList",t))},addLoc:function(e,t){var n=this.get("weatherDataList");typeof t=="undefined"&&(t=1),e&&e.location&&e.location.woeid&&this._getIndex(e.location.woeid)<0&&(n.splice(t,0,e),this.set("weatherDataList",n))},replaceLoc:function(e,t){var n=this.get("weatherDataList");typeof t=="undefined"&&(t=0),e&&e.location&&e.location.woeid&&(n[t]=e,this.set("weatherDataList",n))},copyLocByWoeId:function(e,t){var n=this.get("weatherDataList"),r=this._getIndex(e);typeof t=="undefined"&&(t=0),r>0&&(n[t]=n[r],this.set("weatherDataList",n))},_getIndex:function(e){var t=this.get("weatherDataList"),n=-1,r;for(r in t)if(t.hasOwnProperty(r)&&t[r].location&&t[r].location.woeid===e){n=r;break}return n},changeAccordianState:function(e,t){var n=this._getIndex(e),r=this.get("weatherDataList");n>-1&&(r[n].accordianState=t||"c"),this.set("weatherDataList",r,{silent:!0})},_modifyWeatherUnit:function(e){var t=this.get("weatherDataList"),r=this.get("unit"),i,s;r&&(r=r.toLowerCase()),e&&(e=e.toLowerCase());if(e===r)return;for(i in t)if(t.hasOwnProperty(i)){t[i].current.temp.now=n(t[i].current.temp.now,e,t[i].current.temp.unit),t[i].current.temp.unit=e;for(s in t[i].forecast.day)t[i].forecast.day.hasOwnProperty(s)&&(t[i].forecast.day[s].temp.high=n(t[i].forecast.day[s].temp.high,e,t[i].forecast.day[s].temp.unit),t[i].forecast.day[s].temp.low=n(t[i].forecast.day[s].temp.low,e,t[i].forecast.day[s].temp.unit),t[i].forecast.day[s].temp.unit=e)}this.unit=e,this.setAttrs({weatherDataList:t})},loadSingleForecast:function(t,n,r){e.Af.Transport.read("weather",{woeid:t,unit:this.get("unit"),enableWeatherYQLP:n},this.syncContext,r)}},{ATTRS:{accstate:{getter:function(e,t){var n=this.get("weatherDataList"),r="",i;for(i in n)n.hasOwnProperty(i)&&n[i].location&&n[i].location.woeid&&n[i].accordianState==="e"&&(r===""?r=n[i].location.woeid:r=r+"|"+n[i].location.woeid);return r}},unit:{getter:function(t,n){var r=this.get("weatherDataList");return t||(t=e.Af.Utils.objectGetValue(r[0],"current.temp.unit","F")),t.toLowerCase()}},woeids:{getter:function(e,t){var n=this.get("weatherDataList"),r=[],i;for(i in n)n.hasOwnProperty(i)&&n[i].location&&n[i].location.woeid&&r.push(n[i].location.woeid);return r}},currentLoc:{},total:{getter:function(e,t){var n=this.get("weatherDataList");return n.length}},weatherDataList:{}}})},"@VERSION@",{requires:["model","af-sync"]});
YUI.add("td-applet-weather-atomic-mainview",function(e,t){"use strict";e.namespace("TD.Applet").WeatherMainView=e.Base.create("TDAppletWeatherMainView",e.Af.AppletView,[],{autoRender:!1,events:{".js-set-unit":{click:"updateUnit"},".trigger-detect":{click:"triggerDetect"}},suppressErrors:!1,initializer:function(t){var n=this,r=n.get("model"),i=r.getDataModel("weather");n.suppressErrors=t.suppressErrors===!0,r.on("forecastError",e.bind(n.handleError,n)),i.after("weatherDataListChange",n.afterDataChange,n),e.on("fx:done",n.changeAccordianState,n),n.checkEmptyCity(),n.preloadFallbackAssets()},afterDataChange:function(e){this.forceRender()},preloadFallbackAssets:function(){this.get("container").one(".trigger-detect")&&e.use("node-event-simulate",function(){})},checkEmptyCity:function(){var e=this,t=e.get("model"),n=t.get("i18n"),r=e.get("container").one(".js-city-name"),i=n.SEARCH_CITY||"Kindly search your city",s=n.PLACE_NOT_FOUND;r&&r.getHTML().trim()===s&&e.handleError({message:i},"warning",this.get("container").ancestor(".js-applet"))},handleError:function(t,n,r){var i=r||this.get("container");this.suppressErrors!==!0&&e.Af.Message.show(i,{level:n||"error",content:t.message})},updateUnit:function(e){var t=e.target.getData();t&&t.hasOwnProperty("unit")&&this.get("model").saveSettings({unit:t.unit})},triggerDetect:function(t){var n=this;return t.preventDefault(),e.use("node-event-simulate",function(){var e=n.get("container").ancestor(".js-applet"),t=e.one(".App-Hd .js-panel-trigger");t&&t.simulate("click")}),!1},changeAccordianState:function(e){var t=e.fxTarget,n=this.get("model").getDataModel("weather"),r=t.getData("woeid"),i;t&&r&&this.get("container").contains(t)&&(t.hasClass("Collapse-opened")?n.changeAccordianState(r,"e"):n.changeAccordianState(r,"c"),i=n.get("accstate"),this.get("model").saveSettings({accstate:i}))}})},"@VERSION@",{requires:["af-applet-view","af-message","stencil-fx","stencil-fx-collapse"]});
YUI.add("td-applet-weather-atomic-headerview",function(e,t){"use strict";var n=".LocationPanel",r=".js-city-name";e.namespace("TD.Applet").WeatherHeaderView=e.Base.create("TDAppletWeatherHeaderView",e.Af.AppletView,[],{autoRender:!1,locationPicker:null,titleNode:null,onlyShowCity:!1,initializer:function(t){var r=this,i=r.get("container"),s,o=i.ancestor(".js-applet"),u=r.get("model"),a,f,l=u.syncContext.context.crumb||null,c=u.get("config").showWidgetLink;t=t||{},r.onlyShowCity=t.onlyShowCity===!0,s=u.get("data"),a={container:null,current:null,favorite:null,user_crumb:l,tooltip_conf:{container:o},i13n:s.i13n,show_manage_link:c},s.useplus&&(a.useplus=!0),s.current&&(a.current=s.current),s.favorite&&(a.favorite=s.favorite),t.autoDetectLocation!==null&&(a.autoDetectLocation=t.autoDetectLocation===!0),f=i&&i.one(n);if(!f)return;a.container=f,t.panelType&&t.panelType==="detection"?e.use("af-location-detection",function(e){r.locationPicker=new e.Af.LocationDetection(a)}):e.use("af-location-panel",function(e){r.locationPicker=new e.Af.LocationPanel(a)}),r.get("model").after("dataChange",r.handleSelectedLocationChange,r)},handleSelectedLocationChange:function(e){var t=this.get("model"),n=t.getDataModel("weather"),i,s="Weather",o,u=n.get("weatherDataList"),a=n.get("currentLoc"),f=t.get("i18n")||{};this.titleNode||(this.titleNode=this.get("container").one(r)),u[0]&&u[0].location&&(i=u[0].location,i&&(i.displayName?s=i.displayName:(i.city&&(s=i.city),this.onlyShowCity||(o=i.statecode||i.state,o&&(s+=", "+o))),a.woeid&&i.woeid&&a.woeid===i.woeid&&(s+='\n<b class="Fz-s Dimmed">('+(f.CURRENT_LOCATION||"Current Location")+")</b>"))),this.titleNode.setHTML(s)}})},"@VERSION@",{requires:["af-applet-view","mjata-model-store"]});
YUI.add("td-applet-weather-atomic-templates-main",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<div class="D(b)">').write("\n    ").section(n.getPath(!1,["data","weather","weatherDataList"]),n,{block:t},{total_loc:n.getPath(!1,["data","weather","total"]),current_loc:n.getPath(!1,["data","weather","currentLoc"])}).write("\n").write("</div>").write("\n")}function t(e,t){return e.write("\n    ").notexists(t.getPath(!1,["config","fixed_layout"]),t,{block:n},null).write("\n    ").write('<ul class="P(0) Mt(0) Mend(0) Cl(b) Td(n) Mb(10px) Mstart(-2px) Ta(j) forecasts forecasts-').reference(t.getPath(!1,["location","woeid"]),t,"h").write('">').write("\n        ").section(t.getPath(!1,["forecast","day"]),t,{block:r},null).write("\n    ").write("</ul>").write("\n    ")}function n(e,t){return e.write("\n    ").write("<style>").write("\n    ").write(".forecasts::after {").write("\n        ").write("content: '';").write("\n        ").write("width: 100%;").write("\n        ").write("display: inline-block;").write("\n    ").write("}").write("\n    ").write("\n    ").write(".forecasts:after {").write("\n        ").write("content: '';").write("\n        ").write("width: 100%;").write("\n        ").write("display: inline-block;").write("\n    ").write("}").write("\n    ").write("</style>").write("\n    ")}function r(e,t){return e.write("\n         ").write('<li class="Pos(r) Ta(c) D(ib) ').exists(t.getPath(!1,["config","fixed_layout"]),t,{block:i},null).write('">').write("\n            ").write('<a href="').section(t.get("link"),t,{block:s},null).write('" class="C(#000) Td(n)" ').helper("rapid_data_attr",t,{},{itc:"0",elm:"itm",elmt:"ct",rspns:"nav"}).write(">").write("\n                ").write('<h3 class="Fz(13px) Mb(7px)">').reference(t.get("label"),t,"h").write("</h3>").write("\n                ").write('<img class="D(b) M(a)" src="').reference(t.getPath(!1,["condition","images","thumb","url"]),t,"h").write('" width="43" height="43" alt="').reference(t.getPath(!1,["current","condition","description"]),t,"h").write('" />').write("\n                ").write('<span class="Mstart(6px) ').exists(t.getPath(!1,["config","fixed_layout"]),t,{"else":o,block:u},null).write(' Mt(2px)">').write("\n                    ").write('<b class="Fz(13px) Fw(b) ').exists(t.getPath(!1,["config","fixed_layout"]),t,{"else":a,block:f},null).write(' Pend(3px)">').reference(t.getPath(!1,["temp","high"]),t,"h").write('&#xb0;<b class="Hidden">').reference(t.getPath(!1,["temp","unit"]),t,"h").write(" ").helper("i18n_string",t,{},{_key:"HIGH"}).write("</b></b>").write("\n                    ").write('<b class="Fz(13px) Fw(b) C($temp_low) ').exists(t.getPath(!1,["config","fixed_layout"]),t,{"else":l,block:c},null).write('">').reference(t.getPath(!1,["temp","low"]),t,"h").write('&#xb0;<b class="Hidden">').reference(t.getPath(!1,["temp","unit"]),t,"h").write(" ").helper("i18n_string",t,{},{_key:"LOW"}).write("</b></b>").write("\n                ").write("</span>").write("\n            ").write("</a>").write("\n        ").write("</li>").write("\n        ")}function i(e,t){return e.write("W(24%)")}function s(e,t){return e.reference(t.get("href"),t,"h")}function o(e,t){return e.write("D(tbc)")}function u(e,t){return e.write("D(ib)")}function a(e,t){return e.write("D(tbc)")}function f(e,t){return e.write("D(ib)")}function l(e,t){return e.write("D(tbc)")}function c(e,t){return e.write("D(ib)")}return dust.register("td-applet-weather-atomic-templates-main",e),e}()}(),dust.cache["td-applet-weather-atomic:main.dust"]=dust.cache["td-applet-weather-atomic:main"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-weather-atomic/templates/main"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
