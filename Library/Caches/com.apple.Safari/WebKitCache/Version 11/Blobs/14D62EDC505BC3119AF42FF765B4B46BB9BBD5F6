if (self.CavalryLogger) { CavalryLogger.start_js(["cUuvY"]); }

__d("PhotosUploadWaterfallErrorCodes",[],(function a(b,c,d,e,f,g){f.exports={SECURITY:1,FILE_IO:2,IMAGE_IO:3,UPLOAD_IO:4,INVALID_SERVER_RESULT:5,RESIZE_FAILURE:6,ENCODE_FAILURE:7,INVALID_DOMAIN:8,BAD_JPEG_MARKERS:9,BAD_SERVER_RESPONSE:10,EXTERNAL_INTERFACE_UNAVAILABLE:11,JS_CALL_FAILED:12,UNCAUGHT_ERROR:13,UPLOAD_SWF_FAILED_LOAD:14,FILE_IO_TIMEOUT:15,IMAGE_SECURITY:16,BAD_IMAGE_FILE:17,IMAGE_IO_TIMEOUT:18,BLACK_PHOTO:19,EMPTY_FILE_LOADED:20,FILE_READ_DISABLED:21,BAD_NETWORK:22,FLASH_LOAD_TIMEOUT:23,FLASH_LOAD_FAILURE:24,FLASH_UPGRADE_REQUIRED:25,SPHERICAL_CHECK_FAILED:26,SPHERICAL_CHECK_TIMEOUT:27}}),null);
__d("TaggingLimits",[],(function a(b,c,d,e,f,g){f.exports={MAX_WITH_TAGS:100,MAX_SPONSOR_TAGS:1}}),null);
__d('HashtagSpan.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement('span',babelHelpers['extends']({},this.props,{'data-offset-key':this.props.offsetKey,className:"_5zk7",spellCheck:false}),this.props.children)};function k(){'use strict';i.apply(this,arguments)}f.exports=k}),null);
__d('MentionSpan.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement('span',babelHelpers['extends']({},this.props,{'data-offset-key':this.props.offsetKey,className:"_247o",spellCheck:false}),this.props.children)};function k(){'use strict';i.apply(this,arguments)}f.exports=k}),null);
__d('WeakMentionSpan.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement('span',{'data-offset-key':this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children)};function k(){'use strict';i.apply(this,arguments)}f.exports=k}),null);
__d('getHashtagMatches',['getHashtagRegex'],(function a(b,c,d,e,f,g){var h=c('getHashtagRegex')();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length)}}f.exports=i}),null);
__d('getMentionsInputDecorator',['CompositeDraftDecorator','EmoticonSpan.react','HashtagSpan.react','MentionSpan.react','WeakMentionSpan.react','getEntityMatcher','getHashtagMatches'],(function a(b,c,d,e,f,g){var h;function i(){if(!h){var j=[{strategy:c('getEntityMatcher')(function(k){var l=k.getData();return k.getType()==='MENTION'&&l&&l.isWeak}),component:c('WeakMentionSpan.react')},{strategy:c('getEntityMatcher')(function(k){return k.getType()==='MENTION'}),component:c('MentionSpan.react')},{strategy:c('getEntityMatcher')(function(k){return k.getType()==='EMOTICON'}),component:c('EmoticonSpan.react')},{strategy:c('getHashtagMatches'),component:c('HashtagSpan.react')}];h=new (c('CompositeDraftDecorator'))(j)}return h}f.exports=i}),null);
__d('StepperAnimation',['invariant','Animation','mixInEventEmitter'],(function a(b,c,d,e,f,g,h){var i={done:true,go:true},j=function n(o){!o||h(0)};function k(n){'use strict';this.$StepperAnimation1=new (c('Animation'))(n);this.$StepperAnimation1.ondone(this.emit.bind(this,'done'));this.__fired__=false}k.prototype.from=function(){'use strict';this.$StepperAnimation1.from.apply(this.$StepperAnimation1,arguments);return this};k.prototype.to=function(){'use strict';this.$StepperAnimation1.to.apply(this.$StepperAnimation1,arguments);return this};k.prototype.ease=function(){'use strict';this.$StepperAnimation1.ease.apply(this.$StepperAnimation1,arguments);return this};k.prototype.go=function(){'use strict';j(this.__fired__);this.__fired__=true;this.$StepperAnimation1.go();this.emit('go');return this};k.prototype.checkpoint=function(){'use strict';this.$StepperAnimation1.checkpoint.apply(this.$StepperAnimation1,arguments);return this};k.prototype.show=function(){'use strict';this.$StepperAnimation1.show.apply(this.$StepperAnimation1,arguments);return this};k.prototype.duration=function(){'use strict';this.$StepperAnimation1.duration.apply(this.$StepperAnimation1,arguments);return this};k.prototype.stop=function(){'use strict';this.$StepperAnimation1.stop.apply(this.$StepperAnimation1,arguments);return this};function l(n){'use strict';this.$SerialAnimations1=n||[];this.$SerialAnimations2=0;for(var o=0,p=n.length;o<p;o++){var q=n[o+1];if(q)n[o].addListener('done',q.go.bind(q));}if(this.$SerialAnimations1.length){var r=this.emit.bind(this,'go');this.$SerialAnimations1[0].addListener('go',r);var s=this.emit.bind(this,'done');this.$SerialAnimations1.slice(-1)[0].addListener('done',s)}}l.prototype.go=function(){'use strict';j(this.__fired__);this.__fired__=true;this.$SerialAnimations1.length&&this.$SerialAnimations1[0].go();this.emit('go');return this};l.prototype.stop=function(){'use strict';for(var n=0,o=this.$SerialAnimations1.length;n<o;n++)this.$SerialAnimations1[n].stop.apply(this.$SerialAnimations1[n],arguments);return this};l.prototype.duration=function(){'use strict';for(var n=0,o=this.$SerialAnimations1.length;n<o;n++)this.$SerialAnimations1[n].duration.apply(this.$SerialAnimations1[n],arguments);return this};function m(n){'use strict';this.$ParallelAnimations1=n||[];this.$ParallelAnimations2=0;for(var o=0;o<n.length;o++)n[o].addListener('done',this.$ParallelAnimations3.bind(this));}m.prototype.$ParallelAnimations3=function(){'use strict';if(++this.$ParallelAnimations2===this.$ParallelAnimations1.length)this.emit('done');};m.prototype.go=function(){'use strict';j(this.__fired__);this.__fired__=true;for(var n=0;n<this.$ParallelAnimations1.length;n++)this.$ParallelAnimations1[n].go();this.emit('go');return this};m.prototype.stop=function(){'use strict';for(var n=0,o=this.$ParallelAnimations1.length;n<o;n++)this.$ParallelAnimations1[n].stop.apply(this.$ParallelAnimations1[n],arguments);return this};m.prototype.duration=function(){'use strict';for(var n=0,o=this.$ParallelAnimations1.length;n<o;n++)this.$ParallelAnimations1[n].duration.apply(this.$ParallelAnimations1[n],arguments);return this};c('mixInEventEmitter')(k,i);c('mixInEventEmitter')(l,i);c('mixInEventEmitter')(m,i);k.Serial=l;k.Parallel=m;f.exports=k}),null);
__d('XUICarouselAnimator',['cx','StepperAnimation','Ease','Style','Locale'],(function a(b,c,d,e,f,g,h){'use strict';var i=0,j=1,k=['vertical','horizontal','showcase'];function l(m){var n=m.type,o=m.centered,p=m.firstAndLastAligned;n=n===undefined?'horizontal':n;var q=this.$XUICarouselAnimator1=n==='showcase',r=this.$XUICarouselAnimator2=n==='horizontal',s=this.$XUICarouselAnimator3=n==='vertical';this.$XUICarouselAnimator4=!!o;this.$XUICarouselAnimator5=!!p;this.$XUICarouselAnimator6=(q?"_9bn":'')+(s?' '+"_9bo":'')+(r?' '+"_9bp":'')}l.prototype.update=function(m){if(this.$XUICarouselAnimator1){this.$XUICarouselAnimator7(m)}else this.$XUICarouselAnimator8(m);};l.prototype.createAnimation=function(m){var n=m.nextIndex,o=m.items;if(n>=0&&n<o.length){if(this.$XUICarouselAnimator1){return this.$XUICarouselAnimator9(m)}else return this.$XUICarouselAnimator10(m);}};l.prototype.getCSSClassForRoot=function(){return this.$XUICarouselAnimator6};l.prototype.getViewportHeight=function(m){return this.$XUICarouselAnimator11(m)};l.prototype.getViewportWidth=function(m){return this.$XUICarouselAnimator12(m)};l.prototype.getContainerHeight=function(m){return this.$XUICarouselAnimator3?this.$XUICarouselAnimator13(m):this.$XUICarouselAnimator11(m)};l.prototype.getContainerWidth=function(m){return this.$XUICarouselAnimator2?this.$XUICarouselAnimator14(m):this.$XUICarouselAnimator12(m)};l.prototype.needsNextArrow=function(m,n){var o=m.viewport,p=m.container;if(!p||!o)return true;if(this.$XUICarouselAnimator1)return n!==m.items.length-1;var q=this.$XUICarouselAnimator15(m,n),r=void 0,s=void 0;if(this.$XUICarouselAnimator2){r=this.getContainerWidth(m);s=o.offsetWidth}else{r=p.offsetHeight;s=o.offsetHeight}return r+q>s};l.prototype.remove=function(m){if(this.$XUICarouselAnimator1){this.$XUICarouselAnimator16(m)}else this.$XUICarouselAnimator17(m);};l.prototype.$XUICarouselAnimator16=function(m){var n=m.items;for(var o=0,p=n.length;o<p;o++){var q=n[o];c('Style').set(q,'opacity',1);c('Style').set(q,'left','auto');c('Style').set(q,'top','auto');c('Style').set(q,'position','static')}};l.prototype.$XUICarouselAnimator17=function(m){var n=this.$XUICarouselAnimator2?'margin-left':'margin-top';c('Style').set(m.container,n,0)};l.prototype.$XUICarouselAnimator7=function(m){var n=m.items,o=m.index;this.$XUICarouselAnimator18(m,n,o)};l.prototype.$XUICarouselAnimator18=function(m,n,o){c('Style').set(m.container,'marginTop',0);c('Style').set(m.container,'marginLeft',0);for(var p=0,q=n.length;p<q;p++){var r=n[p];c('Style').set(r,'opacity',p===o?1:0);c('Style').set(r,'position','absolute');this.$XUICarouselAnimator19(m,r)}};l.prototype.$XUICarouselAnimator8=function(m){var n=m.index,o=m.container;this.$XUICarouselAnimator20(m,n,o)};l.prototype.$XUICarouselAnimator20=function(m,n,o){var p=this.$XUICarouselAnimator2?'margin-left':'margin-top',q=this.$XUICarouselAnimator15(m,n);c('Style').set(o,p,q+'px')};l.prototype.$XUICarouselAnimator15=function(m,n){var o=this.$XUICarouselAnimator21(),p=this.$XUICarouselAnimator22(m,o),q=this.$XUICarouselAnimator23(m,n),r=this.$XUICarouselAnimator24(m,n);return -Math.min(p,q-r)};l.prototype.$XUICarouselAnimator23=function(m,n){var o=m.items,p=o[n],q=0;if(p){var r=void 0,s=void 0;if(this.$XUICarouselAnimator2){r='marginLeft';s=this.$XUICarouselAnimator25}else{r='marginTop';s=this.$XUICarouselAnimator26}for(var t=0;t<n;t++)q+=s.call(this,o[t]);q+=parseInt(c('Style').get(p,r),10)}return q};l.prototype.$XUICarouselAnimator9=function(m){var n=m.nextIndex,o=m.items,p=m.curIndex,q=o[p],r=o[n],s=c('Style').get(q,'opacity'),t=null;if(m.animate){t=new (c('StepperAnimation').Parallel)([new (c('StepperAnimation'))(q).from('opacity',s).to('opacity',0).ease(c('Ease').sineInOut),new (c('StepperAnimation'))(r).from('opacity',0).to('opacity',1).ease(c('Ease').sineInOut)])}else this.$XUICarouselAnimator18(m,o,n);return t};l.prototype.$XUICarouselAnimator19=function(m,n){if(this.$XUICarouselAnimator4){var o=m.viewport,p=o.offsetWidth,q=o.offsetHeight,r=this.$XUICarouselAnimator27(n,i),s=this.$XUICarouselAnimator27(n,j);c('Style').set(n,'left',(p-r)/2+'px');c('Style').set(n,'top',(q-s)/2+'px')}else{c('Style').set(n,'left',0);c('Style').set(n,'top','auto')}};l.prototype.$XUICarouselAnimator10=function(m){var n=m.container,o=m.nextIndex,p=void 0;if(this.$XUICarouselAnimator2){p=c('Locale').isRTL()?'margin-right':'margin-left'}else p='margin-top';var q=this.$XUICarouselAnimator15(m,o),r=new (c('StepperAnimation'))(n);if(m.animate){r.from(p,c('Style').get(n,p)).to(p,q+'px').ease(c('Ease').sineInOut)}else this.$XUICarouselAnimator20(m,o,n);return r};l.prototype.$XUICarouselAnimator24=function(m,n){var o=m.viewport,p=m.items,q=p[n];if(this.$XUICarouselAnimator5)if(n===0||n===m.items.length-1)return 0;if(this.$XUICarouselAnimator4){if(this.$XUICarouselAnimator2)return (o.offsetWidth-q.offsetWidth)/2;if(this.$XUICarouselAnimator3)return (o.offsetHeight-q.offsetHeight)/2;}return 0};l.prototype.$XUICarouselAnimator11=function(m){return this.$XUICarouselAnimator28(m,j)};l.prototype.$XUICarouselAnimator12=function(m){return this.$XUICarouselAnimator28(m,i)};l.prototype.$XUICarouselAnimator28=function(m,n){return Math.max.apply(null,this.$XUICarouselAnimator29(m,n))};l.prototype.$XUICarouselAnimator26=function(m){return this.$XUICarouselAnimator27(m,j)};l.prototype.$XUICarouselAnimator25=function(m){return this.$XUICarouselAnimator27(m,i)};l.prototype.$XUICarouselAnimator27=function(m,n){var o=void 0,p=void 0,q=void 0,r=m.style.position;c('Style').set(m,'position','static');if(n===i){o='offsetWidth';p='marginLeft';q='marginRight'}else{o='offsetHeight';p='marginTop';q='marginBottom'}p=parseInt(c('Style').get(m,p),10);q=parseInt(c('Style').get(m,q),10);var s=m[o]+p+q;c('Style').set(m,'position',r);return s};l.prototype.$XUICarouselAnimator13=function(m){return this.$XUICarouselAnimator30(m,j)};l.prototype.$XUICarouselAnimator14=function(m){return this.$XUICarouselAnimator30(m,i)};l.prototype.$XUICarouselAnimator29=function(m,n){return m.items.map(function(o){return this.$XUICarouselAnimator27(o,n)}.bind(this))};l.prototype.$XUICarouselAnimator30=function(m,n){var o=this.$XUICarouselAnimator29(m,n);return o.reduce(function(p,q){return p+q},0)};l.prototype.$XUICarouselAnimator22=function(m,n){if(!this.$XUICarouselAnimator5)return Infinity;var o=m.viewport,p=this.$XUICarouselAnimator30(m,n),q=n===i?o.offsetWidth:o.offsetHeight;return p-q};l.prototype.$XUICarouselAnimator21=function(){return this.$XUICarouselAnimator2?i:j};f.exports=l}),null);
__d('XUICarousel.react',['cx','fbt','ArbiterMixin','React','ReactDOM','ReactComponentWithPureRenderMixin','XUICarouselAnimator','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k='`arrows` must be an array of [<prevArrow/>, <nextArrow/>] or null',l='prev',m='next',n=c('React').createClass({displayName:'XUICarousel',mixins:[c('ArbiterMixin'),c('ReactComponentWithPureRenderMixin')],propTypes:{arrows:function p(q,r){var s=q[r];if(s){if(!Array.isArray(s)||s.length!==2)return new Error(k);var t=s[0],u=s[1];if(!c('React').isValidElement(t)||!c('React').isValidElement(u))return new Error(k);}},animator:j.shape({createAnimation:j.func.isRequired,getCSSClassForRoot:j.func.isRequired,getViewportWidth:j.func.isRequired,getViewportHeight:j.func.isRequired,getContainerWidth:j.func.isRequired,getContainerHeight:j.func.isRequired,update:j.func.isRequired,remove:j.func.isRequired}).isRequired,initialIndex:j.number,moveStep:j.number,_hackToUseMoveStepInShouldRenderArrow:j.bool,useNumVisibleItemsShouldRenderArrow:j.bool,animationDuration:j.number,initialAutoplay:j.bool,wrapAround:j.bool,autoplayDirection:j.oneOf(['forward','backward']),stopAutoplayOnHover:j.bool,autoplayInterval:j.number,resizeViewport:j.oneOf(['disabled','fixed','dynamic']),viewportWidth:j.number,viewportHeight:j.number,onItemClick:j.func,resetInitialIndex:j.bool,renderArrowsOutsideViewport:j.bool},getDefaultProps:function p(){return {animator:new (c('XUICarouselAnimator'))({type:'horizontal',centered:true,firstAndLastAligned:false}),initialIndex:0,moveStep:1,animationDuration:200,initialAutoplay:true,autoplayInterval:5000,autoplayDirection:'forward',stopAutoplayOnHover:true,_hackToUseMoveStepInShouldRenderArrow:false,useNumVisibleItemsShouldRenderArrow:false,resizeViewport:'fixed',wrapAround:true,resetInitialIndex:false,renderArrowsOutsideViewport:false}},getInitialState:function p(){return {index:this.props.initialIndex,autoplay:this.props.initialAutoplay,containerWidth:0,animatorClassForRoot:this.props.animator.getCSSClassForRoot(),containerHeight:0,viewportWidth:'auto',viewportHeight:'auto'}},getItemCount:function p(){return c('React').Children.count(this.props.children)},_getItems:function p(){var q=this.getItemCount(),r=[];for(var s=0;s<q;s++)if(this.refs.itemsContainer&&this.refs.itemsContainer.childNodes[s])r[s]=this.refs.itemsContainer.childNodes[s];return r},_getContextForAnimator:function p(){var q=this._getItems().map(function(r){return c('ReactDOM').findDOMNode(r)});if(this.props.resetInitialIndex&&this.state.index>q.length-1)this.setIndex(0);return {container:c('ReactDOM').findDOMNode(this.refs.itemsContainer),items:q,viewport:c('ReactDOM').findDOMNode(this.refs.viewport)}},componentDidMount:function p(){var q=this.props.animator,r=this._getContextForAnimator();this.setState({containerWidth:q.getContainerWidth(r),containerHeight:q.getContainerHeight(babelHelpers['extends']({},r,{index:this.state.index})),viewportWidth:q.getViewportWidth(r),viewportHeight:q.getViewportHeight(babelHelpers['extends']({},r,{index:this.state.index}))});q.update(babelHelpers['extends']({},r,{index:this.state.index}));if(this.state.autoplay)this._autoplay();this._lastClicked=null},componentWillMount:function p(){this._isHovering=false;this._autoplayInterval=null;this._animation=null},componentWillUnmount:function p(){this._stopCurrentAnimation();this._stopAutoplay()},componentWillUpdate:function p(q,r){var s=o(this.props,q),t=o(this.state,r),u=this._getContextForAnimator();if(q.children.length<r.index)this.setState({index:0});var v=q.animator;if(s.animator){this._stopCurrentAnimation();this.props.animator.remove(u)}var w=void 0,x=this.state.index;if(this._prevReactItems&&this._prevReactItems.length){var y=c('React').Children.map(q.children,function(z){return z.props.childIndex});x=Math.max(y.indexOf(this._prevReactItems[this.state.index]),0)}if(this.state.index!==x)this._nextIndex=x;if(t.index){this.inform('animation_start',r.index);if(this._animation)this._animation.stop();w=v.createAnimation(babelHelpers['extends']({},u,{nextIndex:r.index,curIndex:x,animate:!this._nextIndex}));this._animation=w;w.duration(q.animationDuration);w.addListener('done',this._onAnimationDone.bind(this,r.index));w.go()}if(t.autoplay||s.autoplayInterval||s.autoplayDirection){this._stopAutoplay();if(r.autoplay&&(!this._isHovering||!q.stopAutoplayOnHover))this._autoplay();}this._prevReactItems=c('React').Children.map(this.props.children,function(z){return z.props.childIndex})},componentDidUpdate:function p(q,r){var s=this.props.animator,t=this._getContextForAnimator(),u=false,v=false,w=false,x=this._prevItems,y=this._getItems();this._prevItems=y;var z=!x||x.length!==y.length||!x.every(function(aa,ba){return aa===y[ba]});if(this._nextIndex){this.setState({index:this._nextIndex});this._nextIndex=null}if(z){w=true;u=true;v=this.props.resizeViewport==='dynamic';this.inform('item_count_updated',this.getItemCount())}if(s!==q.animator){this.setState({animatorClassForRoot:s.getCSSClassForRoot()});u=true;w=true}if(q.resizeViewport!==this.props.resizeViewport){v=q.resizeViewport==='disabled'||this.props.resizeViewport==='dynamic';u=true}if(w)this.setState({containerWidth:s.getContainerWidth(t),containerHeight:s.getContainerHeight(babelHelpers['extends']({},t,{index:this.state.index}))});if(v)this.setState({viewportWidth:s.getViewportWidth(t),viewportHeight:s.getViewportHeight(babelHelpers['extends']({},t,{index:this.state.index}))});if(u)s.update(babelHelpers['extends']({},t,{index:this.state.index}));},setAutoplayEnabled:function p(q){this.setState({autoplay:q})},_autoplay:function p(){if(!this._autoplayInterval){var q=this.props.autoplayDirection==='forward'?this.next:this.prev;this._autoplayInterval=setInterval(q,this.props.autoplayInterval)}},_stopAutoplay:function p(){clearInterval(this._autoplayInterval);this._autoplayInterval=null},_stopCurrentAnimation:function p(){if(this._animation){this._animation.stop();this._animation=null}},_onAnimationDone:function p(q){this._animation=null;this.inform('animationEnd',q)},_onMouseEnter:function p(){this._isHovering=true;if(this.props.stopAutoplayOnHover)this._stopAutoplay();},_onMouseLeave:function p(){this._isHovering=false;if(this.state.autoplay)this._autoplay();},setIndex:function p(q){if(q>=0&&q<this.props.children.length){this.setState({index:q});this._stopAutoplay();if(this.state.autoplay&&(!this.props.stopAutoplayOnHover||!this._isHovering))this._autoplay();return true}return false},next:function p(){var q=this.state.index,r=this.getItemCount(),s=r-1;if((q!==s||q===s&&this.props.wrapAround)&&r){var t=q===s?0:Math.min(s,q+this.props.moveStep);this._lastClicked=m;this.setIndex(t)}},prev:function p(){var q=this.state.index,r=this.getItemCount();if(q!==0||q===0&&this.props.wrapAround){var s=q===0?r-1:Math.max(q-this.props.moveStep,0);this._lastClicked=l;this.setIndex(s)}},_renderChildren:function p(){return c('React').Children.map(this.props.children,function(q,r){return c('React').cloneElement(q,{ref:q.props.childIndex,index:r,onClick:function(){if(this.props.onItemClick){this.props.onItemClick(r)}else this.setIndex(r);}.bind(this),selected:r===this.state.index,size:this.props.children.length})}.bind(this))},_shouldRenderNextArrow:function p(){var q=this.props,r=q.wrapAround,s=q.animator,t=q.useViewportWidthShouldRenderArrow;if(r)return true;if(!t){if(this.props.children.length-1!==this.state.index)return true;}else if(this.props._hackToUseMoveStepInShouldRenderArrow)if(this.props.children.length>this.state.index+this.props.moveStep)return true;var u=this._getContextForAnimator();return s.needsNextArrow(u,this.state.index)},_renderArrows:function p(){if(this.props.arrows){var q=this.props.arrows,r=q[0],s=q[1];r=c('React').cloneElement(r,{key:l,onClick:r.props.onClick?r.props.onClick:this.prev,onBlur:this._onMouseLeave,onFocus:this._onMouseEnter,disabled:!this.props.wrapAround&&this.state.index===0,className:c('joinClasses')("_50z1",r.props.className),label:i._("Anterior"),wasLastClicked:this._lastClicked===l});s=c('React').cloneElement(s,{key:m,onClick:s.props.onClick?s.props.onClick:this.next,onBlur:this._onMouseLeave,onFocus:this._onMouseEnter,disabled:!this._shouldRenderNextArrow(),className:c('joinClasses')("_50z2",s.props.className),label:i._("Siguiente"),wasLastClicked:this._lastClicked===m});return [r,s]}return null},render:function p(){var q=this.props,r=q.className,s=q.viewportWidth,t=q.viewportHeight,u=q.resizeViewport;r=c('joinClasses')(r,this.state.animatorClassForRoot,"_50z3"+(this.state.animating?' '+"_50zi":''));var v={height:t,width:s};if(u!=='disabled'){v.width=s||this.state.viewportWidth;v.height=t||this.state.viewportHeight}return c('React').createElement('div',{className:r},c('React').createElement('div',{className:"_50zm",ref:'viewport',onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,style:babelHelpers['extends']({},v)},c('React').createElement('div',{style:{width:this.state.viewportWidth||'auto',height:this.state.viewportHeight||'auto'}},c('React').createElement('div',{className:"_50zn clearfix",style:{width:this.state.containerWidth||'auto',height:this.state.containerHeight||'auto'},ref:'itemsContainer'},this._renderChildren())),this.props.renderArrowsOutsideViewport?null:this._renderArrows()),this.props.renderArrowsOutsideViewport?this._renderArrows():null)}});function o(p,q){var r={};for(var s in p)if(Object.prototype.hasOwnProperty.call(p,s))r[s]=p[s]!==q[s];for(var t in q)if(Object.prototype.hasOwnProperty.call(q,t)&&!Object.prototype.hasOwnProperty.call(r,t))r[t]=p[t]!==q[t];return r}f.exports=n}),null);
__d('XUICarouselItem.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.children,o=m.className,p=m.selected,q=m.index,r=m.size,s=babelHelpers.objectWithoutProperties(m,['children','className','selected','index','size']);o=c('joinClasses')(o,"_3el6"+(p?' '+"_3el7":''));return c('React').createElement('div',{role:'article','aria-hidden':p?'false':'true','aria-posinset':q,'aria-setsize':r,className:"_3el8 clearfix"},c('React').createElement('div',babelHelpers['extends']({},s,{className:o}),n))};function l(){i.apply(this,arguments)}l.propTypes={selected:k.bool};f.exports=l}),null);
__d('update',['fbjs/lib/invariant'],(function a(b,c,d,e,f,g){'use strict';var h={}.hasOwnProperty;function i(t){if(Array.isArray(t)){return t.concat()}else if(t&&typeof t==='object'){return Object.assign(new t.constructor(),t)}else return t;}var j='$push',k='$unshift',l='$splice',m='$set',n='$merge',o='$apply',p=[j,k,l,m,n,o],q={};p.forEach(function(t){q[t]=true});function r(t,u,v){Array.isArray(t)||c('fbjs/lib/invariant')(0);var w=u[v];Array.isArray(w)||c('fbjs/lib/invariant')(0)}function s(t,u){typeof u==='object'||c('fbjs/lib/invariant')(0);if(h.call(u,m)){Object.keys(u).length===1||c('fbjs/lib/invariant')(0);return u[m]}var v=i(t);if(h.call(u,n)){var w=u[n];w&&typeof w==='object'||c('fbjs/lib/invariant')(0);v&&typeof v==='object'||c('fbjs/lib/invariant')(0);Object.assign(v,u[n])}if(h.call(u,j)){r(t,u,j);u[j].forEach(function(y){v.push(y)})}if(h.call(u,k)){r(t,u,k);u[k].forEach(function(y){v.unshift(y)})}if(h.call(u,l)){Array.isArray(t)||c('fbjs/lib/invariant')(0);Array.isArray(u[l])||c('fbjs/lib/invariant')(0);u[l].forEach(function(y){Array.isArray(y)||c('fbjs/lib/invariant')(0);v.splice.apply(v,y)})}if(h.call(u,o)){typeof u[o]==='function'||c('fbjs/lib/invariant')(0);v=u[o](v)}for(var x in u)if(!(Object.prototype.hasOwnProperty.call(q,x)&&q[x]))v[x]=s(t[x],u[x]);return v}f.exports=s}),null);
__d('XUITypeahead.react',['cx','AbstractTypeahead.react','Image.react','React','SearchableEntry','XUICloseButton.react','XUIError.react','XUITypeaheadTextOnlyView.react','XUITypeaheadView.react','joinClasses','update'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l={ViewRenderer:c('XUITypeaheadView.react'),useLayer:true},m={ViewRenderer:c('XUITypeaheadView.react'),useLayer:false},n={ViewRenderer:c('XUITypeaheadTextOnlyView.react'),useLayer:true};i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.focusInput=function(){this.refs.typeahead&&this.refs.typeahead.focusInput()}.bind(this),this.blurInput=function(){this.refs.typeahead&&this.refs.typeahead.blurInput()}.bind(this),this.hideView=function(){this.refs.typeahead.hideView()}.bind(this),this.getTextFieldDOM=function(){return this.refs.typeahead.getTextFieldDOM()}.bind(this),this.$XUITypeahead1=function(){this.props.onClear();setTimeout(function(){return this.focusInput()}.bind(this),0)}.bind(this),q}o.prototype.componentWillMount=function(){'use strict'};o.prototype.render=function(){'use strict';var p=c('joinClasses')(this.props.inputClassName,"_55r1"+(!!this.props.tallInput?' '+"_55r2":'')),q=null;if(this.props.presenter){q=this.props.presenter}else if(this.props.viewStyle=='rich'){q=l}else if(this.props.viewStyle=='richNoLayer'){q=m}else q=n;if(!this.props.presenter&&this.props.maxEntries)q=c('update')(q,{maxEntries:{$set:this.props.maxEntries}});var r=this.props.showPhoto&&this.props.selectedEntry?c('React').createElement(c('Image.react'),{className:"_wrl",src:this.props.selectedEntry.getPhoto()}):null,s=this.props.clearable?c('React').createElement(c('XUICloseButton.react'),{className:"_wrm"+(this.props.disabled||!this.props.queryString?' '+"hidden_elem":''),size:this.props.tallInput?'medium':'small',type:'button',onClick:this.$XUITypeahead1}):null,t=this.props,u=t.className,v=babelHelpers.objectWithoutProperties(t,['className']);return c('React').createElement(c('XUIError.react'),this.props,c('React').createElement('span',{className:c('joinClasses')("_wrn"+(!!this.props.tallInput?' '+"_213j":'')+(!!s?' '+"_4ehf":'')+(!!r?' '+"_4ehg":'')+(!!this.props.queryString?' '+"_4in7":'')+(this.props.highlightOnSelect&&this.props.selectedEntry?' '+"_wrr":''),u)},r,c('React').createElement(c('AbstractTypeahead.react'),babelHelpers['extends']({},v,{inputClassName:p,ref:'typeahead',presenter:q,textInputDataTestID:this.props.textInputDataTestID})),s))};o.propTypes=babelHelpers['extends']({excludedEntries:k.object,maxEntries:k.number,onChange:k.func.isRequired,onSelectAttempt:k.func.isRequired,onEnterWithoutSelection:k.func,onEntriesFound:k.func,onNoEntriesFound:k.func,selectedEntry:k.instanceOf(c('SearchableEntry')),tallInput:k.bool,viewStyle:k.oneOf(['textonly','rich','richNoLayer']),clearable:k.bool,onClear:k.func,showPhoto:k.bool,textInputDataTestID:k.string,highlightOnSelect:k.bool,presenter:k.object,inputID:k.string},c('XUIError.react').propTypes);o.defaultProps={viewStyle:'rich'};f.exports=o}),null);
__d('ReactComposerFileActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({RESET:null,SAVE_DROPBOX_FILE:null,SAVE_FILE:null,SET_FILE_CONFIG:null},'ReactComposerFileActionType')}),null);
__d('ReactComposerFileStore',['fbt','ReactComposerFileActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('ReactComposerStoreBase'));j=i&&i.prototype;function k(){'use strict';var l;j.constructor.call(this,function(){return {dialogAppURL:null,dropboxActionEndpoint:null,dropboxAppID:null,dropboxEnabled:null,dropboxFileID:null,file:null,maxFileUploadString:null,selectedDropboxFileName:l&&l.$ReactComposerFileStore1(),selectedFileName:l&&l.$ReactComposerFileStore1()}},function(m){switch(m.type){case c('ReactComposerFileActionType').RESET:l&&l.$ReactComposerFileStore2(m);break;case c('ReactComposerFileActionType').SAVE_DROPBOX_FILE:l&&l.$ReactComposerFileStore3(m);break;case c('ReactComposerFileActionType').SAVE_FILE:l&&l.$ReactComposerFileStore4(m);break;case c('ReactComposerFileActionType').SET_FILE_CONFIG:l&&l.$ReactComposerFileStore5(m);break;}});l=this}k.prototype.getDialogAppURL=function(l){'use strict';return this.getComposerData(l).dialogAppURL};k.prototype.getDropboxActionEndpoint=function(l){'use strict';return this.getComposerData(l).dropboxActionEndpoint};k.prototype.getDropboxAppID=function(l){'use strict';return this.getComposerData(l).dropboxAppID};k.prototype.getDropboxEnabled=function(l){'use strict';return this.getComposerData(l).dropboxEnabled};k.prototype.getDropboxFileID=function(l){'use strict';return this.getComposerData(l).dropboxFileID};k.prototype.getFile=function(l){'use strict';return this.getComposerData(l).file};k.prototype.getMaxFileUploadSize=function(l){'use strict';return this.getComposerData(l).maxFileUploadSize};k.prototype.getMaxFileUploadString=function(l){'use strict';return this.getComposerData(l).maxFileUploadString};k.prototype.getSelectedDropboxFileName=function(l){'use strict';return this.getComposerData(l).selectedDropboxFileName};k.prototype.getSelectedFileName=function(l){'use strict';return this.getComposerData(l).selectedFileName};k.prototype.getURI=function(l){'use strict';return this.hasFile(l)?'/ajax/groups/files/upload':'/ajax/groups/files/dropbox_publish'};k.prototype.hasDropboxFile=function(l){'use strict';return !!this.getComposerData(l).dropboxFileID};k.prototype.hasFile=function(l){'use strict';return !!this.getComposerData(l).file};k.prototype.isFileSelected=function(l){'use strict';var m=this.getComposerData(l);return !!m.file||!!m.dropboxFileID};k.prototype.$ReactComposerFileStore1=function(){'use strict';return h._("No se ha elegido ning\u00fan archivo")};k.prototype.$ReactComposerFileStore2=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.file=n.dropboxFileID=null;n.selectedFileName=n.selectedDropboxFileName=this.$ReactComposerFileStore1();this.emitChange(l.composerID)};k.prototype.$ReactComposerFileStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','id','name']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.dropboxFileID=o;q.selectedDropboxFileName=p;this.emitChange(n)};k.prototype.$ReactComposerFileStore4=function(l){'use strict';var m=this.validateAction(l,['composerID','file','name']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.file=o;q.selectedFileName=p;this.emitChange(l.composerID)};k.prototype.$ReactComposerFileStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','config']),n=m[0],o=m[1],p=this.getComposerData(n);p.dialogAppURL=o.dialogAppURL;p.dropboxActionEndpoint=o.dropboxActionEndpoint;p.dropboxAppID=o.dropboxAppID;p.dropboxEnabled=o.dropboxEnabled;p.maxFileUploadSize=o.maxFileUploadSize;p.maxFileUploadString=o.maxFileUploadString;this.emitChange(l.composerID)};f.exports=new k()}),null);
__d('ReactComposerFileActions',['ReactComposerDispatcher','ReactComposerFileActionType','ReactComposerFileStore'],(function a(b,c,d,e,f,g){c('ReactComposerFileStore');h.prototype.reset=function(i){'use strict';var j={composerID:i,type:c('ReactComposerFileActionType').RESET};c('ReactComposerDispatcher').dispatch(j)};h.prototype.saveDropboxFile=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerFileActionType').SAVE_DROPBOX_FILE,id:j,name:k};c('ReactComposerDispatcher').dispatch(l)};h.prototype.saveFile=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerFileActionType').SAVE_FILE,name:j.name,file:j.file};c('ReactComposerDispatcher').dispatch(k)};h.prototype.setConfig=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerFileActionType').SET_FILE_CONFIG,config:j};c('ReactComposerDispatcher').dispatch(k)};function h(){'use strict'}f.exports=new h()}),null);
/*
 * @preserve-header
 * @nolint
 *
 * Javascript EXIF Reader 0.1.6
 * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
 * Licensed under the MPL License [http://www.nihilogic.dk/licenses/mpl-license.txt]
 */
__d("exif/exif",[],(function a(b,c,d,e,f,g){var h=function(){var i={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},j={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},k={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function m(y,event,z){if(y.addEventListener){y.addEventListener(event,z,false)}else if(y.attachEvent)y.attachEvent("on"+event,z);}function n(y){return !!y.exifdata}function o(y,z){BinaryAjax(y.src,function(aa){var ba=p(aa.binaryResponse);y.exifdata=ba||{};if(z)z.call(y);})}function p(y){if(y.getByteAt(0)!=255||y.getByteAt(1)!=216)return false;var z=2,aa=y.getLength(),ba;while(z<aa){if(y.getByteAt(z)!=255)return false;ba=y.getByteAt(z+1);if(ba==22400){return s(y,z+4,y.getShortAt(z+2,true)-2)}else if(ba==225){return s(y,z+4,y.getShortAt(z+2,true)-2)}else z+=2+y.getShortAt(z+2,true);}}function q(y,z,aa,ba,ca){var da=y.getShortAt(aa,ca),ea={},fa,ga,ha;for(ha=0;ha<da;ha++){fa=aa+ha*12+2;ga=ba[y.getShortAt(fa,ca)];ea[ga]=r(y,fa,z,aa,ca)}return ea}function r(y,z,aa,ba,ca){var da=y.getShortAt(z+2,ca),ea=y.getLongAt(z+4,ca),fa=y.getLongAt(z+8,ca)+aa,ga,ha,ia,ja,ka,la;switch(da){case 1:case 7:if(ea==1){return y.getByteAt(z+8,ca)}else{ga=ea>4?fa:z+8;ha=[];for(ja=0;ja<ea;ja++)ha[ja]=y.getByteAt(ga+ja);return ha}case 2:ga=ea>4?fa:z+8;return y.getStringAt(ga,ea-1);case 3:if(ea==1){return y.getShortAt(z+8,ca)}else{ga=ea>2?fa:z+8;ha=[];for(ja=0;ja<ea;ja++)ha[ja]=y.getShortAt(ga+2*ja,ca);return ha}case 4:if(ea==1){return y.getLongAt(z+8,ca)}else{ha=[];for(var ja=0;ja<ea;ja++)ha[ja]=y.getLongAt(fa+4*ja,ca);return ha}case 5:if(ea==1){ka=y.getLongAt(fa,ca);la=y.getLongAt(fa+4,ca);ia=new Number(ka/la);ia.numerator=ka;ia.denominator=la;return ia}else{ha=[];for(ja=0;ja<ea;ja++){ka=y.getLongAt(fa+8*ja,ca);la=y.getLongAt(fa+4+8*ja,ca);ha[ja]=new Number(ka/la);ha[ja].numerator=ka;ha[ja].denominator=la}return ha}case 9:if(ea==1){return y.getSLongAt(z+8,ca)}else{ha=[];for(ja=0;ja<ea;ja++)ha[ja]=y.getSLongAt(fa+4*ja,ca);return ha}case 10:if(ea==1){return y.getSLongAt(fa,ca)/y.getSLongAt(fa+4,ca)}else{ha=[];for(ja=0;ja<ea;ja++)ha[ja]=y.getSLongAt(fa+8*ja,ca)/y.getSLongAt(fa+4+8*ja,ca);return ha}}}function s(y,z){if(y.getStringAt(z,4)!="Exif")return false;var aa,ba,ca,da,ea,fa=z+6;if(y.getShortAt(fa)==18761){aa=false}else if(y.getShortAt(fa)==19789){aa=true}else return false;if(y.getShortAt(fa+2,aa)!=42)return false;if(y.getLongAt(fa+4,aa)!=8)return false;ba=q(y,fa,fa+8,j,aa);if(ba.ExifIFDPointer){da=q(y,fa,fa+ba.ExifIFDPointer,i,aa);for(ca in da){switch(ca){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":da[ca]=l[ca][da[ca]];break;case "ExifVersion":case "FlashpixVersion":da[ca]=String.fromCharCode(da[ca][0],da[ca][1],da[ca][2],da[ca][3]);break;case "ComponentsConfiguration":da[ca]=l.Components[da[ca][0]]+l.Components[da[ca][1]]+l.Components[da[ca][2]]+l.Components[da[ca][3]];break;}ba[ca]=da[ca]}}if(ba.GPSInfoIFDPointer){ea=q(y,fa,fa+ba.GPSInfoIFDPointer,k,aa);for(ca in ea){switch(ca){case "GPSVersionID":ea[ca]=ea[ca][0]+"."+ea[ca][1]+"."+ea[ca][2]+"."+ea[ca][3];break;}ba[ca]=ea[ca]}}return ba}function t(y,z){if(!y.complete)return false;if(!n(y)){o(y,z)}else if(z)z.call(y);return true}function u(y,z){if(!n(y))return;return y.exifdata[z]}function v(y){if(!n(y))return {};var z,aa=y.exifdata,ba={};for(z in aa)if(aa.hasOwnProperty(z))ba[z]=aa[z];return ba}function w(y){if(!n(y))return "";var z,aa=y.exifdata,ba="";for(z in aa)if(aa.hasOwnProperty(z))if(typeof aa[z]=="object"){if(aa[z] instanceof Number){ba+=z+" : "+aa[z]+" ["+aa[z].numerator+"/"+aa[z].denominator+"]\r\n"}else ba+=z+" : ["+aa[z].length+" values]\r\n";}else ba+=z+" : "+aa[z]+"\r\n";return ba}function x(y){return p(y)}return {readFromBinaryFile:x,pretty:w,getTag:u,getAllTags:v,getData:t,Tags:i,TiffTags:j,GPSTags:k,StringValues:l}}();f.exports=h}),null);
__d('ImageExif',['exif/exif'],(function a(b,c,d,e,f,g){function h(k){this.getByteAt=function(l){return k.getUint8(l)};this.getShortAt=function(l,m){return k.getUint16(l,!m)};this.getSShortAt=function(l,m){return k.getInt16(l,!m)};this.getLongAt=function(l,m){return k.getUint32(l,!m)};this.getSLongAt=function(l,m){return k.getInt32(l,!m)};this.getStringAt=function(l,m){var n=Array(m);for(var o=0;o<m;o++)n.push(String.fromCharCode(this.getByteAt(l+o)));return n.join('')};this.getLength=function(){return k.byteLength}}function i(k){var l=function m(n){return k.charCodeAt(n)&255};this.getByteAt=l;this.getShortAt=function(m,n){var o=this.getSShortAt(m,n);return o>0?o:o+65536};this.getSShortAt=function(m,n){var o=l(m),p=l(m+1);return n?(o<<8)+p:(p<<8)+o};this.getLongAt=function(m,n){var o=this.getSLongAt(m,n);return o>0?o:o+4294967296};this.getSLongAt=function(m,n){var o=l(m),p=l(m+1),q=l(m+2),r=l(m+3);return n?(((o<<8)+p<<8)+q<<8)+r:(((r<<8)+q<<8)+p<<8)+o};this.getStringAt=function(m,n){return k.substr(m,n)};this.getLength=function(){return k.length}}var j={readFromFile:function k(l,m){var n=new FileReader();n.addEventListener('load',function(event){var o=event.target.result,p=o instanceof ArrayBuffer?this.readFromArrayBuffer(o):this.readFromBinaryString(o);m(p)}.bind(this),false);if(window.DataView){n.readAsArrayBuffer(l)}else n.readAsBinaryString(l);},readFromBinaryString:function k(l){return c('exif/exif').readFromBinaryFile(new i(l))},readFromArrayBuffer:function k(l){return c('exif/exif').readFromBinaryFile(new h(new DataView(l)))}};f.exports=j}),null);
__d('StringEncoding',[],(function a(b,c,d,e,f,g){'use strict';function h(o,p){var q=new Uint8Array(o),r=0,s=[];while(r<q.length){var t=q[r],u=void 0;if(t>>7===0){u=1}else if(t>>5===6){t&=31;u=2}else if(t>>4===14){t&=15;u=3}else if(t>>3===30){t&=7;u=4}else if(t>>2===62){t&=3;u=5}else if(t>>1===126){t&=1;u=6}else throw new Error('Cannot decode as UTF-8 - unrecognised codepoint header');if(r+u>q.length)throw new Error('Cannot decode as UTF-8 - incomplete codepoint');for(var v=1;v<u;v++){var w=q[r+v];if(w>>6!==2)throw new Error('Cannot decode as UTF-8 - '+'unrecognised codepoint subsequent byte');w&=63;t<<=6;t|=w}if(t>1114111)throw new Error('Cannot decode as UTF-8 - '+"JavaScript doesn't support codepoints over 0x10FFFF");if(!t)switch(p){case 'error':throw new Error('Cannot decode as UTF-8 - '+"contains a null and we're not allowing them");case 'ignore':continue;case 'truncate':return String.fromCodePoint.apply(String,s);case 'include':break;}s.push(t);r+=u}return String.fromCodePoint.apply(String,s)}function i(o){return (o&255)<<8|o>>8}function j(o,p){if(o.byteLength%2!==0)throw new Error('Cannot decode as UTF-16 - data length mod 2 != 0');var q=new Uint16Array(o),r=0,s=[],t=false;if(q[0]===65279){++r}else if(q[0]==65534){++r;t=true}while(r<q.length){var u=q[r];if(t)u=i(u);var v=u;if(u>55295&&u<57344){if((u&64512)!==55296)throw new Error('Cannot decode as UTF-16 - '+'incorrect signature for high surrogate');if(r+1>=q.length)throw new Error('Cannot decode as UTF-16 - incomplete codepoint');++r;var w=q[r];if(t)w=i(w);if((w&64512)!==56320)throw new Error('Cannot decode as UTF-16 - '+'incorrect signature for low surrogate');v=((u&1023)<<10|w&1023)+65536}if(!v)switch(p){case 'error':throw new Error('Cannot decode as UTF-16 - '+"contains a null and we're not allowing them");case 'ignore':continue;case 'truncate':return String.fromCodePoint.apply(String,s);case 'include':break;}s.push(v);++r}return String.fromCodePoint.apply(String,s)}function k(o){return (o&255)<<24|(o&255<<8)<<8|(o&255<<16)>>8|o>>>24}function l(o,p){if(o.byteLength%4!==0)throw new Error('Cannot decode as UTF-32 - data length mod 4 != 0');var q=new Uint32Array(o),r=0,s=[],t=false;if(q[0]===65279){++r}else if(q[0]==4294836224){++r;t=true}while(r<q.length){var u=q[r];if(t)u=k(u);if(u&2147483648)throw new Error('Cannot decode as UTF-32 - invalid codepoint');if(u>1114111)throw new Error('Cannot decode as UTF-32 - '+"JavaScript doesn't support codepoints over 0x10FFFF");if(!u)switch(p){case 'error':throw new Error('Cannot decode as UTF-32 - '+"contains a null and we're not allowing them");case 'ignore':continue;case 'truncate':return String.fromCodePoint.apply(String,s);case 'include':break;}s.push(u);++r}return String.fromCodePoint.apply(String,s)}var m={'utf-8':h,'utf-16':j,'utf-32':l};function n(o,p){if(o){this.$Decoder1=o}else this.$Decoder1=['utf-8','utf-16','utf-32'];if(!p)p='error';this.$Decoder2=p;for(var q=this.$Decoder1,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;this.$Decoder3(u)}}n.prototype.getPrecedence=function(){return this.$Decoder1};n.prototype.decode=function(o){var p=[];for(var q=this.$Decoder1,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t,v=this.$Decoder3(u);try{return v(o,this.$Decoder2)}catch(w){p.push(w)}}throw new Error(p.join(', '))};n.prototype.$Decoder3=function(o){var p=m[o];if(!p)throw new Error('Unknown encoding '+o);return p};f.exports.Decoder=n}),null);
__d('ImageMetadata',['regeneratorRuntime','Promise','ImageExif','StringEncoding','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';function h(m){this.$ImageMetadata4='';this.$ImageMetadata6=m;this.$ImageMetadata7=new Uint8Array(m);this.$ImageMetadata8()}h.prototype.$ImageMetadata8=function(){var m=0;while(m<this.$ImageMetadata7.length){m=this.$ImageMetadata9(m);if(m===-1)return;var n=this.$ImageMetadata7[m+1],o=i[n];if(!o)return;var p=o.length;if(p===undefined)p=this.$ImageMetadata7[m+2]*256+this.$ImageMetadata7[m+3];this.$ImageMetadata10(m,p,o);if(o.name==='SOS')return;m+=2+p}};h.prototype.$ImageMetadata10=function(m,n,o){switch(o.name){case 'APP1':if(this.$ImageMetadata11(m+4,j)){if(!this.$ImageMetadata1){this.$ImageMetadata1=m;this.$ImageMetadata2=n}this.$ImageMetadata12(m+4+j.length,n-2-j.length)}else if(this.$ImageMetadata11(m+4,k)){this.$ImageMetadata1=m;this.$ImageMetadata2=n;this.$ImageMetadata13(m+4+k.length,n-2-k.length)}else if(this.$ImageMetadata11(m+4,l)){this.$ImageMetadata14(m+4+l.length,n-2-l.length)}break;case 'SOF0':case 'SOF1':case 'SOF2':case 'SOF3':case 'SOF5':case 'SOF6':case 'SOF7':case 'JPG':case 'SOF9':case 'SOF10':case 'SOF11':case 'SOF13':case 'SOF14':case 'SOF15':this.$ImageMetadata15(m+4,n-2);break;}};h.prototype.$ImageMetadata15=function(m,n){var o=this.$ImageMetadata7[m+3]*256+this.$ImageMetadata7[m+4],p=this.$ImageMetadata7[m+1]*256+this.$ImageMetadata7[m+2];if(o>0&&p>0)this.$ImageMetadata5={x:o,y:p};};h.prototype.$ImageMetadata12=function(m,n){var o=emptyFunction;try{emptyFunction=c('emptyFunction');var p=c('ImageExif').readFromArrayBuffer(this.$ImageMetadata6)||{}}finally{emptyFunction=o}var q={};for(var r in p){var s=p[r];if(typeof s==='string')s=s.trim();q[r.trim()]=s}this.$ImageMetadata3=q};h.prototype.$ImageMetadata13=function(m,n){var o=new (c('StringEncoding').Decoder)(null,'truncate');try{var p=o.decode(this.$ImageMetadata6.slice(m,m+n));this.$ImageMetadata4=p}catch(q){return}};h.prototype.$ImageMetadata14=function(m){};h.prototype.$ImageMetadata11=function(m,n){return n.split('').every(function(o){return this.$ImageMetadata7[m++]===o.charCodeAt(0)}.bind(this))};h.prototype.$ImageMetadata9=function(m){for(var n=m;n+1<this.$ImageMetadata7.length;++n)if(this.$ImageMetadata7[n]===255&&this.$ImageMetadata7[n+1]!==0&&this.$ImageMetadata7[n+1]!==255)return n;return -1};h.prototype.hasAPP1=function(){return Boolean(this.$ImageMetadata1)};h.prototype.hasExif=function(){return Boolean(this.$ImageMetadata3)};h.prototype.hasXMP=function(){return Boolean(this.$ImageMetadata4)};h.prototype.hasSize=function(){return Boolean(this.$ImageMetadata5)};h.prototype.getAPP1Location=function(){if(!this.hasAPP1())return null;return this.$ImageMetadata1};h.prototype.getAPP1Length=function(){if(!this.hasAPP1())return null;return this.$ImageMetadata2};h.prototype.getExif=function(){if(!this.$ImageMetadata3)throw new Error('Image has no Exif data');return this.$ImageMetadata3};h.prototype.getXMPString=function(){return this.$ImageMetadata4};h.prototype.getSize=function(){if(!this.$ImageMetadata5)throw new Error('Could not find size data?!');return this.$ImageMetadata5};h.genMetadataFromBlob=function m(n){return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:p.t0=h;p.next=3;return c('regeneratorRuntime').awrap(h.$ImageMetadata16(n));case 3:p.t1=p.sent;return p.abrupt('return',new p.t0(p.t1));case 5:case 'end':return p.stop();}},null,this)};h.$ImageMetadata16=function(m){return new (c('Promise'))(function(n,o){var p=new b.FileReader();p.onabort=o;p.onerror=o;p.onload=n;p.readAsArrayBuffer(m)})};var i=[];i[216]={name:'SOI',length:0};i[192]={name:'SOF0'};i[193]={name:'SOF1'};i[194]={name:'SOF2'};i[195]={name:'SOF3'};i[197]={name:'SOF5'};i[198]={name:'SOF6'};i[199]={name:'SOF7'};i[200]={name:'JPG'};i[201]={name:'SOF9'};i[202]={name:'SOF10'};i[203]={name:'SOF11'};i[205]={name:'SOF13'};i[206]={name:'SOF14'};i[207]={name:'SOF15'};i[196]={name:'DHT'};i[219]={name:'DQT'};i[221]={name:'DRI',length:2};i[218]={name:'SOS'};i[208]={name:'RST0',length:0};i[209]={name:'RST1',length:0};i[210]={name:'RST2',length:0};i[211]={name:'RST3',length:0};i[212]={name:'RST4',length:0};i[213]={name:'RST5',length:0};i[214]={name:'RST6',length:0};i[215]={name:'RST7',length:0};i[224]={name:'APP0'};i[225]={name:'APP1'};i[226]={name:'APP2'};i[227]={name:'APP3'};i[228]={name:'APP4'};i[229]={name:'APP5'};i[230]={name:'APP6'};i[231]={name:'APP7'};i[232]={name:'APP8'};i[233]={name:'APP9'};i[234]={name:'APP10'};i[235]={name:'APP11'};i[236]={name:'APP12'};i[237]={name:'APP13'};i[238]={name:'APP14'};i[239]={name:'APP15'};i[254]={name:'COM'};i[217]={name:'EOI',length:0};var j='Exif\0\0',k='http://ns.adobe.com/xap/1.0/\0',l='http://ns.adobe.com/xmp/extension/\0';f.exports=h}),null);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/spherical_media\/photo\/metadata\/",{})}),null);
__d('SphericalImageUtils',['Promise','ImageMetadata','XAsyncRequest','XSphericalPhotoSphereMetadataAsyncController'],(function a(b,c,d,e,f,g){'use strict';var h=2048,i={genArrayBufferFromBlob:function j(k){return new (c('Promise'))(function(l,m){if(b.FileReader){var n=new b.FileReader();n.onabort=m;n.onerror=m;n.onload=function(event){l(event.target.result)};n.readAsArrayBuffer(k)}else m(new Error("global.FileReader doesn't exit"));})},shouldCheckInServer:function j(k){if(!k.hasExif()&&!k.hasXMP()||!k.hasSize())return false;var l=k.getXMPString();if(this.getMayContainSphericalMetadata(l))return true;var m=k.getSize(),n=m.x,o=m.y;if(Math.max(n,o)<h||n/o<2&&o/n<2)return false;var p=k.hasExif()?k.getExif():{};if(l===''&&(!p.Make||!p.Model))return false;return true},genPhotoSphereMetadata:function j(k){return new (c('Promise'))(function(l,m){this.genArrayBufferFromBlob(k).done(function(n){var o,p=this;try{(function(){var q=new (c('ImageMetadata'))(n);if(p.shouldCheckInServer(q)){p.genPhotoSphereMetadataFromServer(q.hasSize()?q.getSize():{x:0,y:0},q.getXMPString(),q.hasExif()?q.getExif():{}).done(function(r){var s=r.payload;l({photoSphereMetadata:s,imageMetadata:q})},m)}else l({});})()}catch(q){q.__manual=true;m(q)}}.bind(this),m)}.bind(this))},genPhotoSphereMetadataFromServer:function j(k,l,m){return new (c('Promise'))(function(n,o){new (c('XAsyncRequest'))(c('XSphericalPhotoSphereMetadataAsyncController').getURIBuilder().getURI()).setMethod('POST').setData({exif_string:this.getExifString(m),height:k.y,width:k.x,xmp:l}).setHandler(n).setErrorHandler(o).send()}.bind(this))},getExifString:function j(k){return JSON.stringify(k,function(l,m){if(l==='FocalLength'&&m.numerator&&m.denominator)return m.numerator+'/'+m.denominator;return m})},getMayContainSphericalMetadata:function j(k){return k!==''&&k.indexOf('GPano:')>-1}};f.exports=i}),null);
__d('SphericalImage',['regeneratorRuntime','SphericalImageUtils'],(function a(b,c,d,e,f,g){'use strict';var h='ProjectionType';function i(j){this.props=j}i.createFromBlob=function j(k){var l;return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return c('regeneratorRuntime').awrap(c('SphericalImageUtils').genPhotoSphereMetadata(k));case 2:l=n.sent;return n.abrupt('return',new this(l));case 4:case 'end':return n.stop();}},null,this)};i.prototype.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};i.prototype.getImageMetadata=function(){return this.props.imageMetadata};i.prototype.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};i.prototype.getSize=function(){if(this.props.imageMetadata)return this.props.imageMetadata.getSize();return null};i.prototype.getProjectionType=function(){var j='';if(this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h])j=this.props.photoSphereMetadata[h];return j};f.exports=i}),null);
__d('SphericalPhotoUploadHelper',[],(function a(b,c,d,e,f,g){'use strict';f.exports={shouldResize360:function h(i,j,k){if(j&&Math.max(j.x,j.y)<=k||i==='cubestrip')return false;return true}}}),null);
__d('XComposerPhotoUploader',['regeneratorRuntime','Promise','AsyncUploadRequest','FileInputUploader','JSLogger','PhotosMimeType','PhotosUploadID','ReactComposerMediaUtils','SphericalImage','SphericalPhotoConfig','SphericalPhotoUploadHelper','curry','emptyFunction','performanceNow'],(function a(b,c,d,e,f,g){'use strict';var h=c('SphericalPhotoUploadHelper').shouldResize360,i=b.URL||b.webkitURL||{};function j(k){this.$XComposerPhotoUploader2=k.uploadData||{};this.$XComposerPhotoUploader1=k.uploadEndpoint;this.$XComposerPhotoUploader3=k.retryLimit;this.$XComposerPhotoUploader4=k.concurrentLimit;this.$XComposerPhotoUploader5=k.resizer;this.$XComposerPhotoUploader6=k.onUploadEnqueued||c('emptyFunction');this.$XComposerPhotoUploader7=k.onUploadsEnqueued||c('emptyFunction');this.$XComposerPhotoUploader8=k.onResizeStart||c('emptyFunction');this.$XComposerPhotoUploader11=k.onResizeProgress||c('emptyFunction');this.$XComposerPhotoUploader9=k.onResizeSuccess||c('emptyFunction');this.$XComposerPhotoUploader10=k.onResizeFailure||c('emptyFunction');this.$XComposerPhotoUploader12=k.onSphericalCheckFailure||c('emptyFunction');this.$XComposerPhotoUploader13=k.onSphericalCheckSuccess||c('emptyFunction');this.$XComposerPhotoUploader14=k.onUploadIsSpherical||c('emptyFunction');this.$XComposerPhotoUploader15=k.onUploadSent||c('emptyFunction');this.$XComposerPhotoUploader16=k.onUploadStart||c('emptyFunction');this.$XComposerPhotoUploader17=k.onUploadProgress||c('emptyFunction');this.$XComposerPhotoUploader18=k.onUploadSuccess||c('emptyFunction');this.$XComposerPhotoUploader19=k.onUploadFailure||c('emptyFunction');this.$XComposerPhotoUploader20=c('JSLogger').create('composer')}j.prototype.upload=function(k,l){l=l||0;var m=Object.assign({},this.$XComposerPhotoUploader2),n=null;if(!this.$XComposerPhotoUploader21(k)){var o=c('PhotosUploadID').getNewID();k.uploadID=o;m.upload_id=o;this.$XComposerPhotoUploader6({uploadID:o,fileName:k.value.split('/').pop().split('\\').pop(),fileURL:i.createObjectURL?i.createObjectURL(k):null})}else{n=Array.from(k.files);n=n.filter(function(r){return !c('ReactComposerMediaUtils').hasVideos([r.name])});if(n.length===0)return;var p=n.length+l;n.forEach(function(r){if(!r.uploadID)r.uploadID=c('PhotosUploadID').getNewID();this.$XComposerPhotoUploader6({uploadID:r.uploadID,fileName:r.name,isSpherical:false,fileURL:i.createObjectURL?i.createObjectURL(r):null})}.bind(this))}this.$XComposerPhotoUploader7();var q=new (c('FileInputUploader'))(k).setURI(this.$XComposerPhotoUploader1).setData(m).setAllowCrossOrigin(true).setNetworkErrorRetryLimit(this.$XComposerPhotoUploader3).setUploadInParallel(true);if(n&&n.length>0){q.setFiles({farr:n});if(this.$XComposerPhotoUploader5){q.setPreprocessHandler(this.$XComposerPhotoUploader22.bind(this))}else q.setPreprocessHandler(this.$XComposerPhotoUploader23.bind(this));if(this.$XComposerPhotoUploader4)q.setConcurrentLimit(this.$XComposerPhotoUploader4);}q.subscribe('progress',function(r,s){return this.$XComposerPhotoUploader17(this.$XComposerPhotoUploader24(s,k),s)}.bind(this));q.subscribe('failure',function(r,s){return this.$XComposerPhotoUploader19(this.$XComposerPhotoUploader24(s,k),s,n)}.bind(this));q.subscribe('start',function(r,s){return this.$XComposerPhotoUploader16(this.$XComposerPhotoUploader24(s,k),s)}.bind(this));q.subscribe('success',function(r,s){return this.$XComposerPhotoUploader18(this.$XComposerPhotoUploader24(s,k),s)}.bind(this));try{q.send();this.$XComposerPhotoUploader15(k)}catch(r){this.$XComposerPhotoUploader20.error('error_send_unpublished_files',r);throw r}};j.prototype.getAsyncUploadRequest=function(k,l){var m=new (c('AsyncUploadRequest'))().setData(Object.assign({},l&&l.data,this.$XComposerPhotoUploader2)).setFiles({farr:k}).setAllowCrossOrigin(true).setURI(this.$XComposerPhotoUploader1);if(this.$XComposerPhotoUploader4)m.setLimit(this.$XComposerPhotoUploader4);if(this.$XComposerPhotoUploader5)m.setPreprocessHandler(this.$XComposerPhotoUploader22.bind(this));m.subscribe('start',function(n,o){return this.$XComposerPhotoUploader16(o.getFile().uploadID,{upload:o})}.bind(this));m.subscribe('progress',function(n,o){return this.$XComposerPhotoUploader17(o.getFile().uploadID,{upload:o,event:o.getProgressEvent()})}.bind(this));m.subscribe('success',function(n,o){return this.$XComposerPhotoUploader18(o.getFile().uploadID,{upload:o,response:o.getResponse()})}.bind(this));m.subscribe('failure',function(n,o){return this.$XComposerPhotoUploader19(o.getFile().uploadID,{upload:o,response:o.getResponse()},k)}.bind(this));return m};j.prototype.$XComposerPhotoUploader24=function(k,l){if(k.upload){return k.upload.getFile().uploadID}else return l.uploadID;};j.prototype.$XComposerPhotoUploader23=function(k,l){(function m(){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c('regeneratorRuntime').awrap(this.$XComposerPhotoUploader25(k,l));case 2:return o.abrupt('return',o.sent);case 3:case 'end':return o.stop();}},null,this)}).bind(this)().done()};j.prototype.$XComposerPhotoUploader25=function k(l,m){var n,o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:n=l.getFile();q.next=3;return c('regeneratorRuntime').awrap(this.$XComposerPhotoUploader26(n));case 3:o=q.sent;if(o&&o.isSpherical()){this.$XComposerPhotoUploader14(n,o.isSpherical(),o.getProjectionType())}else this.$XComposerPhotoUploader14(n,false,'');m(l);case 6:case 'end':return q.stop();}},null,this)};j.prototype.$XComposerPhotoUploader22=function(k,l){(function m(){return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c('regeneratorRuntime').awrap(this.$XComposerPhotoUploader27(k,l));case 2:return o.abrupt('return',o.sent);case 3:case 'end':return o.stop();}},null,this)}).bind(this)().done()};j.prototype.$XComposerPhotoUploader26=function k(l){var m,n;return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:m=c('performanceNow')();p.prev=1;p.next=4;return c('regeneratorRuntime').awrap(c('SphericalImage').createFromBlob(l));case 4:n=p.sent;this.$XComposerPhotoUploader13(l,c('performanceNow')()-m,n);return p.abrupt('return',n);case 9:p.prev=9;p.t0=p['catch'](1);this.$XComposerPhotoUploader12(l,c('performanceNow')()-m);return p.abrupt('return',null);case 14:case 'end':return p.stop();}},null,this,[[1,9]])};j.prototype.$XComposerPhotoUploader28=function(k){return this.$XComposerPhotoUploader29(this.$XComposerPhotoUploader5.resizeBlob.bind(this.$XComposerPhotoUploader5),k)};j.prototype.$XComposerPhotoUploader30=function(k){return this.$XComposerPhotoUploader29(this.$XComposerPhotoUploader5.resize360Blob.bind(this.$XComposerPhotoUploader5),k,c('SphericalPhotoConfig').upload_size_limit)};j.prototype.$XComposerPhotoUploader29=function(k,l,m){var n=c('curry')(this.$XComposerPhotoUploader11,l.uploadID),o=function(){return this.$XComposerPhotoUploader8(l)}.bind(this);return new (c('Promise'))(function(p,q){o();k(l,function(r,s,t){if(r){q(r)}else if(t){p(null)}else p(s);},n,m)})};j.prototype.$XComposerPhotoUploader27=function k(l,m){var n,o,p,q,r,s,t,u,v;return c('regeneratorRuntime').async(function w(x){while(1)switch(x.prev=x.next){case 0:n=l.getFile();if(!(!n||!c('PhotosMimeType').isJpeg(n.type))){x.next=5;break}this.$XComposerPhotoUploader14(n,false,'');m(l);return x.abrupt('return');case 5:o=c('performanceNow')();x.prev=6;p=null;if(!c('SphericalPhotoConfig').spherical_photo_www_upload){x.next=12;break}x.next=11;return c('regeneratorRuntime').awrap(this.$XComposerPhotoUploader26(n));case 11:p=x.sent;case 12:if(!(p&&p.isSpherical())){x.next=23;break}this.$XComposerPhotoUploader14(n,true,p.getProjectionType());r=p.getSize();s=c('SphericalPhotoConfig').upload_size_limit;t=p.getProjectionType();if(!h(t,r,s)){x.next=21;break}x.next=20;return c('regeneratorRuntime').awrap(this.$XComposerPhotoUploader30(n));case 20:q=x.sent;case 21:x.next=27;break;case 23:this.$XComposerPhotoUploader14(n,false,'');x.next=26;return c('regeneratorRuntime').awrap(this.$XComposerPhotoUploader28(n));case 26:q=x.sent;case 27:if(q){q.uploadID=n.uploadID;q.name=n.name;l.setFile(q)}u=q===null;l.getFile().filename=n.name;this.$XComposerPhotoUploader9(n,q||n,u,c('performanceNow')()-o);x.next=38;break;case 33:x.prev=33;x.t0=x['catch'](6);v=c('performanceNow')()-o;this.$XComposerPhotoUploader10(n,q||n,x.t0,v);case 38:m(l);case 39:case 'end':return x.stop();}},null,this,[[6,33]])};j.prototype.$XComposerPhotoUploader21=function(k){return !!k.files&&c('AsyncUploadRequest').isSupported()};f.exports=j}),null);
__d('ReactComposerSlideshowActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({AUDIO_FILE_UPLOAD_ERROR:null,AUDIO_FILE_UPLOAD_STARTED:null,AUDIO_FILE_UPLOAD_SUCCESS:null,CLOSE_EDIT_SLIDESHOW_DIALOG:null,CREATE:null,DURATION_CHANGE:null,FORMAT_CHANGE:null,HIDE_SLIDESHOW_EDIT_FIELD:null,IMAGE_REMOVE:null,IMAGES_SELECT_CONFIRM:null,MUSIC_CATEGORY_SELECT:null,PREVIEW_STATE_CHANGE:null,REORDER_IMAGES:null,SELECT_TAB:null,SHOW_EDIT_SLIDESHOW_DIALOG:null,SHOW_SLIDESHOW_EDIT_FIELD:null,SET_STORYLINE_MOOD_FILES:null,STORYLINE_MOOD_CHANGE:null,STORYLINE_MOOD_DELETE:null,STORYLINE_MOOD_SOURCE_CHANGE:null,STORYLINE_MOOD_SOURCE_MAP_CHANGE:null,TOGGLE_SLIDESHOW_DIALOG:null,TRANSITION_CHANGE:null},'ReactComposerSlideshowActionType')}),null);
__d('ReactComposerSelectedImagesStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerPhotoStore','ReactComposerSlideshowActionType','ReactComposerStoreBase','SlideshowConstants','SlideshowImageUtil','mergeDeepInto'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('SlideshowConstants').formats,k=c('SlideshowConstants').max_photo_num;h=babelHelpers.inherits(l,c('ReactComposerStoreBase'));i=h&&h.prototype;l.prototype.$ReactComposerSelectedImagesStore1=function(m,n,o){var p;if(m.isLoading)return {};var q=c('SlideshowImageUtil').calculateDefaultCoordinates({width:m.width,height:m.height},o);return p={},p[n]=q,p};l.prototype.$ReactComposerSelectedImagesStore2=function(m,n,o){var p=o;if(!p)p=this.getComposerData(m).format;return this.$ReactComposerSelectedImagesStore3(n,p)};l.prototype.$ReactComposerSelectedImagesStore3=function(m,n){if(!m.length)return [];switch(n){case j.Original:var o=m[0];return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,o.width+c('SlideshowConstants').SIZE_DELIMITER+o.height,o.width/o.height)}.bind(this));case j.Wide:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c('SlideshowConstants').LANDSCAPE_ASPECT_RATIO)}.bind(this));case j.Square:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c('SlideshowConstants').SQUARE_ASPECT_RATIO)}.bind(this));case j.Vertical:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c('SlideshowConstants').VERTICAL_ASPECT_RATIO)}.bind(this));default:return [];}};function l(){var m=void 0;i.constructor.call(this,function(){return {selectedImages:[],imagesCrops:[],editState:null,format:c('SlideshowConstants').formats.Original,removedUploadIDs:[],addedUploadIDs:[]}},function(n){switch(n.type){case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);m&&m.$ReactComposerSelectedImagesStore4(n);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);m&&m.$ReactComposerSelectedImagesStore5(n);break;case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:m&&m.$ReactComposerSelectedImagesStore6(n);break;case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:m&&m.$ReactComposerSelectedImagesStore7(n);break;case c('ReactComposerSlideshowActionType').REORDER_IMAGES:m&&m.$ReactComposerSelectedImagesStore8(n);break;case c('ReactComposerSlideshowActionType').FORMAT_CHANGE:m&&m.$ReactComposerSelectedImagesStore9(n);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore10(n);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:m&&m.$ReactComposerSelectedImagesStore11(n);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore12(n);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore13(n);break;case c('ReactComposerSlideshowActionType').CREATE:m&&m.$ReactComposerSelectedImagesStore14(n);break;default:break;}});m=this}l.prototype.$ReactComposerSelectedImagesStore4=function(m){var n=m.composerID,o=this.getComposerData(n),p=c('ReactComposerMediaUploadStore').getUploads(n),q=this.addNewImagesFromPhotoUploads(p,o.selectedImages,o.removedUploadIDs);o.selectedImages=o.selectedImages.concat(q);if(o.editState!==null)o.addedUploadIDs=o.addedUploadIDs.concat(q.map(function(r){return r.key}));this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore5=function(m){var n=m.composerID,o=this.getComposerData(n),p=c('ReactComposerPhotoStore').getPhotos(n);o.selectedImages=this.replacePhotoUploadsFromPhotos(p,o.selectedImages);o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore11=function(m){var n=m.composerID,o=this.getComposerData(n);o.selectedImages=[];o.imagesCrops=[];this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore10=function(m){var n=m.composerID,o=this.getComposerData(n);if(!m.shouldShowSlideshowDialog){o.selectedImages=[];o.imagesCrops=[]}this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore6=function(m){var n=m.composerID,o=this.getComposerData(n);o.selectedImages=o.selectedImages.concat(m.selectedImages);o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore7=function(m){var n=m.composerID,o=this.getComposerData(n);if(o.editState!==null)o.removedUploadIDs.push(m.removeImage.key);var p=o.selectedImages.filter(function(q){return q.key!==m.removeImage.key});o.selectedImages=p;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,p);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore8=function(m){var n=m.composerID,o=this.getComposerData(n),p=m.data,q=p.fromIndex,r=p.toIndex,s=o.selectedImages.slice(0),t=Object.assign({},s[q]);s[q].remove=true;s.splice(q>r?r:r+1,0,t);s=s.filter(function(u){return !u.remove});o.selectedImages=s;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,s);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore9=function(m){var n=m.composerID,o=this.getComposerData(n);o.format=m.format;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages,m.format);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore12=function(m){var n=m.composerID,o=this.getComposerData(n),p={};c('mergeDeepInto')(p,o);o.editState=p;this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore13=function(m){var n=m.composerID,o=this.getComposerData(n),p=o.editState;o.selectedImages=p.selectedImages;o.imagesCrops=p.imagesCrops;o.format=p.format;o.editState=null;o.removedUploadIDs=[];o.addedUploadIDs=[];this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore14=function(m){var n=m.composerID,o=this.getComposerData(n);o.editState=null;o.removedUploadIDs=[];o.addedUploadIDs=[];this.emitChange(n)};l.prototype.getImagesFromPhotoUploads=function(m){var n=[];m.forEach(function(o){n.push({height:null,isLoading:true,key:o.id,url:null,width:null})});return n};l.prototype.addNewImagesFromPhotoUploads=function(m,n,o){var p=this.getImagesFromPhotoUploads(m),q=p.filter(function(r){var s=n.findIndex(function(u){return u.key===r.key}),t=o.findIndex(function(u){return u===r.key});return s===-1&&t===-1});return q};l.prototype.replacePhotoUploadsFromPhotos=function(m,n){return n.map(function(o){var p=o,q=m.find(function(r){return r.uploadID===o.key});if(q!=null)p={height:q.height,isLoading:false,key:q.uploadID,photoID:q.id,thumbSrc:q.thumbSrc,url:q.imageSrc,width:q.width};return p})};l.prototype.getPhotoIDs=function(m){var n=this.getComposerData(m);return n.selectedImages.map(function(o){return o.photoID}).slice(0,k)};l.prototype.getRemovedUploadIDs=function(m){return this.getComposerData(m).removedUploadIDs};l.prototype.getAddedUploadIDs=function(m){return this.getComposerData(m).addedUploadIDs};l.prototype.getSelectedImages=function(m){return this.getComposerData(m).selectedImages};l.prototype.getThumbnailSrc=function(m){var n=this.getComposerData(m).selectedImages;if(n.length>0)return n[0].thumbSrc;return null};l.prototype.getImagesCrops=function(m){return this.getComposerData(m).imagesCrops};l.prototype.getNumberOfImages=function(m){return Math.min(this.getComposerData(m).selectedImages.length,k)};l.prototype.getFormat=function(m){return this.getComposerData(m).format};f.exports=new l()}),null);
__d('ReactComposerSlideshowActions',['ReactComposerDispatcher','ReactComposerSlideshowActionType'],(function a(b,c,d,e,f,g){var h={showSlideshowEditField:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').SHOW_SLIDESHOW_EDIT_FIELD})},hideSlideshowEditField:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD})},showSlideshowDialog:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,entrypoint:k,shouldShowSlideshowDialog:true,type:c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG})},closeSlideshowDialog:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,shouldShowSlideshowDialog:false,type:c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG})},showEditSlideshowDialog:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG})},closeEditSlideshowDialog:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG})},selectImagesConfirm:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedImages:k,type:c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM})},removeImage:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,removeImage:k,type:c('ReactComposerSlideshowActionType').IMAGE_REMOVE})},reorderImages:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,data:{fromIndex:k,toIndex:l},type:c('ReactComposerSlideshowActionType').REORDER_IMAGES})},changeStorylineMoodFile:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedStorylineMood:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_CHANGE})},deleteStorylineMoodFile:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedStorylineMood:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_DELETE})},changeStorylineMoodIDSource:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,storylineMoodIDSource:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_CHANGE})},changeStorylineMoodSourceMap:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,storylineMoodIDToSource:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_MAP_CHANGE})},changeTransition:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,transitionInMS:k,type:c('ReactComposerSlideshowActionType').TRANSITION_CHANGE})},changeDuration:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,durationInMS:k,type:c('ReactComposerSlideshowActionType').DURATION_CHANGE})},setStorylineMoodFiles:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,storylineMoodFiles:k,type:c('ReactComposerSlideshowActionType').SET_STORYLINE_MOOD_FILES})},createSlideshow:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').CREATE})},changeFormat:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,format:k,type:c('ReactComposerSlideshowActionType').FORMAT_CHANGE})},selectTab:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,tab:k,type:c('ReactComposerSlideshowActionType').SELECT_TAB})},musicCategorySelect:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedMusicCategory:k,type:c('ReactComposerSlideshowActionType').MUSIC_CATEGORY_SELECT})},previewStateChange:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,isPreviewPlaying:k,type:c('ReactComposerSlideshowActionType').PREVIEW_STATE_CHANGE})},audioFileUploadStarted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_STARTED})},audioFileUploadError:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_ERROR})},audioFileUploadSuccess:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,uploadedMood:k,type:c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_SUCCESS})}};f.exports=h}),null);
__d('ReactComposerSlideshowStore',['ReactComposerSlideshowActionType','ReactComposerStoreBase','SlideshowConstants','SlideshowFlowTypes','mergeDeepInto'],(function a(b,c,d,e,f,g){var h,i,j=c('SlideshowFlowTypes').SlideshowTabKey;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {durationInMS:1000,editState:null,isSlideshowSelected:false,selectedTab:j.SETTINGS_TAB,shouldShowSlideshowDialog:false,transitionInMS:c('SlideshowConstants').transitions.None}},function(m){switch(m.type){case c('ReactComposerSlideshowActionType').CREATE:l&&l.$ReactComposerSlideshowStore1(m);break;case c('ReactComposerSlideshowActionType').SHOW_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore2(m);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore3(m);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore4(m);break;case c('ReactComposerSlideshowActionType').TRANSITION_CHANGE:l&&l.$ReactComposerSlideshowStore5(m);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:l&&l.$ReactComposerSlideshowStore6(m);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore7(m);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore8(m);break;case c('ReactComposerSlideshowActionType').SELECT_TAB:l&&l.$ReactComposerSlideshowStore9(m);break;default:break;}});l=this}k.prototype.$ReactComposerSlideshowStore1=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;n.shouldShowSlideshowDialog=false;n.editState=null;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore9=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.selectedTab=l.tab;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore2=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore3=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=false;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore4=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=l.shouldShowSlideshowDialog;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore5=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.transitionInMS=l.transitionInMS;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore6=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.durationInMS=l.durationInMS;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore7=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m),o={};c('mergeDeepInto')(o,n);n.editState=o;n.shouldShowSlideshowDialog=true;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore8=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=false;n.isSlideshowSelected=true;var o=n.editState;n.durationInMS=o.durationInMS;n.transitionInMS=o.transitionInMS;n.editState=null;this.emitChange(m)};k.prototype.isSlideshowSelected=function(l){'use strict';return this.getComposerData(l).isSlideshowSelected};k.prototype.isEditing=function(l){'use strict';return this.getComposerData(l).editState!==null};k.prototype.shouldShowSlideshowDialog=function(l){'use strict';return this.getComposerData(l).shouldShowSlideshowDialog};k.prototype.getDurationInMS=function(l){'use strict';return this.getComposerData(l).durationInMS};k.prototype.getTotalLength=function(l,m){'use strict';return this.getDurationInMS(l)*m+this.getTransitionInMS(l)*m};k.prototype.getTransitionInMS=function(l){'use strict';return this.getComposerData(l).transitionInMS};k.prototype.getSelectedTab=function(l){'use strict';return this.getComposerData(l).selectedTab};f.exports=new k()}),null);
__d('ReactComposerSlideshowAudioStore',['immutable','ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerSelectedImagesStore','ReactComposerSlideshowActions','ReactComposerSlideshowActionType','ReactComposerSlideshowStore','ReactComposerStoreBase','SlideshowAudioUtil','SlideshowDataManager','SlideshowMusicCategory','SlideshowUtil','mergeDeepInto'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {audioFileUploadInfo:{isUploading:false,hasError:false},editState:null,isPreviewPlaying:false,recentlyUsedStorylineMoods:c('immutable').List(),selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS,selectedStorylineMood:null,storylineMoodFiles:c('immutable').List(),storylineMoodIDToSource:c('immutable').Map()}},function(l){switch(l.type){case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c('ReactComposerSlideshowActions').previewStateChange(l.composerID,false)});break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_CHANGE:k&&k.$ReactComposerSlideshowAudioStore2(l);k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c('ReactComposerSlideshowActions').previewStateChange(l.composerID,true)});break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_DELETE:k&&k.$ReactComposerSlideshowAudioStore3(l);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore4(l);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore5(l);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:k&&k.$ReactComposerSlideshowAudioStore1(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:k&&k.$ReactComposerSlideshowAudioStore1(l);break;case c('ReactComposerSlideshowActionType').SET_STORYLINE_MOOD_FILES:k&&k.$ReactComposerSlideshowAudioStore6(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore7(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_MAP_CHANGE:k&&k.$ReactComposerSlideshowAudioStore8(l);break;case c('ReactComposerSlideshowActionType').MUSIC_CATEGORY_SELECT:k&&k.$ReactComposerSlideshowAudioStore9(l);break;case c('ReactComposerSlideshowActionType').PREVIEW_STATE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore10(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_STARTED:k&&k.$ReactComposerSlideshowAudioStore11(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_ERROR:k&&k.$ReactComposerSlideshowAudioStore12(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_SUCCESS:k&&k.$ReactComposerSlideshowAudioStore13(l);break;default:break;}});k=this}j.prototype.$ReactComposerSlideshowAudioStore1=function(k,l){'use strict';var m=k.composerID,n=this.getComposerData(m),o=n.selectedStorylineMood;if(!o)return;var p=o.moodID,q=this.getNumberOfImages(m),r=q===0?c('SlideshowUtil').getMaximumTotalLengthInMS():this.getTotalLength(m,q),s=this.getStorylineMoodIDToSource(m);c('SlideshowDataManager').fetchStorylineMoodSource(p,r,function(t){c('ReactComposerSlideshowActions').changeStorylineMoodIDSource(m,t);s=s.set(p,t);c('ReactComposerSlideshowActions').changeStorylineMoodSourceMap(m,s);if(l)l();});n.selectedStorylineMood.source=s.get(p);this.emitChange(m)};j.prototype.$ReactComposerSlideshowAudioStore11=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=true;m.audioFileUploadInfo.hasError=false;m.selectedMusicCategory=c('SlideshowMusicCategory').USER_UPLOADED;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore12=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.audioFileUploadInfo.hasError=true;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore13=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.audioFileUploadInfo.hasError=false;m.storylineMoodFiles=m.storylineMoodFiles.unshift(k.uploadedMood);this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore9=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.selectedMusicCategory=k.selectedMusicCategory;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore4=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n={};c('mergeDeepInto')(n,m);m.editState=n;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore5=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=m.editState;m.selectedStorylineMood=n.selectedStorylineMood;m.selectedMusicCategory=n.selectedMusicCategory;m.editState=null;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore2=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.selectedStorylineMood=k.selectedStorylineMood;if(k.selectedStorylineMood!=null)m.recentlyUsedStorylineMoods=m.recentlyUsedStorylineMoods.unshift(k.selectedStorylineMood);this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore3=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=k.selectedStorylineMood;if(c('SlideshowAudioUtil').storylineMoodCompare(n,m.selectedStorylineMood)){m.selectedStorylineMood=null;m.isPreviewPlaying=false}m.storylineMoodFiles=m.storylineMoodFiles.filter(function(o){return !c('SlideshowAudioUtil').storylineMoodCompare(o,n)});c('SlideshowDataManager').deleteAudioFile(n.moodID);this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore7=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);if(!m.selectedStorylineMood)return;m.selectedStorylineMood.source=k.storylineMoodIDSource;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore8=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.storylineMoodIDToSource=k.storylineMoodIDToSource;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore10=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPreviewPlaying=k.isPreviewPlaying;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore6=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.storylineMoodFiles=k.storylineMoodFiles;this.emitChange(l)};j.prototype.getNumberOfImages=function(k){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSelectedImagesStore').getDispatchToken()]);return c('ReactComposerSelectedImagesStore').getNumberOfImages(k)};j.prototype.getStorylineMoodFiles=function(k){'use strict';return this.getComposerData(k).storylineMoodFiles.toArray()};j.prototype.getRecentlyUsedStorylineMoods=function(k){'use strict';return this.getComposerData(k).recentlyUsedStorylineMoods.toArray()};j.prototype.getSelectedStorylineMood=function(k){'use strict';return this.getComposerData(k).selectedStorylineMood};j.prototype.getStorylineMoodIDToSource=function(k){'use strict';return this.getComposerData(k).storylineMoodIDToSource};j.prototype.getSelectedMusicCategory=function(k){'use strict';return this.getComposerData(k).selectedMusicCategory};j.prototype.getIsPreviewPlaying=function(k){'use strict';return this.getComposerData(k).isPreviewPlaying};j.prototype.getAudioFileUploadInfo=function(k){'use strict';return this.getComposerData(k).audioFileUploadInfo};j.prototype.getTotalLength=function(k,l){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowStore').getDispatchToken()]);return c('ReactComposerSlideshowStore').getTotalLength(k,l)};f.exports=new j()}),null);
__d("XReactComposerQAndAAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/qanda\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true}})}),null);
__d('ReactComposerQAndALazyAttachment.react',['ActorURI','Bootloader','React','ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','XReactComposerQAndAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerQAndALazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').QANDA},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.qandaAttachment){this.props.bootloader.qandaAttachment(j)}else c('Bootloader').loadModules(["ReactComposerQAndAAttachmentContainer.react","ReactComposerFeedMediaPostButtonContainer.react"],j,'ReactComposerQAndALazyAttachment.react');},getBootstrapURI:function i(){var j=c('XReactComposerQAndAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).getURI();return c('ActorURI').create(j,this.context.actorID)}});f.exports=h}),null);
__d('ReactComposerStatusAttachmentFocusActionType',['keyMirror'],(function a(b,c,d,e,f,g){f.exports=c('keyMirror')({FOCUS_STATUS_INPUT:null,DO_NOT_FOCUS_STATUS_INPUT:null})}),null);
__d('ReactComposerStatusAttachmentFocusStore',['ReactComposerStatusAttachmentFocusActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){var k;i.constructor.call(this,function(){return {isInputFocused:false}},function(l){switch(l.type){case c('ReactComposerStatusAttachmentFocusActionType').FOCUS_STATUS_INPUT:k&&k.$ReactComposerStatusAttachmentFocusStore1(l);break;case c('ReactComposerStatusAttachmentFocusActionType').DO_NOT_FOCUS_STATUS_INPUT:k&&k.$ReactComposerStatusAttachmentFocusStore2(l);break;}});k=this}j.prototype.isInputFocused=function(k){return this.getComposerData(k).isInputFocused};j.prototype.$ReactComposerStatusAttachmentFocusStore1=function(k){var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.isInputFocused=true;this.emitChange(l)};j.prototype.$ReactComposerStatusAttachmentFocusStore2=function(k){var l=k.composerID,m=this.getComposerData(l);m.isInputFocused=false;this.emitChange(l)};f.exports=new j()}),null);
__d('ReactComposerLocationAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},'ReactComposerLocationAttachmentActionType')}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/location\/attachment\/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}})}),null);
__d('ReactComposerLocationAttachmentStore',['AsyncRequest','ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerLocationAttachmentActionType','ReactComposerStoreBase','XReactComposerLocationAttachmentController'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isEnabled:false,isFetching:false,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:false}},function(l){switch(l.type){case c('ReactComposerLocationAttachmentActionType').LOCATION_ATTACHMENT_ENABLED:k&&k.$ReactComposerLocationAttachmentStore1(l);break;case c('ReactComposerLocationAttachmentActionType').FETCH_LOCATION_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore2(l);break;case c('ReactComposerLocationAttachmentActionType').SET_MINUTIAE_ACTION_CONTEXT:k&&k.$ReactComposerLocationAttachmentStore3(l);break;case c('ReactComposerLocationAttachmentActionType').SET_LOCATION_MARKUP:k&&k.$ReactComposerLocationAttachmentStore4(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore5(l);break;}});k=this}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup};j.prototype.getMinutiaeTaggedPlace=function(k){'use strict';return this.getComposerData(k).minutiaeTaggedPlace};j.prototype.getIsTimeline=function(k){'use strict';return this.getComposerData(k).isTimeline};j.prototype.isFetching=function(k){'use strict';return this.getComposerData(k).isFetching};j.prototype.$ReactComposerLocationAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n};j.prototype.$ReactComposerLocationAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','locationID','targetID']),m=l[0],n=l[1],o=l[2];if(!this.isEnabled(m))return;var p=this.getComposerData(m);p.isFetching=true;var q=c('XReactComposerLocationAttachmentController').getURIBuilder().setString('composer_id',m).setString('location_id',n).setString('target_id',o).getURI();p.pendingRequest=new (c('AsyncRequest'))(q).setFinallyHandler(function(){p.isFetching=false;p.pendingRequest=null;this.emitChange(m)}.bind(this));p.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','objectID','isTimeline']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.minutiaeTaggedPlace=n;p.isTimeline=o;this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','markup']),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1];if(n===c('ReactComposerAttachmentType').STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d('ReactComposerLocationAttachmentActions',['ReactComposerDispatcher','ReactComposerLocationAttachmentActionType','ReactComposerLocationAttachmentStore'],(function a(b,c,d,e,f,g){c('ReactComposerLocationAttachmentStore');h.prototype.enabled=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').LOCATION_ATTACHMENT_ENABLED,enabled:j})};h.prototype.fetchLocationAttachment=function(i,j,k){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').FETCH_LOCATION_ATTACHMENT,locationID:j,targetID:k})};h.prototype.setMinutiaeActionContext=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerLocationAttachmentActionType').SET_MINUTIAE_ACTION_CONTEXT,objectID:j,isTimeline:k};c('ReactComposerDispatcher').dispatch(l)};h.prototype.setMarkup=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').SET_LOCATION_MARKUP,markup:j})};function h(){'use strict'}f.exports=new h()}),null);
__d('ReactComposerPeopleTaggerTokenizerToken.react',['cx','React','SearchableEntry','TokenizerToken.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.$ReactComposerPeopleTaggerTokenizerToken1=function(){'use strict';return c('React').createElement('span',{className:"_jsa"})};l.prototype.render=function(){'use strict';var m=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,n=(m?"_jsb":'')+(' '+"_jsc");return c('React').createElement(c('TokenizerToken.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,n),glyph:this.$ReactComposerPeopleTaggerTokenizerToken1()}))};function l(){'use strict';i.apply(this,arguments)}l.propTypes={label:k.string.isRequired,entry:k.instanceOf(c('SearchableEntry')).isRequired,onRemove:k.func,highlighted:k.bool};f.exports=l}),null);
__d('ReactComposerFileUtils',['fbt','ExceptionDialog','ReactComposerWorkFileAttachmentUploadContainer'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactComposerWorkFileAttachmentUploadContainer').module,j={selectFileOrWorkFileModule:function k(l,m){return i?m:l},hasExceededFileSize:function k(l){var m=arguments.length<=1||arguments[1]===undefined?Infinity:arguments[1],n=l.size>m;if(n)c('ExceptionDialog').show(h._("Archivo demasiado grande").toString(),h._("El archivo que has subido es demasiado grande.").toString());return n}};f.exports=j}),null);
__d('ReactComposerHandleUnsavedChanges',['fbt','ComposerEntryPointRef','Map','PageTransitions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerInit','ReactComposerLoggingActions','ReactComposerMediaUploadStore','ReactComposerOptimisticPostingStore','ReactComposerPhotoStore','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerTaggerStore','ReactComposerVideoUploadStore','Run','URI'],(function a(b,c,d,e,f,g,h){var i={customChecks:new (c('Map'))(),handler:function j(k,l){var m=c('URI').getMostRecentURI(),n=c('URI').getNextURI(),o=Object.prototype.hasOwnProperty.call(m.getQueryData(),'theater')&&!Object.prototype.hasOwnProperty.call(n.getQueryData(),'theater')&&l.toString()===n.toString(),p=l.toString()===m.toString()&&!Object.prototype.hasOwnProperty.call(m.getQueryData(),'theater')&&Object.prototype.hasOwnProperty.call(n.getQueryData(),'theater'),q=Object.prototype.hasOwnProperty.call(m.getQueryData(),'theater')&&Object.prototype.hasOwnProperty.call(n.getQueryData(),'theater')&&m.toString()!==n.toString();if(p||o||q)c('Run').onAfterLoad(function(){return c('Run').onBeforeUnload(function(){return i.handler(k,l)})});if(p||o||q||c('ReactComposerStore').hasPostSucceeded(k)||c('ReactComposerStore').isPublishing(k))return null;var r=i.hasUnsavedChanges(k);if(r&&!(b.Dialog&&b.Dialog.getCurrent())){c('ReactComposerLoggingActions').composerNavigateAwayAttempt(k);return i.getUnsavedChangesMessage(k)}else return null;},addCustomCheck:function j(k,l){var m=[];if(i.customChecks.has(k))m=i.customChecks.get(k);if(m){m.push(l);i.customChecks.set(k,m)}},hasUnsavedChanges:function j(k){if(!c('ReactComposerInit').isInstanceMounted(k))return false;var l=c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').MEDIA),m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').LIVE_BROADCAST),n=c('ReactComposerStatusStore').getTextLength(k)>0,o=l&&(c('ReactComposerMediaUploadStore').isUploading(k)||c('ReactComposerPhotoStore').isRecognizing(k)||c('ReactComposerPhotoStore').getPhotos(k).size>0),p=l&&c('ReactComposerVideoUploadStore').getVideo(k),q=!c('ReactComposerTaggerStore').areAllTaggersEmpty(k),r=c('ReactComposerScrapedAttachmentStore').hasAttachment(k),s=i.customChecks.get(k),t=false;if(s)for(var u=s,v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var x;if(v){if(w>=u.length)break;x=u[w++]}else{w=u.next();if(w.done)break;x=w.value}var y=x;t=t||y()}var z=n||o||p||q||r||m||t;return !!z},getUnsavedChangesMessage:function j(k){if(c('ReactComposerOptimisticPostingStore').isOptimisticallyPosting(k))return h._("Tu publicaci\u00f3n todav\u00eda se est\u00e1 subiendo. \u00bfQuieres salir sin finalizar el proceso?");var l=c('ReactComposerStore').getRef(k);switch(l){case c('ComposerEntryPointRef').EDIT_DIALOG:return h._("\u00bfSeguro que quieres descartar los cambios?");default:return h._("No has acabado de redactar la publicaci\u00f3n. \u00bfQuieres salir sin terminarla?");}}};f.exports=i}),null);
__d('ReactComposerStatusUtils',['Bootloader','PUWMethods','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerFileActions','ReactComposerFileUtils','ReactComposerLoggingActions','ReactComposerLoggingName','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerWorkFileActions','URLMatcher','URLScraper','uniqueID'],(function a(b,c,d,e,f,g){var h=c('ReactComposerWorkFileActions').module,i={scrapeLink:function j(k,l,m,n,o,p){if(!c('ReactComposerScrapedAttachmentStore').isEnabled(k))return;if(c('ReactComposerScrapedAttachmentStore').getMarkup(k))return;var q=c('URLMatcher').permissiveMatch(m);if(q!==c('ReactComposerScrapedAttachmentStore').getPermissiveMatch(k)){c('ReactComposerScrapedAttachmentActions').setPermissiveMatch(k,q);var r=i.validateUrl(c('URLScraper').match(m)||q);if(r)c('ReactComposerScrapedAttachmentActions').scrapeAttachment(k,l,r,n,o,p);}},uploadPastedFile:function j(k,l,m){c('ReactComposerLoggingActions').mediaFilePasted(k);l.uploadID=c('uniqueID')();l.name='';m&&m.enqueueAsyncUploadRequest(k,[l],{},{},false);c('ReactComposerLoggingActions').mediaFilePasteFinished(k)},uploadDroppedMedia:function j(k,l,m,n,o,p){c('ReactComposerLoggingActions').mediaFileDropped(k);c('ReactComposerAttachmentActions').selectAttachment(k,c('ReactComposerAttachmentType').MEDIA,true,c('ReactComposerLoggingName').MEDIA_FILE_DROPPED);c('Bootloader').loadModules(["ReactComposerMediaUtils"],function(q){var r=q.getFileNames(l),s=q.hasVideos(r);if(o.enableVideoUploadDialogForDropppedFiles&&l.length==1&&s){q.handleVideoUploadForDroppedFiles(l,o,p)}else q.uploadPhotosOrVideo(k,l,m,true,c('PUWMethods').DRAGDROP,n);c('ReactComposerLoggingActions').mediaFileDropFinished(k)},'ReactComposerStatusUtils')},loadDroppedFile:function j(k,l){c('ReactComposerAttachmentActions').selectAttachment(k,c('ReactComposerAttachmentType').FILE,true,c('ReactComposerLoggingName').FILE_DROPPED);c('ReactComposerFileUtils').selectFileOrWorkFileModule(c('ReactComposerFileActions'),h).saveFile(k,{file:l,name:l.name})},handleMarkdownPreview:function j(k,l,m,n){if(!m)return;var o=m.action;if(!n)n=c('ReactComposerStatusStore').getEditorState(k);if(!n)return;var p=!!c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').MARKDOWN).isMarkdown;if(p)o.updatePreview(k,l,n.getCurrentContent());},validateUrl:function j(k){if(!k||k=='about:blank'||k=='http://'||i.validateUrlHasNoHostnameOrIp(k)){return null}else return k;},validateUrlHasNoHostnameOrIp:function j(k){if(k.indexOf('.')>=0)return false;if(k.indexOf('[')>=0&&k.indexOf(']')>=0&&k.indexOf(':')>=0)return false;return true}};f.exports=i}),null);
__d('createPlainBlocksFromText',['CharacterMetadata','ContentBlock','immutable','generateRandomKey','sanitizeDraftText'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('immutable').Repeat,j=c('CharacterMetadata').EMPTY;function k(l){return l.map(function(m){m=c('sanitizeDraftText')(m);var n=m.length;return new (c('ContentBlock'))({key:c('generateRandomKey')(),text:m,type:'unstyled',characterList:h(i(j,n))})})}f.exports=k}),null);
__d('createEditorStateWithEntities',['invariant','ContentState','DraftModifier','EditorState','SelectionState','UnicodeUtils','applyEntityToContentBlock','createPlainBlocksFromText'],(function a(b,c,d,e,f,g,h){function i(j){var k,l,m=j.addEntityToContentStateFn,n=j.allowUndo,o=j.decorator,p=j.entityCreationFn,q=j.splitIntoBlocks,r=j.text,s=j.ranges;!m||!p||h(0);if(q===undefined)q=true;if(!r)r='';var t=[],u=[],v=q?r.split(/(\r\n?|\n)/g):[r],w=0;v.forEach(function(aa,ba){if(ba%2===0){t.push(aa);u.push(w)}w+=c('UnicodeUtils').strlen(aa)});var x=c('createPlainBlocksFromText')(t),y=c('ContentState').createFromBlockArray(x);if(s&&s.length)if(m){(function(){var aa=m;y=s.reduce(function(ba,ca,da){var ea=aa(ca.entity,ba),fa=ea.getLastCreatedEntityKey(),ga=ca.offset,ha=ga+ca.length,ia=void 0,ja=void 0,ka=void 0,la=void 0;for(var ma=0;ma<u.length;ma++){var na=u[ma],oa=u[ma+1],pa=oa===undefined;if(pa||ga>=na&&ga<oa){ia=x[ma];ja=ga-na}if(pa||ha>=na&&ha<oa){ka=x[ma];la=ha-na;break}}ia&&ka||h(0);var qa=c('UnicodeUtils').substr(ia.getText(),0,ja),ra=qa.length,sa=c('UnicodeUtils').substr(ka.getText(),0,la),ta=sa.length,ua=new (c('SelectionState'))({anchorKey:ia.getKey(),anchorOffset:ra,focusKey:ka.getKey(),focusOffset:ta,isBackward:false,hasFocus:false}),va=c('DraftModifier').applyEntity(ea,ua,fa);return va},y)})()}else if(p)(function(){var aa=p;s.forEach(function(ba){var ca=aa(ba.entity);if(ca===null)return;var da=ba.offset,ea,fa;for(var ga=0;ga<u.length;ga++){var ha=u[ga],ia=u[ga+1];if(ia===undefined||da>=ha&&da<ia){ea=x[ga];fa=da-ha;break}}var ja=c('UnicodeUtils').substr(x[ga].getText(),0,fa);fa=ja.length;x[ga]=c('applyEntityToContentBlock')(ea,fa,fa+ba.length,ca);y=c('ContentState').createFromBlockArray(x)})})();var z=c('EditorState').createWithContent(y,o);if(n===false)z=c('EditorState').set(z,{allowUndo:false});return z}f.exports=i}),null);