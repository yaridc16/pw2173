YUI.add("canvass-deeplink-plugin",function(e){function t(){var e=this;e.timeout,e.settings={},e.defaults={iOS:{},android:{},androidDisabled:!1,fallback:!0,fallbackToWeb:!1,delay:1e3,delta:500}}t.prototype={extend:function(e,t){var n={},r;for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)e.hasOwnProperty(r)&&(n[r]=t[r]);return n},setup:function(e){var t=this;t.settings=this.extend(t.defaults,e),t.isAndroid()&&(t.settings.platform="android"),t.isIOS()&&(t.settings.platform="ios")},getStoreURLiOS:function(){var e=this,t="itms-apps://itunes.apple.com/app/",n=e.settings.iOS.appName,r=e.settings.iOS.appId;return r&&n?t+n+"/id"+r+"?mt=8":null},getStoreURLAndroid:function(){var e=this,t="market://details?id=",n=e.settings.android.appId;return n?t+n:null},getStoreLink:function(){var e=this,t={ios:e.settings.iOS.storeUrl||e.getStoreURLiOS(),android:e.settings.android.storeUrl||e.getStoreURLAndroid()};return t[e.settings.platform]},getWebLink:function(){var e=this,t={ios:e.settings.iOS.fallbackWebUrl||location.href,android:e.settings.android.fallbackWebUrl||location.href};return t[e.settings.platform]},isAndroid:function(){return navigator.userAgent.match("Android")},isIOS:function(){return navigator.userAgent.match("iPad")||navigator.userAgent.match("iPhone")||navigator.userAgent.match("iPod")},isMobile:function(){var e=this;return e.isAndroid()||e.isIOS()},openFallback:function(e){var t=this;return function(){var n=t.settings.fallbackToWeb?t.getWebLink():t.getStoreLink(),r=t.settings.delay+t.settings.delta;typeof n=="string"&&Date.now()-e<r&&(window.location.href=n)}},open:function(e){var t=this;if(!t.isMobile())return!1;if(t.isAndroid()&&t.settings.androidDisabled)return;if(t.isAndroid()&&!navigator.userAgent.match(/Firefox/)){var n=e.match(/([^:]+):\/\/(.+)$/i);e="intent://"+n[2]+"#Intent;scheme="+n[1],e+=";package="+t.settings.android.appId+";end"}if(t.settings.fallback||t.settings.fallbackToWeb)t.timeout=setTimeout(t.openFallback(Date.now()),t.settings.delay);var r=document.createElement("iframe");return r.onload=function(){clearTimeout(t.timeout),r.parentNode.removeChild(r),window.location.href=e},r.src=e,r.setAttribute("style","display:none;"),document.body.appendChild(r),!0}},e.namespace("TD").canvassDeeplink=t},"@VERSION@");
YUI.add("td-applet-canvass-templates-styles",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,t){return e.write(".td-applet-canvass{line-height:1.55em}.td-applet-canvass ::-webkit-input-placeholder{color:#b0b0b0}.td-applet-canvass :-moz-placeholder{color:#b0b0b0}.td-applet-canvass ::-moz-placeholder{color:#b0b0b0}.td-applet-canvass :-ms-input-placeholder{color:#b0b0b0}.td-applet-canvass:focus{outline:none}.td-applet-canvass.top-border{border-top:2px solid #000}.td-applet-canvass a,.td-applet-canvass a:link,.td-applet-canvass a:visited{color:#2279c9}.td-applet-canvass a:hover{text-decoration:none;color:#003ABC !important}.td-applet-canvass .comments-container{margin-top:0}.td-applet-canvass .Btn.Primary{font-size:14px;font-size:1.4rem;background-color:#2279c9;border:none;color:#fff;padding:8px 18px;opacity:0.9;font-weight:bold}.td-applet-canvass .Btn.Primary:hover{opacity:1}.td-applet-canvass .Btn.view-comments{padding:7px 17px 7px 2px;color:#2279c9;border:none}.td-applet-canvass .Btn.view-comments:focus{outline:none;color:#b2b2b2 !important}.td-applet-canvass .grid-avatar{width:50px}.td-applet-canvass .reply .grid-avatar{width:35px}.td-applet-canvass .reply .user-avatar,.td-applet-canvass .reply .editor-avatar{width:25px;height:25px}.td-applet-canvass.desktop .grid-content{width:585px}.td-applet-canvass.desktop .grid-reply-container{width:590px}.td-applet-canvass.desktop .grid-reply-content{width:470px;max-width:100%}.td-applet-canvass.smartphone .grid-content{width:100%}.td-applet-canvass.smartphone .grid-reply-container{width:100%}.td-applet-canvass.smartphone .grid-reply-content{width:100%}.td-applet-canvass.smartphone .user-avatar{vertical-align:middle;margin-right:5px}.td-applet-canvass .grid-space{width:75px}.td-applet-canvass .login-cta{border:1px solid #e2e2e2;border-radius:3px;padding:6px 6px 6px 12px}.td-applet-canvass .new-comment-controls{margin-top:15px;width:540px}.td-applet-canvass .view-comments,.td-applet-canvass .refresh-comments,.td-applet-canvass .refresh-comment-activity{color:#000;font-size:1.5rem;font-weight:bold;padding:10px 0 10px 0;text-transform:none;background:none;background-color:none;border:none}.td-applet-canvass .view-comments a,.td-applet-canvass .view-comments a:link,.td-applet-canvass .refresh-comments a,.td-applet-canvass .refresh-comments a:link,.td-applet-canvass .refresh-comment-activity a,.td-applet-canvass .refresh-comment-activity a:link{color:#000}.td-applet-canvass .comment-guidelines{background-color:#f7f8ff}.td-applet-canvass .expandingArea{min-height:25px}.td-applet-canvass .expandingArea textarea,.td-applet-canvass .expandingArea pre{outline:0;white-space:pre-wrap;word-wrap:break-word;font-size:16px;line-height:1.5;padding:6px 9px 0 9px;color:#b0b0b0}.td-applet-canvass .expandingArea textarea{box-shadow:none;height:25px;border:1px solid #b0b0b0;border-radius:2px}.td-applet-canvass .expandingArea textarea:focus{border:1px solid #188fff;color:#000}.td-applet-canvass .expandingArea pre{display:none;border:2px solid transparent}.td-applet-canvass .expandingArea.active pre{display:block;visibility:hidden}.td-applet-canvass .expandingArea.active textarea{resize:none;overflow:hidden;position:absolute;top:0;left:0;height:100%}.td-applet-canvass .load-more-comments,.td-applet-canvass .load-more-replies,.td-applet-canvass .load-more-activities{color:#2279c9;font-size:15.5rem;font-size:15px;padding:10px;background:none;border-width:2px;border-style:solid;margin:30px auto 20px auto !important}.td-applet-canvass .load-more-replies{margin:10px auto 20px auto !important}.td-applet-canvass .Btn{margin:0;padding:7px 20px;font-size:1.4rem;color:#000}.td-applet-canvass .reply-form .new-reply-controls{margin:8px 0 -15px 0;color:#b2b2b2 !important}.td-applet-canvass .error-box{color:#555;background-color:#e2e2e2;border-radius:0px 0px 5px 5px}.td-applet-canvass .alert-list{background-color:#e2e2e2}.td-applet-canvass .abuse-form-container{position:relative;margin:15px 0 -15px 0}.td-applet-canvass .abuse-form-container .abuse-caret{position:absolute;top:-5px;left:15px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:5px solid #444}.td-applet-canvass .abuse-form-container .new-abuse-controls{margin:10px 0 20px 0}.td-applet-canvass .abuse-form .Btn{border:none !important}.td-applet-canvass .abuse-form .intro{padding:10px;color:#fff;background-color:#444}.td-applet-canvass .abuse-form .container{padding-top:10px}.td-applet-canvass .delete-form .Btn{border:none !important}.td-applet-canvass .delete-form .intro{padding:10px;color:#fff;background-color:#444}.td-applet-canvass .delete-form .container{padding:10px;background-color:#f8f8f8}.td-applet-canvass .editor-comment .delete-form .abuse-caret{right:4px}.td-applet-canvass .editor-comment .comment-replies-container .delete-form .abuse-caret{right:103px}.td-applet-canvass .editor-comment .comment-replies-container .editor-reply .delete-form .abuse-caret{right:4px}.td-applet-canvass .deep-link-tabs{background-color:#000;margin-bottom:3px;margin-top:0}.td-applet-canvass .deep-link-tabs li a,.td-applet-canvass .deep-link-tabs li a:link,.td-applet-canvass .deep-link-tabs li a:visited{color:#ccc}.td-applet-canvass .deep-link-tabs li.Selected a{color:#fff}.td-applet-canvass .sorting-tabs{padding:0;margin:10px 0 0 0}.td-applet-canvass .sorting-tabs li{display:inline-block;font-size:13px;padding:6px 0 6px 0;margin:0 20px 0 0;border-bottom-width:2px;border-bottom-style:solid;border-radius:1px}.td-applet-canvass .sorting-tabs li a,.td-applet-canvass .sorting-tabs li a:link,.td-applet-canvass .sorting-tabs li a:visited{color:#959595 !important;font-weight:bold;padding:0;text-decoration:none}.td-applet-canvass .sorting-tabs li:hover a,.td-applet-canvass .sorting-tabs li.selected a{color:#000 !important}.td-applet-canvass .sorting-tabs li:not(.selected){border-color:transparent !important}.td-applet-canvass .sorting-tabs .sort-fail{color:#cd171c !important}.td-applet-canvass .editor-avatar{border:2px solid #2279c9}.td-applet-canvass .editor-label{font-size:11px;color:#2279c9;letter-spacing:.1em;padding-top:5px}.td-applet-canvass .userActivities .comment{padding-top:5px}.td-applet-canvass .comment{position:relative;padding-top:25px}.td-applet-canvass .comment .Grid{margin:0}.td-applet-canvass .comment .message-content,.td-applet-canvass .comment .reply-controls{margin:5px 0 0 0;word-wrap:break-word}.td-applet-canvass .comment .comment-reply-controls{font-size:12px;color:#999;margin-right:15px}.td-applet-canvass .comment .comment-replies-container{position:relative;padding:15px 0 15px 0;margin:5px 0 -5px 52px}.td-applet-canvass .comment:last-child{border:none}.td-applet-canvass.smartphone .comment .comment-replies-container{margin:5px 0 -5px 12px}.td-applet-canvass .reply{padding:5px 0 15px 0}.td-applet-canvass .reply:first-child{padding-top:0}.td-applet-canvass .reply:last-child{margin-bottom:15px}.td-applet-canvass .comment .username,.td-applet-canvass .reply .username{font-size:13px}.td-applet-canvass .comment .time-ago,.td-applet-canvass .reply .time-ago{color:#b9bdc5;font-size:13px;-webkit-font-smoothing:antialiased}.td-applet-canvass .editor-tools a,.td-applet-canvass .editor-tools a:link{font-size:11px;color:#888}.td-applet-canvass .editor-tools-container{border-radius:3px}.td-applet-canvass .ratings a,.td-applet-canvass .ratings a:link{font-size:12px;color:#888 !important;margin-right:15px}.td-applet-canvass .ratings .rating-count{display:inline-block;text-align:right}.td-applet-canvass .ratings.form-open .trash-can{background-position:-64px -26px}.td-applet-canvass .ratings.form-open .trash-can:hover{background-position:-64px -26px}.td-applet-canvass .ratings.form-open .report-flag{color:#F0162F !important}.td-applet-canvass .ratings.form-open .report-flag:hover{color:#F0162F !important}.td-applet-canvass .ratings a.thumb-container:hover .Icon-Fp2,.td-applet-canvass .ratings a.thumb-container.selected .Icon-Fp2{color:#198fff !important}.td-applet-canvass .ratings a.show-abuse-form{color:#b9bdc5 !important}.td-applet-canvass .sprite{background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAABlCAYAAAArrT8+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAB5pJREFUeNrsXV1oHFUUvnd2a5LtT1aq0F9JQVqhiNkS0SpoAr400jYttA8iuNWHPIi4gn3xNxX0RaEN6kORuhWkpRXa2mqehA2IFTEkReiD+JCVSqrQ0q2VtJJkx3N2725vJjO7d2bn3hmTc+Ayd+7vzHfP/c6ZM5MNZ5IcPXrUhkMR0muDg4PnmAEZGxurz9nT06N9zidH+j9nNrtWZuzEj8+OXGIRiuVShkCchYUYMHgdlTlhIbTPuYzbqZWJcgJu/JXt3/Z3xwp80Pg+OKAGHjZ1EaDxRud8ZtXtE53J8l9w88/FTfNRhiF1Gb4Wo3OuXzY7luT2hliADzSTrh1B+0cN8X26dgTt1z4n0EwKj3/PWe1b2md+tzi7J0rwk1J+Ad8KA8xcqIl71TUS7OcoGvAwwG7UxL3qmlAalzQtw6V7hjyvGOC79UnObD7H+MwP/SMvlvdtO8bKdtJtXNtmCbfyxJmJ55XBBxB74YiG511IRwCgkgdQCxbEq42Cxs+bEwAqOYHyWhCvNk00fjMcNia4vb8zUR5blSjfwfL+zukP3NqfL6VylQwAf+OnW+/r1PwCJLz5YQBzyNCOq88JYGqfEzyct4FiZlYnyr9sX3HnexYTSaporxfFBN0FKtrrRTFBdsGu9PSRZm1GbqbekE6na5n0oyvfq+VLP996RxfnK3F1GLTjd4FapR0VkSmoTjsaAFdxNUkMezvGaMdH2CF040u0Q7RDtEO0Q7Sjj3ZEdBQDZl1B3VG/gIvoaGVO1QVqhXZWPbx8h9VhbeWctbE/2AuxoB0B/FlIGDfvMxQvMjonAp9IWQ9ZSX6KJ7ivp+FkkBiNSuxHZFH7zsH5HhVKaYWOJA2vzAnn9Tm/uZk66NanbLNZDNM4yzG2U1VNPnvvYyvfZJzbjENxLa4zay+v7Qir3XqcW/xjfnr8YuRGRF4QzIvYkW5tt+W8iB1pk7k9mZPXNzy4GdPc3syX9v5tqdh4O7XwtNgFo4boJi3tAq1zcovNtK9vW1M/Pz0+HSdXszeCTWdsTqCZq233L2t5Ph3gFyHlQftNvh+tzAnab2ZOzk4mOqwHOretOBA38NHQYbh4wiD4RucEmrkEC/BJos2ywMP5lx4XSUhI/ifCVR+cGoUTsE9YsZ1GD2CN3vGGFedZt26d5/xTU1Pcq49Xne/YjhuQKk/CzdqoLpAbkCpPxc3aqC4QjOPWt6WFc1u8ZNhbSeWrB52i8gWE5oc9r+tSi+2ohJD9aLJfbVUJJ/vRZL/a6qXlzrZBqGYe+DrfRqksnq43U6qL1yqArSx0MojBDGJgne3lhfBrMIMYWGd7eSH8GswgBtZJR7i76DVihGI1ogavvClq8MqbogavvDbwl6oAjfRiUs2HIaG7mgpvt4waVR+eUcFnXtml9HJBQwV/qfv4bkYYdwpcV4FoJ2aSNDWRKe0PGnowsCujAd/kg1wrMR1N3tMocwlgutKODJRX3hRQXnlTsRmvPLmai4nziZN7SBtISBa/2Lad1zX2hQsX8nG/f0uAEIoEmD+rcQGycV+AurfDW5RWQFqqC5CMiG662Pw//ccFQAU4IOqyrPoF2jkoK/qkmwVjQxnbuXPnAVFXHxvKirHQfEOgpyHh9/OTkF71aIZfGz8t6idFexXQ05B8jS3aR274bOe5X45X4XxoUhBdc4558h7tc5BuqNASAFmAZEPKiXNbpLxH+xykG5HTUkBj6WsMqM4KoLOORc436dfr7OcCZFYAnZXK7GbAQn2vs99iBX/SCbSqocV2kCYagDjpBFpVo7EdpIkocLe8gAzJlZQFjd3XcgEaWMW+X7DqT8Qoj40GNqSxzXo7LbqOXt4NSujehfBgtIy9KLwdyV1MBxzCs5/kLoY+9mJyNfHvYncHDDvsbqLZymO72ILdUe0ay+XGBzSFFg5BQtexWwF42SPKivNDzcYGYLsVgJc9IpWxzXg7CIyqXx00kCbGH2hQb0vXkxOnBRWNFn77QIP6iu8v+fl4XogKdy6Bn2HV71KKwNEZjQs9xKo/bFcUc/W5abyoR2OKP9F1CNqVFBZg3thgD/rcNN45NrQrRQG+7O3kxUVp/b0CAHEIgD4u4i+PSFVOyhj2G9sBEIcAaOWxo47tyJqPF5JR0TBdcR+x87rDdncx7iOPDaBH+jWF0+Ai4HuiAl6AXRK7LvRf9ha0omXsMMDvg5uP/MKW4gLETgQFaRFBQSRLXSqGZ2vHPi3fzFy+/RUniOMRXiAh8Al8EgKfwCfwSQh8Ap+EwCfwSSIE/9MzB9lLr+9aUI5lWLeiM0Uo6gJ//OKvFaDXbryvXoZ5LMO6f25OE4q6wD/12Xfs6pXr7K3hux+AYR7LsI5EI/io2cc+Os8yT2xhT+3IVBLmsYy0vjVRDikjv68R1PPnlWvs5b0fNh2cQsoheTuo6Ws3rq4kzJO0Lsp/FoTG9bfLV+p5EoPg1/ifhB6yCHwSAn/xu5pBhFxN0nwCn4TAJ/BJCHwCn8AnIfAJfBICfymCf5xV/x53k8iXXOo3SfWyFFn1H0Ri/1GCVlG2duwbgpR2KU+LusOQulzquyDlIeVc6nKEbGP5T4ABAB72N1gLMU3VAAAAAElFTkSuQmCC');background-position:0px, 0px}.td-applet-canvass .text-bubble{display:inline-block;font-size:22px;font-weight:400}.td-applet-canvass .refresh-bubble{height:18px;width:18px;display:inline-block;vertical-align:middle;size:18px 18px;background-position:-25px -46px}.td-applet-canvass .trash-can{height:17px;width:15px;display:inline-block;vertical-align:middle;size:17px 15px;margin:0 0 3px 0;background-position:-32px -26px}.td-applet-canvass .trash-can:hover{background-position:0px -26px}.td-applet-canvass .ribbon-container{position:absolute;top:-1px;right:0px}.td-applet-canvass .ribbon{height:35px;width:22px;display:inline-block;vertical-align:middle;size:17px 14px;margin:0 0 3px 0;background-position:-1px -66px}.td-applet-canvass .report-flag{height:17px;width:14px;display:inline-block;vertical-align:middle;size:17px 14px;margin:0 0 3px 0;background-position:-49px -26px}.td-applet-canvass .report-flag:hover{background-position:-17px -26px}.td-applet-canvass .comment-bubble,.td-applet-canvass .refresh-bubble{margin-right:5px;font-size:1rem}.td-applet-canvass .refresh-comments,.td-applet-canvass .refresh-comment-activity{color:#f10007}.td-applet-canvass .refresh-comments .refresh-bubble,.td-applet-canvass .refresh-comment-activity .refresh-bubble{background-color:#e2e2e2}.td-applet-canvass .refresh-comments:hover,.td-applet-canvass .refresh-comment-activity:hover{color:#F87A7D}.td-applet-canvass .refresh-comments:hover .refresh-bubble,.td-applet-canvass .refresh-comment-activity:hover .refresh-bubble{background-position:-48px -46px}.td-applet-canvass .guidelines{color:#959595 !important;right:0;top:19px}.td-applet-canvass .guidelines:hover{color:#188fff !important}.td-applet-canvass .IconFlag,.td-applet-canvass .IconUpArrow,.td-applet-canvass .IconDownArrow{font-size:16px;font-size:1.65rem}.td-applet-canvass .IconFlag{font-size:15px;font-size:1.5rem}.td-applet-canvass .IframeTooltip{border:0;position:absolute;top:-10px;left:-10px;width:100%;height:100%;padding:10px;filter:alpha(opacity=0)}.td-applet-canvass .orbRadius{border-radius:46.5%}.td-applet-canvass #activity-user:focus,.td-applet-canvass #new-comment-input:focus{outline:none}.td-applet-canvass .comment-submit-inactive{color:#e0e4e9}.td-applet-canvass .comment-submit-active{color:#198fff}.td-applet-canvass.canvass-fullscreen .canvass-modal{width:100%;top:100%;height:100%;background:#fff;position:fixed;z-index:1;padding-bottom:60px;padding-top:60px;box-sizing:border-box;overflow-y:scroll;-webkit-overflow-scrolling:touch;transform:translateY(0);-webkit-transition:transform 0.3s ease-in-out}.td-applet-canvass.canvass-fullscreen .modal-open{transform:translateY(-100%)}.td-applet-canvass.canvass-fullscreen .canvass-footer-bar{position:fixed;bottom:0;left:0;background:none;z-index:2;width:100%;height:59px;border-top:1px solid #e2e2e6}.td-applet-canvass.canvass-fullscreen .canvass-footer-bar .Primary{background:none;border:none !important;color:grey !important;position:absolute;right:0;bottom:5px}.td-applet-canvass.canvass-fullscreen #canvass-header-modal{position:fixed;bottom:0;left:0;width:100%;z-index:4;transition:bottom 0.3s ease-in-out;-webkit-transition:bottom 0.3s ease-in-out;min-height:60px}.td-applet-canvass.canvass-fullscreen #canvass-header-modal.share-icons-open{z-index:4}.td-applet-canvass.canvass-fullscreen #canvass-header-modal.share-icons-open .canvass-share-bnts{width:100%;z-index:1}.td-applet-canvass.canvass-fullscreen #canvass-header-modal.share-icons-open .share-hidden{max-width:120px}.td-applet-canvass.canvass-fullscreen #canvass-header-modal.share-icons-open .view-comments-modal{opacity:0}.td-applet-canvass.canvass-fullscreen #canvass-header-modal.share-icons-open .icon-closed{display:none}.td-applet-canvass.canvass-fullscreen #canvass-header-modal.share-icons-open .icon-open{display:block}.td-applet-canvass.canvass-fullscreen .header-offset{position:absolute;top:0;min-height:60px;border-bottom:1px solid #e2e2e6;border-top:1px solid #e2e2e6;background:#fff;width:100%;padding:10px;box-sizing:border-box}.td-applet-canvass.canvass-fullscreen .close-fullcreen-btn{border:none;position:absolute;left:5px;opacity:0;background:#fff;width:40px;height:40px;top:10px;font-size:24px;z-index:2;transition:opacity 0.3s ease-in-out;-webkit-transition:opacity 0.3s ease-in-out;visibility:hidden}.td-applet-canvass.canvass-fullscreen .comment-form{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;transition:opacity 0.3s ease-in-out;-webkit-transition:opacity 0.3s ease-in-out}.td-applet-canvass.canvass-fullscreen .view-comments-modal{position:absolute;left:0;top:5px;z-index:1;opacity:1;padding-left:15px;color:#868b8f;transition:opacity 0.3s ease-in-out;-webkit-transition:opacity 0.3s ease-in-out}.td-applet-canvass.canvass-fullscreen .comment-form{opacity:0}.td-applet-canvass.canvass-fullscreen .yahoo-app-install{background:#fff;padding:10px;box-sizing:border-box;top:100%}.td-applet-canvass.canvass-fullscreen .yahoo-app-install .btn-install{width:110px;height:36px;background-color:#188fff;top:10px;right:10px}.td-applet-canvass.canvass-fullscreen .yahoo-app-install .app-text{margin-right:140px;height:40px}.td-applet-canvass.canvass-fullscreen .new-comment{padding:10px 20px;border:none}.td-applet-canvass.canvass-fullscreen .canvass-share-bnts{right:0;width:60%;position:absolute;text-align:right;padding-right:50px;white-space:nowrap}.td-applet-canvass.canvass-fullscreen .share-button{width:35px;height:35px;display:inline-block;vertical-align:middle;margin-right:5px;text-align:center;color:#fff !important}.td-applet-canvass.canvass-fullscreen .share-button:focus{outline:none}.td-applet-canvass.canvass-fullscreen .js-open-share{position:absolute;right:10px;background:none;border:none;padding:0}.td-applet-canvass.canvass-fullscreen .share-icon{border-radius:40px;width:30px;height:30px;display:block;line-height:1.6;margin:5px;font-size:19px;color:#fff}.td-applet-canvass.canvass-fullscreen .icon-open{display:none}.td-applet-canvass.canvass-fullscreen .share-hidden{max-width:0;overflow:hidden;display:inline-block;transition:max-width 0.3s ease-in-out;-webkit-transition:max-width 0.3s ease-in-out;vertical-align:top;height:37px;transform:translateX(0)}.td-applet-canvass.canvass-fullscreen .text-bubble{font-size:19px}.td-applet-canvass.canvass-fullscreen .sorting-tabs{white-space:nowrap;margin:10px -20px 0 -20px;letter-spacing:0;font-size:0}.td-applet-canvass.canvass-fullscreen .sorting-tabs li{padding:0;width:50%;margin:0;border-bottom:1px solid #d8dade !important}.td-applet-canvass.canvass-fullscreen .sorting-tabs li.selected{border-bottom-color:#188fff !important}.td-applet-canvass.canvass-fullscreen .sort-option{display:block;padding:5px !important;text-align:center;color:#b9bdc5;font-size:15px;letter-spacing:auto}.td-applet-canvass.canvass-fullscreen .ratings a:link .Icon-Fp2{font-size:16px;vertical-align:middle}.canvass-modal-open{overflow:hidden}.canvass-modal-open #hl-viewer{min-height:900px}.canvass-modal-open .InnerWrap{margin-top:0}.canvass-modal-open #MobileUH{z-index:1}.canvass-modal-open #CloseReaderBtn{display:none}.canvass-modal-open .viewer-content-body{position:fixed;left:0;width:100%}.canvass-modal-open .canvass-fullscreen .view-comments-modal{opacity:0 !important}.canvass-modal-open .canvass-fullscreen .comment-form,.canvass-modal-open .canvass-fullscreen .newsroom-install{opacity:1 !important;z-index:2}.canvass-modal-open .canvass-fullscreen .close-fullcreen-btn{opacity:1 !important;visibility:visible !important}.canvass-modal-open .canvass-fullscreen #canvass-header-modal{bottom:100% !important}.canvass-modal-open .canvass-fullscreen .header-offset{top:60px !important}.canvass-modal-open .canvass-fullscreen .yahoo-app-install{top:0 !important}.td-applet-canvass.smartphone .by-line{line-height:1.2em}.js-comments-container{position:relative;z-index:1}.js-comments-container .IframeTooltip{border:0;position:absolute;top:-10px;left:-10px;width:100%;height:100%;padding:10px;filter:alpha(opacity=0)}.ua-ie11 .js-comments-container,.ua-ie10 .js-comments-container{position:relative;z-index:0}@media only screen and (max-width: 370px){.add-comment-lg{display:none}.add-comment-sm{display:inline-block}}@media only screen and (min-width: 370px){.add-comment-sm{display:none}.add-comment-lg{display:inline-block}}.canvass-modal-open .canvass-fullscreen .canvass-disclaimer{background:#000;background:rgba(0,0,0,.8);margin-left:5%;margin-right:5%;bottom:90px}.canvass-modal-open .canvass-fullscreen .canvass-disclaimer .closeBtn{top:45%}"
)}return dust.register("td-applet-canvass-templates-styles",e),e}()}(),dust.cache["td-applet-canvass:styles.dust"]=dust.cache["td-applet-canvass:styles"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/styles"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-canvass-mainview",function(e){"use strict";var t=e.Af.Transport,n=e.Af.Utils,r="viewupdate",i="modal:showcomments",s="modal:hidecomments",o=e.Af.Event,u,a={},f={down:{selected:"IconThumbsDownFill",unselected:"IconThumbsDownOutline"},up:{selected:"IconThumbsUpFill",unselected:"IconThumbsUpOutline"}},l="td-applet-canvass",c="dc";e.namespace("TD.Applet").CommentsMainView=e.Base.create("TDAppletCommentsMainView",e.Af.AppletView,[],{userProfile:null,initializer:function(){var t=this,n,r;t.rapid=e.Af.rapid.getRapidTracker()||null,t.appletModel=t.get("model"),t.config=t.appletModel.get("config"),t.device=t.appletModel.get("context.device"),t.strings=t.appletModel.get("i18n"),t.commentsLoaded=!1,t.commentsLoading=!1,t.postingComment=!1,e.fire("td-applet-canvass:loaded",{commentCount:t.appletModel.get("data").commentCount,contextUuid:t.config.uuid}),t.nodes={},t.nodes.container=t.get("container"),t.nodes.commentsList=t.nodes.container.one(".comments-container"),t.nodes.commentsAll=t.nodes.container.one(".all-comments"),t.nodes.commentsDeep=t.nodes.container.one(".deep-comment-group"),t.nodes.commentsCount=t.nodes.container.one(".comment-count-label"),u={lang:t.appletModel.get("context.lang"),oauthConsumerKey:t.config.consumerKey,oauthConsumerSecret:t.config.consumerSecret,region:t.appletModel.get("context.region")},t.nodes.container.one(".login-link")&&(r="https://login.yahoo.com/config/login?",t.config.intl&&(r+=".intl="+t.config.intl+"&"),t.config.lang&&(r+=".lang="+t.config.lang+"&"),n=this.config.url||document.location.href,t.device==="smartphone"&&(r="https://login.yahoo.com/m/config/login?"),n.match(/bcmt|\#comment/)?r+=".done="+encodeURIComponent(n):r+=".done="+encodeURIComponent(n+"#comments"),t.nodes.container.all(".login-link").set("href",r)),e.UA.ie>0&&e.UA.ie<9&&t.nodes.container.all(".expandingArea").each(function(e){e.removeClass("active")}),document.createElement("input").placeholder===undefined&&t.nodes.container.all(".placeholder-label").removeClass("Dn"),document.getElementById("td-applet-canvass-styles")?(t.nodes.container.one(".view-comments").removeClass("Dn"),t.nodes.container.one(".comment-form").removeClass("Dn")):t._renderDust("td-applet-canvass-templates-styles",{},function(e,n){var r,i,s;!e&&n&&(r=document.createElement("style"),r.setAttribute("type","text/css"),r.setAttribute("id","td-applet-canvass-styles"),i=document.getElementsByTagName("head")[0],i.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:(s=document.createTextNode(n),r.appendChild(s)),t.nodes.container.one(".view-comments").removeClass("Dn"),t.nodes.container.one(".comment-form").removeClass("Dn"))}),(t.config.initialNumCommentsToLoad||t.config.autoShow===!0||t.config.autoShow==="true"||t.config.autoShow==="1")&&t._loadComments(),t.config.deepCommentId&&t._loadDeepComment(),t.on("loading:on",function(){YMedia&&YMedia.fire("loading:on"),t.detachEvents()}),t.on("loading:off",function(){YMedia&&YMedia.fire("loading:off"),t.attachEvents(t.events)}),this._handles.push(e.on("td-applet-canvass:open",function(e){e.contextUuid===t.config.uuid&&(e.openEnded===1&&(t.openEnded=!0),t.openedAutomatically=!0,t.viewComments())}));var i=t.config.canvassFullScreen;if(i){this._handles.push(e.Af.Event.on("modal:hide",function(){t.closeFullscreenView()}));var s=t.nodes.container.all(".data-deeplink");t.config.communityBar.deeplink&&e.TD.canvassDeeplink&&s&&s.each(function(n,r){var i=n.getAttribute("data-deeplink");i&&(a[i]=new e.TD.canvassDeeplink,a[i].setup(t.config.communityBar.deeplink[i]))}),t.config.showDisclaimer&&this._handles.push(t.nodes.container.delegate("click",t.onDisclaimerClose,".canvass-disclaimer",t))}this._handles.push(e.on("td-applet-canvass:toggle-share",function(e){var n=e&&e.guid;if(!n||n!==t.get("guid"))return;var r=t.nodes.container,i=r&&r.one("#canvass-header-modal");i&&t.toggleShareIcons(i)})),this._handles.push(e.on("td-applet-canvass:destroy",function(e){var n=e&&e.guid;n&&n===t.get("guid")&&t.destroy()}))},events:{textarea:{input:"_onTextAreaInput",click:"_resetTextareaFormAlerts"},".comment-form":{submit:"postComment"},".comment-form button":{click:"postComment"},".reply-form":{submit:"postReply"},".reply-form button":{click:"postReply"},".sort-option":{click:"sortHandler"},".show-deep-comment":{click:"showDeepComment"},".show-all-comments":{click:"showAllComments"},".view-comments":{click:"viewComments"},".view-all-comments":{click:"viewAllComments"},".view-my-comments":{click:"viewMyComments"},".view-their-comments":{click:"viewTheirComments"},".refresh-comments":{click:"refreshComments"},".refresh-comment-activity":{click:"refreshCommentActivity"},".show-abuse-form":{click:"showAbuseForm"},".show-delete-form":{click:"showDeleteForm"},".abuse-form .report-btn":{click:"reportAbuse"},".delete-form .delete-btn":{click:"sendDelete"},".thumb-container":{click:"likeMessage"},".show-full-message":{click:"showFullMessage"},".view-replies":{click:"viewReplies"},".show-reply-form":{click:"showReplyForm"},".load-more-comments":{click:"loadMoreComments"},".load-more-activities":{click:"loadMoreActivities"},".load-more-replies":{click:"loadMoreReplies"},".promote":{click:"promote"},".demote":{click:"demote"},".close-fullcreen-btn":{click:"closeFullscreenView"},".js-open-share":{click:"handleOpenShare"},".data-deeplink":{click:"deepLinkClick"}},render:function(){this.fireEvent(r)},_renderDust:function(e,t,n){t.avatarInline=this.config.avatarInline,t.canvassFullScreen=this.config.canvassFullScreen,t.context=t.context||{},t.enableCommentsWrite=this.config.enableCommentsWrite,t.enableMyComments=this.config.enableMyComments,t.encodedUrl=this.config.encodedUrl,t.encodedTitle=this.config.encodedTitle,t.enableImageComments=this.config.enableImageComments,t.intl=this.appletModel.get("intl"),t.yahooApp=this.config.yahooApp,dust.render(e,t,n)},_onTextAreaInput:function(e){var t=e.target,n=t&&(t.ancestor(".expandingArea")||t.ancestor(".comment-form-textarea-parent")),i=n&&n.one("[name=new-comment-mirror]"
),s=n&&n.one(".comment-submit"),o,u;i&&(i.set("textContent",t.get("value")),this.fireEvent(r)),s&&(u=t.get("textLength"),u>0?(o=n&&n.one(".comment-guidelines.D-n"),s.replaceClass("comment-submit-inactive","comment-submit-active"),o&&o.removeClass("D-n")):u<=0&&s.replaceClass("comment-submit-active","comment-submit-inactive"))},_resetTextareaFormAlerts:function(e){this._clearAlerts(e.target.ancestor("form")),this.config.showDisclaimer&&this.nodes.container.one(".canvass-disclaimer").removeClass("V-h")},_addAlert:function(e,t){var n=t.one(".alert-list");n&&(n.append("<div>"+e+"</div>"),n.removeClass("Dn"),this.fireEvent(r))},_clearAlerts:function(){var e=this.nodes.container.all(".alert-list");e&&(e.setHTML(""),e.addClass("Dn"),this.fireEvent(r))},_loadComments:function(t,i,s){var o=this;o.commentsLoading=!0,o.nodes.container.one(".comments-failed").addClass("Dn"),!o.commentsLoaded&&o.openEnded!==!0&&o.fire("loading:on");var a={context:o.nodes.commentsList.getData("context-id"),resource:"getMessageListForContext_ns",sortBy:o.config.sortBy};o.config.initialNumCommentsToLoad&&!o.commentsLoaded&&(a.count=o.config.initialNumCommentsToLoad),a=n.objectMerge(u,a),o.read("getMessageListForContext",a,function(n,s){!o.commentsLoaded&&o.openEnded!==!0&&o.fire("loading:off"),n?(o.nodes.container.one(".comments-failed").removeClass("Dn"),o.nodes.container.one(".view-comments").addClass("Dn"),o.nodes.container.one(".refresh-comments").removeClass("Dn"),o.fireEvent(r)):o.nodes.container.one(".refresh-comments").addClass("Dn"),!n&&s&&(s.total>o.appletModel.get("data").commentCount&&e.fire("td-applet-canvass:loaded",{commentCount:s.total,contextUuid:o.config.uuid}),parseInt(s.total,10)===0?o.nodes.container.one(".view-comments").one(".label").set("text",o.strings.BE_THE_FIRST):o.nodes.commentsCount&&o.nodes.commentsCount.set("text","("+s.total+")"),o._renderDust("td-applet-canvass-templates-comments",s,function(e,n){if(!e&&n){o.nodes.commentsList.append(n),parseInt(s.total,10)===0&&o.nodes.container.one(".sorting-tabs").addClass("Dn");if(i){var u=o.nodes.container.one("#my-comments-activity");u&&u.remove()}if(t)o.viewComments(!0);else if(o.config.autoShow===!0||o.config.autoShow==="true"||o.config.autoShow==="1")o.viewComments();else if(o.config.initialNumCommentsToLoad||o.nodes.container.one(".view-comments").hasClass("Dn"))o.openedAutomatically=!0,o.viewComments();o.commentsLoaded=!0,o.commentsLoading=o.myCommentsLoaded=o.myCommentsLoading=!1,o.fireEvent(r)}}))})},_loadMyComments:function(e,t){var i=this,s="getUserMessageHistory",o={resource:s,userId:t};i.myCommentsLoading=!0,i.fire("loading:on"),i.nodes.container.one(".comments-failed").addClass("Dn"),o=n.objectMerge(u,o),i.read("resource",o,function(e,n){!e&&n&&(n.userId=t,n.device=i.device,i._renderDust("td-applet-canvass-templates-main-activities",n,function(e,t){if(!e&&t){var n=i.nodes.container.one("#my-comments-activity");n&&n.remove(),i.nodes.container.append(t);var s=i.nodes.container.one("#all-comments-view");s.addClass("Dn");var o=i.nodes.container.one("#activity-user");o&&o.focus(),i.myCommentsLoaded=!0,i.myCommentsLoading=!1,i.fire("loading:off"),i.fireEvent(r),i.attachEvents(i.events)}}))})},_loadDeepComment:function(){var e=this;e.nodes.container.one(".deep-comment-failed").addClass("Dn"),e.nodes.container.one(".refresh-comment-activity").one(".label").set("text",e.strings.LOADING_COMMENTS),e.read("comment",{commentId:e.config.deepCommentId,includeReplies:!0},function(t,n){e.nodes.container.one(".refresh-comment-activity").one(".label").set("text",e.strings.REFRESH_COMMENT_ACTIVITY);if(t)return e.nodes.container.one(".deep-comment-failed").removeClass("Dn"),e.nodes.container.one(".refresh-comment-activity").removeClass("Dn"),e.fireEvent(r),!1;e.nodes.container.one(".refresh-comment-activity").addClass("Dn"),e._renderDust("td-applet-canvass-templates-comments",n,function(t,i){!t&&i&&(e.nodes.commentsDeep.one(".deep-comment-container").append(i),e._renderDust("td-applet-canvass-templates-replies",n.list[0].replies,function(t,n){var i=e.nodes.commentsDeep.one(".comment"),s=i.one(".comment-replies-container"),o=e.nodes.container.one("#reply-form").cloneNode(!0),u=i.one(".reply-form-container"),a=i.one(".view-replies-container"),f=a.one("a"),l=i.one(".replies-container");f.set("text",e.strings.HIDE_REPLIES),!t&&n&&(i.setAttribute("data-replyCount",parseInt(i.getData("replyCount"),10)+1),l.append(n),e.openedAutomatically=!0,e.viewComments(),l.removeClass("Dn"),s.removeClass("Dn"),o.removeClass("Dn"),u.append(o),u.removeClass("Dn"),e.fireEvent(r))}))})})},postComment:function(e){var t=this,n=t.nodes.container.one('[name="new-comment"]'),r=t.nodes.container.one('[name="new-comment-mirror"]'),i=n.get("value"),s=t.getClickParams(null,"cmmt_post");e.preventDefault(),e.stopPropagation(),t._clearAlerts();if(i===""){t._addAlert(t.strings.MISSING_COMMENT,e.target.ancestor("form"));return}t.postingComment=!0;var o=t.nodes.container.one(".applet-container");o.hasClass("Dn")&&t.viewComments(),t.fire("loading:on");var u={userText:i,contextUrl:t.config.url||"",contextDisplayText:t.config.title||"",details:[],visibilityType:t.config.visibilityType,tags:[]};t.post("postMessage_ns",{},JSON.stringify(u),"create",function(i,o){t.fire("loading:off"),t.postingComment=!1,!i&&o?(n.set("value",""),r.set("textContent",""),t.showNewComment(o),s.msg_id=o.list[0].messageId,t.rapid.beaconClick("cmmts","post",0,s,"post")):t._addAlert(t.strings.ERROR,e.target.ancestor("form"))})},postReply:function(e){var t=this,n=e.target.ancestor(".comment"),r=n.one('[name="new-reply"]'),i=n.one('[name="new-reply-mirror"]'),s=r.get("value"),o={messageId:n.getData("message-id")},u=e.target.ancestor(".activity"),a=t.getClickParams(e.target,"cmmt_post");e.preventDefault(),e.stopPropagation(),t._clearAlerts();if(s===""){t._addAlert(t.strings.MISSING_REPLY,e.target.ancestor("form"));return}u&&(o.uuid=u.getData("context-id"),a.context=o.uuid);var f={userText:s,contextUrl:t.config.url||"",contextDisplayText
:t.config.title||"",details:[],visibilityType:t.config.visibilityType,tags:[]};t.fire("loading:on"),t.post("replyMessage_ns",o,JSON.stringify(f),"create",function(n,s){t.fire("loading:off"),!n&&s?(r.set("value",""),i.set("textContent",""),t.showNewReply(e,s),a.msg_id=s.list[0].replyId,a.rcv_msg_id=o.messageId,a.reply_lv=1,t.rapid.beaconClick("cmmts","post reply",0,a,"post")):t._addAlert(t.strings.ERROR,e.target.ancestor("form"))})},showNewComment:function(e){var t=this;t._renderDust("td-applet-canvass-templates-comments",e,function(e,n){!e&&n&&(t.nodes.container.one(".sorting-tabs").hasClass("Dn")&&t.nodes.container.one(".sorting-tabs").removeClass("Dn"),t.nodes.commentsList.prepend(n),t.fireEvent(r))})},showNewReply:function(e,t){var n=this;n._renderDust("td-applet-canvass-templates-replies",t,function(t,i){var s=e.target.ancestor(".comment"),o=s.one(".new-reply-container");!t&&i&&(s.setAttribute("data-replyCount",parseInt(s.getData("replyCount"),10)+1),o.append(i),o.removeClass("Dn"),n.fireEvent(r))})},post:function(e,r,i,s,o){var a=this,f=a.appletModel.syncContext,l=a.nodes.commentsList.getData("commentsnamespace"),c={context:a.nodes.commentsList.getData("context-id"),resource:e};l&&(c.namespace=l),r=n.objectMerge(u,r),c=n.objectMerge(c,r),t[s]("CanvassStore",c,i,f,o)},sortHandler:function(e){e.preventDefault();var t=e.target.getData("sort-type")||"popular";this.changeSort(e,t)},showDeepComment:function(e){e.preventDefault(),e.stopPropagation(),this.nodes.commentsAll.addClass("Dn"),this.nodes.commentsDeep.removeClass("Dn"),e.target.ancestor("li").addClass("Selected"),e.target.ancestor("li").siblings("li").removeClass("Selected"),this.fireEvent(r)},showAllComments:function(e){e.preventDefault(),e.stopPropagation(),this.nodes.commentsAll.removeClass("Dn"),this.nodes.commentsDeep.addClass("Dn"),e.target.ancestor("li").addClass("Selected"),e.target.ancestor("li").siblings("li").removeClass("Selected"),this.fireEvent(r)},resetForms:function(){var e=this,t=e.nodes.container.one(".abuse-form"),n=e.nodes.container.one(".delete-form");t&&t.addClass("Dn"),n&&n.addClass("Dn"),e.nodes.container.append(t),e.nodes.container.append(n),e.fireEvent(r)},changeSort:function(e,t){var i=this;e.preventDefault();if(i.config.sortBy===t)return;var s={context:i.nodes.commentsList.getData("context-id"),resource:"getMessageListForContext_ns",sortBy:t};s=n.objectMerge(u,s),i.fire("loading:on"),e.target.ancestor("ul").one(".sort-fail").addClass("Dn"),i.read("getMessageListForContext_ns",s,function(n,s){i.fire("loading:off");if(n)return e.target.ancestor("ul").one(".sort-fail").removeClass("Dn"),!1;i.config.sortBy=t,e.target.ancestor("li").addClass("selected"),e.target.ancestor("li").siblings("li").removeClass("selected"),!n&&s&&(i.nodes.commentsCount&&i.nodes.commentsCount.set("text","("+s.total+")"),i._renderDust("td-applet-canvass-templates-comments",s,function(e,t){!e&&t&&(i.resetForms(),i.nodes.commentsList.empty().append(t),i.fireEvent(r))}))})},viewAllComments:function(e){var t=this,n=t.nodes.container.one("#all-comments-view");n.removeClass("Dn");var r=t.nodes.container.one("#new-comment-input");r&&r.focus();var i=t.nodes.container.one("#my-comments-activity");i.remove()},viewComments:function(e,t){var n=this.nodes.container.one(".applet-container"),u=e&&e.target,a,f=this.getClickParams(null,"cmmt_open"),l="open",c=this.config.initialNumCommentsToLoad,h=this.config.canvassFullScreen;if(!this.commentsLoaded&&!this.commentsLoading)this._loadComments(!0,t,h);else{if(h){this.openFullScreenView(t);return}n.hasClass("Dn")?(this.nodes.commentsCount&&this.nodes.commentsCount.addClass("D-n"),(this.postingComment||!c||c&&this.nodes.commentsList.all(">li.comment").size())&&n.removeClass("Dn"),this.nodes.container.one('[name="new-comment"]')&&this.device==="desktop"&&this.openedAutomatically!==!0&&this.nodes.container.one('[name="new-comment"]').focus(),this.fireEvent(r),o&&o.fire(i,{uuid:this.config.uuid})):(c?(a=u&&u.get("parentNode"),u&&(u.hasClass("view-comments")||a&&a.hasClass("view-comments"))&&this.nodes.container.one(".applet-container").addClass("Dn")):this.nodes.container.one(".applet-container").addClass("Dn"),this.nodes.container.one('[name="new-comment"]')&&this.nodes.container.one('[name="new-comment"]').focus(),l="close",o&&o.fire(s,{uuid:this.config.uuid})),e&&this.rapid.beaconClick("cmmts","comments",0,f,l)}},viewTheirComments:function(e){this.rapid.beaconClick("cmmts","user name",0,{elm:"cmmt_user",itc:1},"viewComments"),this.viewMyComments(e,!1)},viewMyComments:function(e){var t=this,n=e.target.ancestor("[data-user]",!0),r=n?n.getData("user"):t.config.userGuid;e.preventDefault(),this._loadMyComments(!0,r)},refreshComments:function(){this._loadComments()},refreshCommentActivity:function(){this._loadDeepComment()},showDeleteForm:function(e){var t=this,n=e.target,i=n.ancestor(".reply")?".reply":".comment",s=n.ancestor(i).one(".delete-form"),o=n.ancestor(i).one(".ratings"),u=n.ancestor(i).one(".abuse-form-container"),a=t.getClickParams(n,"cmmt_delete"),f="open",l="delete";e.preventDefault();if(s&&(!n.ancestor(i).hasAttribute("data-comment-id")||!s.ancestor("[data-reply-id]"))){u.hasClass("Dn")?(u.removeClass("Dn"),o.addClass("form-open")):(u.addClass("Dn"),o.removeClass("form-open"),f="delete-cancel"),t.rapid.beaconClick("cmmts",l,0,a,f),t.fireEvent(r);return}t.rapid.beaconClick("cmmts",l,0,a,f),s=t.nodes.container.one(".delete-form"),t._clearAlerts(),s.removeClass("Dn"),t.nodes.container.all(".abuse-form-container").addClass("Dn"),t.nodes.container.all(".ratings").removeClass("form-open"),u.append(s),u.removeClass("Dn"),o.addClass("form-open"),t.fireEvent(r)},sendDelete:function(e){var t=this,r=e.target,i=r.ancestor("[data-message-id]"),s=r.ancestor("[data-reply-id]"),o={context:i.getData("context-id"),messageId:i.getData("message-id")},a=t.getClickParams(r,"cmmt_delete"),f=r.get("text"),l=t.nodes.commentsList.getData("commentsnamespace"),c="deleteMessage_ns";t.rapid.beaconClick("cmmts",f,0,a,"delete-post"
),e.preventDefault(),e.stopPropagation(),t._clearAlerts(),s&&(c="deleteReply_ns",o.replyId=s.getData("reply-id")),l&&(o.namespace=l),o.resource=c,o=n.objectMerge(u,o),t.fire("loading:on"),t.del(c,o,function(n,s){t.fire("loading:off");var o=r.ancestor("li"),u;if(!n&&s){if(c==="reply"){u=parseInt(i.getData("replyCount"),10)-1,i.setAttribute("data-replyCount",u);if(u===0){var a=r.ancestor(".comment");t.viewReplies(e,a)}}t.resetForms(),o.remove(!0)}else t._addAlert(t.strings.ERROR,e.target.ancestor("form"))})},showAbuseForm:function(t){var n=t.target,i=this,s=n.ancestor(".reply")?".reply":".comment",o=n.ancestor(s).one(".abuse-form"),u=n.ancestor(s).one(".ratings"),a=n.ancestor(s).one(".abuse-form-container"),f,l=i.getClickParams(n,"cmmt_abuse"),c="open",h="abuse";t.preventDefault(),t.stopPropagation();if(!this.config.userGuid)return e.Stencil.Tooltip("show",n,{id:"tooltip-login",position:"bl",mouseover:!0,autohide:!0}),!1;if(o&&(!n.ancestor(s).hasAttribute("data-comment-id")||!o.ancestor("[data-reply-id]"))){a.hasClass("Dn")?(o.one(".expandingArea").removeClass("Dn"),o.one(".cancel-btn").removeClass("Dn"),o.one(".report-btn").removeClass("Dn"),o.one(".close-btn").addClass("Dn"),a.removeClass("Dn"),u.addClass("form-open")):(a.addClass("Dn"),u.removeClass("form-open"),c="cancel"),i.rapid.beaconClick("cmmts",h,0,l,c),i.fireEvent(r);return}i.rapid.beaconClick("cmmts",h,0,l,c),o=this.nodes.container.one(".abuse-form"),f=this.nodes.container.one('.abuse-form [name="reason"]'),o.one(".message-creator")&&o.one(".message-creator").set("text",n.ancestor("li").one(".username").get("text")),i._clearAlerts(),o.removeClass("Dn"),f&&f.set("value",""),i.nodes.container.all(".abuse-form-container").addClass("Dn"),i.nodes.container.all(".ratings").removeClass("form-open"),a.append(o),a.removeClass("Dn"),u.addClass("form-open"),o.one(".expandingArea").removeClass("Dn"),o.one(".cancel-btn").removeClass("Dn"),o.one(".report-btn").removeClass("Dn"),o.one(".close-btn").addClass("Dn"),i.fireEvent(r)},reportAbuse:function(e){var t=this,r=e.target,i=r.ancestor("[data-message-id]"),s=r.ancestor("[data-reply-id]"),o=t.nodes.container.one(".abuse-form"),a=o.one('[name="reason"]'),f=t.nodes.container.one('[name="reason-mirror"]'),l="voteMessage_ns",c={abuseReason:a.get("value"),context:i.getData("context-id"),messageId:i.getData("message-id"),voteType:"abuse"},h=t.getClickParams(r,"cmmt_abuse"),p=r.get("text");t.rapid.beaconClick("cmmts",p,0,h,"post"),e.preventDefault(),e.stopPropagation(),t._clearAlerts(),s&&(c.replyId=s.getData("reply-id"),l="voteReply_ns"),c.resource=l,c=n.objectMerge(u,c),t.fire("loading:on");var d={};t.post(l,c,JSON.stringify(d),"update",function(n,r){t.fire("loading:off"),!n&&r?(a.set("value",""),o.one(".expandingArea").addClass("Dn"),o.one(".cancel-btn").addClass("Dn"),o.one(".report-btn").addClass("Dn"),o.one(".close-btn").removeClass("Dn"),f.set("textContent",""),t._addAlert(t.strings.ABUSE_REPORT_SUCESS,e.target.ancestor("form"))):t._addAlert(t.strings.ERROR,e.target.ancestor("form"))})},likeMessage:function(t){t.preventDefault();var r=this,i=t.target.ancestor(".thumb-container",!0),s=i.ancestor("[data-message-id]"),o=i.ancestor("[data-reply-id]"),a=i.getData("vote-type"),l=i.getData("vote-status"),c=l===a?"clear":a,h={context:s.getData("context-id"),messageId:s.getData("message-id"),voteType:c},p=r.getClickParams(i,"cmmt_vote"),d="voteMessage_ns",v=c,m=r.nodes.commentsList.getData("commentsnamespace"),g=c===a?"updateVote":"delete";if(!r.config.userGuid)return e.Stencil.Tooltip("show",i,{id:"tooltip-login",position:"bl",mouseover:!0,autohide:!0}),!1;r.rapid.beaconClick("cmmts",v,0,p,"vote"),o?(d="voteReply_ns",h.replyId=o.getData("reply-id")):p.rcv_msg_id=p.msg_id,m&&(h.namespace=m),h.resource=d,h=n.objectMerge(u,h),r.fire("loading:on"),r.updateVote(d,h,g,function(t,n){r.fire("loading:off");if(t)return e.Stencil.Tooltip("show",i,{id:"tooltip-rating-failed",position:"bl",mouseover:!0,autohide:!0}),!1;var s=i.ancestor(".ratings").all(".thumb-container");s.each(function(e){var t=e.getData("vote-type"),n=e.one(".voteCount"),r=parseInt(n.get("text"),10);c===t?(e.addClass("selected"),e.one(".Icon-Fp2").replaceClass(f[t].unselected,f[t].selected),e.setAttribute("data-vote-status",c),n.set("text",r+1)):e.getData("vote-status")!=="clear"&&(e.removeClass("selected"),e.one(".Icon-Fp2").replaceClass(f[t].selected,f[t].unselected),e.setAttribute("data-vote-status","clear"),n.set("text",r-1))})})},updateVote:function(e,n,r,i){var s=this.appletModel.syncContext,o={};r==="updateVote"?t.update("CanvassStore",n,o,s,i):r==="delete"&&t.del("CanvassStore",n,s,i)},showFullMessage:function(e){var t=this,n=t.getClickParams(e.target,"cmmt_read");e.preventDefault(),e.stopPropagation(),e.target.ancestor(".message-content").one(".message-continued").removeClass("Dn"),e.target.remove(),t.rapid.beaconClick("cmmts","keep reading",0,n,"expand"),this.fireEvent(r)},viewReplies:function(t,i){var s=this,o=t.target,a=i?i:o.ancestor(".comment"),f=a.one(".reply-form"),l=a.one(".reply-form-container"),c=o.ancestor("[data-message-id]"),h=a.one(".comment-replies-container"),p=a.one(".view-replies-container"),d=p.one("a"),v=a.one(".replies-container"),m,g="getReplies_ns",y={context:c.getData("context-id"),messageId:c.getData("message-id"),resource:g,sortBy:"createdAt"},b=s.getClickParams(o,"cmmt_reply"),w="show reply";y=n.objectMerge(u,y),t.preventDefault(),t.stopPropagation();if(!v.hasClass("Dn")&&!v.hasClass("load")){v.addClass("Dn"),f&&(l.hasClass("Dn")||(l.addClass("Dn"),m=parseInt(a.getData("replyCount"),10),d.set("text",s.strings.SHOW_REPLIES_COUNT.replace("{count}",m)),m===0&&p.addClass("Dn"),h.all(".comment-replies-child").hasClass("Dn")&&h.addClass("Dn"))),w="hide reply",s.rapid.beaconClick("cmmts",w,0,b,"hide"),s.fireEvent(r);return}if(v.getHTML()!==""&&!v.hasClass("load")){v.removeClass("Dn"),h.removeClass("Dn"),f&&l.hasClass("Dn")&&(l.removeClass("Dn"),h.removeClass("Dn"),d.set("text",s.strings.HIDE_REPLIES)),s.rapid.beaconClick
("cmmts",w,0,b,"show"),s.fireEvent(r);return}s.fire("loading:on"),s.read(g,y,function(n,i){s.fire("loading:off");if(n)return e.Stencil.Tooltip("show",t.target,{id:"tooltip-request-failed",position:"bl",mouseover:!0,autohide:!0}),!1;!n&&i&&s._renderDust("td-applet-canvass-templates-replies",i,function(e,n){!e&&n&&(d.set("text",s.strings.HIDE_REPLIES),v.set("innerHTML",n),v.removeClass("Dn"),v.removeClass("load"),a.one(".new-reply-container").empty(),h.removeClass("Dn"),s.showReplyForm(t,!0,a),s.rapid.beaconClick("cmmts",w,0,b,"show"),s.fireEvent(r))})})},showReplyForm:function(e,t,n){var i=this,s=e.target,o=n?n:s.ancestor(".comment"),u=o.one(".reply-form"),a=o.one(".reply-form-container"),f=o.one(".comment-replies-container"),l,c=i.getClickParams(s,"cmmt_reply"),h="reply",p="reply";e.preventDefault(),e.stopPropagation();if(u){l=u.one('[name="new-reply"]'),a.hasClass("Dn")?(a.removeClass("Dn"),f.removeClass("Dn"),l.focus()):o.one(".replies-container").hasClass("Dn")?(a.addClass("Dn"),h="reply-cancel",f.all(".comment-replies-child").hasClass("Dn")&&f.addClass("Dn")):t||(a.one("button").scrollIntoView(),l&&l.focus()),i.rapid.beaconClick("cmmts",p,0,c,h),i.fireEvent(r);return}t||i.rapid.beaconClick("cmmts",p,0,c,h),u=i.nodes.container.one("#reply-form").cloneNode(!0),l=u.one('[name="new-reply"]'),i._clearAlerts(),u.removeClass("Dn"),l&&l.set("value",""),a.append(u),a.removeClass("Dn"),f.removeClass("Dn"),!t&&l&&l.focus(),i.fireEvent(r)},loadMoreComments:function(e){var t=this,i=e.currentTarget,s=i.getData("offset");t.fire("loading:on");var o={context:t.nodes.commentsList.getData("context-id"),index:s,resource:"getMessageListForContext_ns",sortBy:t.config.sortBy};o=n.objectMerge(u,o),t.read("getMessageListForContext",o,function(e,n){i.set("text",t.strings.LOADING_COMMENTS),t.fire("loading:off");if(e)return i.set("text",t.strings.RETRY_SHOW_MORE_COMMENTS),!1;i.set("text",t.strings.SHOW_MORE_COMMENTS),!e&&n&&t._renderDust("td-applet-canvass-templates-comments",n,function(e,n){!e&&n&&(i.remove(!0),t.nodes.commentsList.append(n),t.fireEvent(r))})})},loadMoreReplies:function(e){var t=this,i=e.currentTarget,s=i.ancestor(".comment"),o=i.getData("offset");t.fire("loading:on");var a={context:s.getData("context-id"),index:o,messageId:s.getData("message-id"),resource:"getReplies_ns",sortBy:"createdAt"};a=n.objectMerge(u,a),i.set("text",t.strings.LOADING_REPLIES),t.read("replies",a,function(e,n){t.fire("loading:off");if(e)return i.set("text",t.strings.RETRY_SHOW_MORE_REPLIES),!1;i.set("text",t.strings.SHOW_MORE_REPLIES),!e&&n&&t._renderDust("td-applet-canvass-templates-replies",n,function(e,n){!e&&n&&(i.ancestor(".replies-container").append(n),i.remove(!0),t.fireEvent(r))})})},loadMoreActivities:function(e){var t=this,i=e.currentTarget,s=i.getData("guid"),o=i.getData("offset"),a="getUserMessageHistory",f={index:o,userId:s,resource:a,sortBy:t.config.sortBy};f=n.objectMerge(u,f),t.fire("loading:on"),i.set("text",t.strings.LOADING_COMMENTS),t.read(a,f,function(e,n){t.fire("loading:off"),n.userId=s;if(e)return i.set("text",t.strings.RETRY_SHOW_MORE_COMMENTS),!1;i.set("text",t.strings.SHOW_MORE_COMMENTS),!e&&n&&t._renderDust("td-applet-canvass-templates-activities",n,function(e,n){if(!e&&n){i.remove(!0);var s=t.nodes.container.one("#my-comments-activity");s.append(n),t.fireEvent(r)}})})},read:function(e,r,i){var s=this,o=s.appletModel.syncContext,u=s.nodes.commentsList.getData("commentsnamespace"),a={context:s.config.uuid};u&&(a.namespace=u),a=n.objectMerge(a,r),t.read("CanvassStore",a,o,i)},del:function(e,n,r){var i=this.appletModel.syncContext;t.del("CanvassStore",n,i,r)},getClickParams:function(e,t){if(!e)return{context:this.nodes.commentsList.getData("context-id"),elm:t,itc:1,reply_lv:0};var n=this,r=e.ancestor("[data-message-id]"),i=r.all("[data-reply-id]"),s=e.ancestor(".reply",!0,".comment-replies-container");return{context:r.getData("context-id"),cpos:n.nodes.container.all("[data-message-id]").indexOf(r),elm:t,itc:1,msg_id:s?s.getData("reply-id"):r.getData("message-id"),pos:s?i.indexOf(s):null,rcv_msg_id:s?r.getData("message-id"):null,reply_lv:s?1:0}},getScrollTop:function(){var e=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;return this.viewerScrollTop=e,e},setDeferredDeepLinkContext:function(){if(e.Object.getValue(this.config,["communityBar","deferredDeepLink","cookieEnabled"])){var t=e.Object.getValue(this.config,["communityBar","deferredDeepLink","cookieSetEndpoint"]);if(t){var n=encodeURIComponent("content="+this.config.uuid+"&type=uuid"),r=t+n;e.Af.Beacon.send(r)}}},resetScrollTop:function(e){e===undefined&&(e=0),document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop=e:document.body.scrollTop=e},openFullScreenView:function(t){var n=this;if(!n.commentsLoaded&&!n.commentsLoading)n._loadComments(!0,t,!0);else{var s=document.getElementById("all-comments-view");s&&(s.className+=" modal-open");var u=n.getScrollTop();e.one("BODY").addClass("canvass-modal-open"),n.setDeferredDeepLinkContext();var a=e.one(".viewer-content-body");a&&!a.ancestor(".vv-item")&&(n.resetScrollTop(),a.setStyle("transform","translateY("+u+"px")),n.fireEvent(r),n.rapid.beaconAPV(),!n.APVscroll&&e.one("#all-comments-view")&&(n.APVscroll=n.rapid.addModuleAPV("all-comments-view")),o&&o.fire(i,{uuid:n.config.uuid})}},closeFullscreenView:function(t){if(!e.one("BODY").hasClass("canvass-modal-open"))return;var n=this.nodes.container.one("#all-comments-view");n&&n.removeClass("modal-open");var r=this.nodes.container.one("#canvass-header-modal");r&&r.removeClass("fixed"),e.one("BODY").removeClass("canvass-modal-open");var i=e.one(".viewer-content-body");i&&!i.ancestor(".vv-item")&&(this.resetScrollTop(this.viewerScrollTop),i.setAttribute("style",""));if(t){if(t.target){var u=t.target.ancestor("#canvass-header-modal.share-icons-open");u&&this.toggleShareIcons(u)}this.APVscroll&&(this.APVscroll.destroy(),this.APVscroll=null),o&&o.fire(s,{uuid:this.config.uuid})}}
,handleOpenShare:function(e){var t=this,n=e.target,r=n.ancestor("#canvass-header-modal");t.toggleShareIcons(r)},toggleShareIcons:function(e){e.toggleClass("share-icons-open")},deepLinkClick:function(e){var t=e.target.ancestor("A",!0),n=t.get("href"),r=t.getAttribute("data-deeplink");e.preventDefault(),n&&r&&a[r]&&a[r].open(n)},onDisclaimerClose:function(t){e.Af.Cookie.set(l,c,1),this.nodes.container.one(".canvass-disclaimer").addClass("D-n")}})},"@VERSION@",{requires:["af-applet-view","af-event","af-cookie","af-transport","af-utils","af-rapid","canvass-deeplink-plugin","stencil-tooltip","td-applet-canvass-templates-styles"]});
YUI.add("td-applet-canvass-templates-avatar",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.helper("img",n,{},{src:t,width:"40",height:"40",alt:"Avatar","class":"user-avatar orbRadius",onError:"this.onerror=null;this.src='https://s.yimg.com/dh/ap/social/profile/profile_a48.png';"}).write("\n")}function t(e,t){return e.reference(t.getPath(!1,["meta","author","image","url"]),t,"h")}return dust.register("td-applet-canvass-templates-avatar",e),e}()}(),dust.cache["td-applet-canvass:avatar.dust"]=dust.cache["td-applet-canvass:avatar"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/avatar"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-canvass-templates-comments-body",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.exists(n.get("contentContinued"),n,{"else":t,block:i},null).write("\n").write('<div class="reply-controls Cl-b">').write("\n    ").exists(n.get("enableCommentsWrite"),n,{block:s},null).write("\n    ").write('<div class="D-ib ratings">').write("\n        ").exists(n.get("enableCommentsWrite"),n,{block:a},null).write("\n        ").section(n.get("userOwned"),n,{"else":N,block:C},null).write("\n    ").write("</div>").write("\n").write("</div>").write("\n").write('<div class="Cl-b"></div>').write("\n")}function t(e,t){return e.write("\n    ").write('<p class="message-content">').reference(t.getPath(!1,["details","userText"]),t,"h").write("</p>").write("\n    ").exists(t.get("enableImageComments"),t,{block:n},null).write("\n")}function n(e,t){return e.section(t.getPath(!1,["details","chosenImage"]),t,{block:r},null)}function r(e,t){return e.write("\n        ").write('<p><img src="').reference(t.get("url"),t,"h").write('" width="').reference(t.get("width"),t,"h").write('" height="').reference(t.get("height"),t,"h").write('" alt="" class="Maw-100">').write("\n    ")}function i(e,t){return e.write("\n    ").write('<p class="message-content">').reference(t.get("content"),t,"h",["s"]).write(' <span class="message-continued Dn">').reference(t.get("contentContinued"),t,"h",["s"]).write('</span> <a href="#comments" class="show-full-message rapidnowfollow">... ').helper("intlMessage",t,{},{_key:"KEEP_READING"}).write("</a></p>").write("\n")}function s(e,t){return e.write("\n    ").write('<span class="D-ib comment-reply-controls">').write("\n        ").write('<div class="view-replies-container D-i ').helper("eq",t,{block:o},{value:u,key:"0"}).write(' rapid-noclick-resp">').write("\n            ").write('<a href="#comments" class="view-replies rapidnofollow Mend-8" data-cpos="').reference(t.get("$idx"),t,"h").write('" data-slk="').helper("intlMessage",t,{},{_key:"SHOW_REPLIES"}).write('">').helper("intlMessage",t,{},{_key:"SHOW_REPLIES_COUNT",count:t.getPath(!1,["reactionStats","replyCount"])}).write("</a>").write("\n        ").write("</div>").write("\n        ").write('<a href="#comments" class="show-reply-form rapidnofollow">').helper("intlMessage",t,{},{_key:"REPLY"}).write("</a>").write("\n    ").write("</span>").write("\n    ")}function o(e,t){return e.write("Dn")}function u(e,t){return e.reference(t.getPath(!1,["reactionStats","replyCount"]),t,"h")}function a(e,t){return e.write("\n            ").write('<a href="#comments" data-vote-type="up" data-vote-status="').helper("eq",t,{"else":f,block:l},{value:c,key:"UP"}).write('" class="thumb-container ').helper("eq",t,{block:h},{value:p,key:"UP"}).write(' rapidnofollow D-ib NoTextDecoration rapid-noclick-resp">').write("\n                ").write('<i class="Icon-Fp2 ').helper("eq",t,{"else":d,block:v},{value:m,key:"UP"}).write(' D-ib Va-t"></i>').write("\n                ").write('<span class="voteCount">').reference(t.getPath(!1,["reactionStats","upVoteCount"]),t,"h").write("</span>").write("\n            ").write("</a>").write("\n            ").write('<a href="#comments" data-vote-type="down" data-vote-status="').helper("eq",t,{"else":g,block:y},{value:b,key:"DOWN"}).write('" class="thumb-container ').helper("eq",t,{block:w},{value:E,key:"DOWN"}).write(' rapidnofollow D-ib NoTextDecoration rapid-noclick-resp">').write("\n                ").write('<i class="Icon-Fp2 ').helper("eq",t,{"else":S,block:x},{value:T,key:"DOWN"}).write(' D-ib Va-t"></i>').write("\n                ").write('<span class="voteCount">').reference(t.getPath(!1,["reactionStats","downVoteCount"]),t,"h").write("</span>").write("\n            ").write("</a>").write("\n        ")}function f(e,t){return e.write("clear")}function l(e,t){return e.write("up")}function c(e,t){return e.reference(t.get("vote"),t,"h")}function h(e,t){return e.write("selected")}function p(e,t){return e.reference(t.get("vote"),t,"h")}function d(e,t){return e.write("IconThumbsUpOutline")}function v(e,t){return e.write("IconThumbsUpFill")}function m(e,t){return e.reference(t.get("vote"),t,"h")}function g(e,t){return e.write("clear")}function y(e,t){return e.write("down")}function b(e,t){return e.reference(t.get("vote"),t,"h")}function w(e,t){return e.write("selected")}function E(e,t){return e.reference(t.get("vote"),t,"h")}function S(e,t){return e.write("IconThumbsDownOutline")}function x(e,t){return e.write("IconThumbsDownFill")}function T(e,t){return e.reference(t.get("vote"),t,"h")}function N(e,t){return e.write("\n            ").write('<a href="#comments" class="show-abuse-form rapidnofollow" aria-label="').helper("intlMessage",t,{},{_key:"REPORT"}).write('"><i class="Icon-Fp2 IconFlag D-ib Va-t" title="').helper("intlMessage",t,{},{_key:"REPORT"}).write('"></i></a>').write("\n        ")}function C(e,t){return e.write("\n            ").write('<a href="#comments" class="show-delete-form rapidnofollow rapid-noclick-resp" aria-label="').helper("intlMessage",t,{},{_key:"DELETE"}).write('"><span class="sprite trash-can" title="').helper("intlMessage",t,{},{_key:"DELETE"}).write('"></span></a>').write("\n        ")}return dust.register("td-applet-canvass-templates-comments-body",e),e}()}(),dust.cache["td-applet-canvass:comments-body.dust"]=dust.cache["td-applet-canvass:comments-body"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/comments-body"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-canvass-templates-activities",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<ul class="activities">').write("\n").section(n.get("list"),n,{block:t},null).write("\n\n").write("</ul>").write("\n").section(n.get("next"),n,{block:p},null).write("\n")}function t(e,t){return e.write("\n    ").write('<li class="comment" data-message-id="').reference(t.get("messageId"),t,"h").write('" data-replyCount="').reference(t.getPath(!1,["reactionStats","replyCount"]),t,"h").write('" data-user="').reference(t.getPath(!1,["meta","author","guid"]),t,"h").write('" data-rating-value="').reference(t.get("ratingValue"),t,"h").write('"  data-context-id="').reference(t.get("contextId"),t,"h").write('" ').exists(t.get("replyId"),t,{block:n},null).write(">").write("\n        ").helper("eq",t,{block:r},{key:i,value:"true"}).write("\n        ").write('<ul class="">').write("\n            ").write('<li class="D-ib Va-t grid-avatar">').write("\n                ").helper("eq",t,{"else":s,block:o},{key:u,value:"communityManager"}).write("\n            ").write("</li>").write("\n            ").write('<li class="D-ib Va-t grid-content">').write("\n                ").write('<div class="by-line">').write("\n                    ").exists(t.getPath(!1,["meta","contextInfo","displayText"]),t,{block:a},null).write("\n                    ").write('<a href="javascript:void(0)" class="username Fw-b Mb-15 Mend-8 view-their-comments">').helper("eq",t,{"else":c,block:h},{key:t.getPath(!1,["meta","author","nickname"]),value:""}).write("</a>").write("\n                    ").write('<span class="time-ago" title="').reference(t.get("createTimeFormatted"),t,"h").write('">').reference(t.get("createTimeAgo"),t,"h").write("</span>").write("\n                ").write("</div>").write("\n                ").partial("td-applet-canvass:comments-body",t,null).write("\n            ").write("</li>").write("\n        ").write("</ul>").write("\n        ").write('<div class="abuse-form-container Dn"></div>').write("\n        ").write('<div class="comment-replies-container Dn">').write("\n            ").write('<ul class="">').write("\n                ").write('<li class="grid-space"></li>').write("\n                ").write('<li class="grid-reply-container">').write("\n                    ").write('<ul class="comment-replies-child replies-container Dn"></ul>').write("\n                    ").write('<ul class="comment-replies-child new-reply-container Dn"></ul>').write("\n                    ").write('<div class="comment-replies-child reply-form-container Dn"></div>').write("\n                ").write("</li>").write("\n            ").write("</ul>").write("\n        ").write("</div>").write("\n    ").write("</li>").write("\n")}function n(e,t){return e.write('data-reply-id="').reference(t.get("replyId"),t,"h").write('"')}function r(e,t){return e.write("\n            ").write('<div class="ribbon-container Fl-end">').write("\n                ").write('<div class="sprite ribbon show-promoted-comment-tooltip"></div>').write("\n            ").write("</div>").write("\n        ")}function i(e,t){return e.reference(t.get("calledOut"),t,"h")}function s(e,t){return e.write("\n                    ").partial("td-applet-canvass:avatar",t,null).write("\n                ")}function o(e,t){return e.write("\n                    ").write('<div class="Fl-start Ta-c">').write("\n                        ").partial("td-applet-canvass:avatar",t,null).write("\n                        ").write('<div class="editor-label Tt-u">').helper("intlMessage",t,{},{_key:"EDITOR_LABEL"}).write("</div>").write("\n                    ").write("</div>").write("\n                ")}function u(e,t){return e.reference(t.get("userType"),t,"h")}function a(e,t){return e.write('<h5 class="Mb-0 Fz-m Fw-b">').exists(t.getPath(!1,["meta","contextInfo","url"]),t,{"else":f,block:l},null).write("</h5>")}function f(e,t){return e.reference(t.getPath(!1,["meta","contextInfo","displayText"]),t,"h")}function l(e,t){return e.write('<a href="').reference(t.getPath(!1,["meta","contextInfo","url"]),t,"h").write('">').reference(t.getPath(!1,["meta","contextInfo","displayText"]),t,"h").write("</a>")}function c(e,t){return e.reference(t.getPath(!1,["meta","author","nickname"]),t,"h",["s"])}function h(e,t){return e.helper("intlMessage",t,{},{_key:"ANONYMOUS"})}function p(e,t){return e.write("\n    ").write('<button class="load-more-activities clear-button Btn Mt-15 D-b C-line C-hover C-news" data-offset="').reference(t.get("next"),t,"h").write('" data-guid="').reference(t.get("userId"),t,"h").write('" ').helper("rapid_data_attr",t,{},{itc:"1",elm:"btn",outcm:"more"}).write(">").helper("intlMessage",t,{},{_key:"SHOW_MORE_COMMENTS"}).write("</button>").write("\n")}return dust.register("td-applet-canvass-templates-activities",e),e}()}(),dust.cache["td-applet-canvass:activities.dust"]=dust.cache["td-applet-canvass:activities"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/activities"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust","td-applet-canvass-templates-avatar","td-applet-canvass-templates-comments-body"]});
YUI.add("td-applet-canvass-templates-activity-comments",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.section(n.get("list"),n,{block:t},null).write("\n")}function t(e,t){return e.write("\n    ").write('<li class="comment" data-message-id="').reference(t.get("messageId"),t,"h").write('" data-replyCount="').reference(t.getPath(!1,["reactionStats","replyCount"]),t,"h").write('" data-user="').reference(t.getPath(!1,["meta","author","guid"]),t,"h").write('" data-rating-value="').reference(t.get("ratingValue"),t,"h").write('" data-context-id="').reference(t.get("contextId"),t,"h").write('">').write("\n        ").helper("eq",t,{block:n},{key:r,value:"true"}).write("\n        ").write('<ul class="">').write("\n            ").write('<li class="D-ib Va-t grid-avatar">').write("\n                ").helper("eq",t,{"else":i,block:s},{key:o,value:"communityManager"}).write("\n            ").write("</li>").write("\n            ").write('<li class="D-ib Va-t grid-content">').write("\n                ").write('<div class="by-line">').write("\n                    ").write('<a href="javascript:void(0)" class="username Fw-b Mb-15 Mend-8 view-their-comments">').notexists(t.getPath(!1,["meta","author","nickname"]),t,{"else":u,block:a},null).write("</a>").write("\n                    ").write('<span class="time-ago" title="').reference(t.get("createTimeFormatted"),t,"h").write('">').reference(t.get("createTimeAgo"),t,"h").write("</span>").write("\n                ").write("</div>").write("\n                ").partial("td-applet-canvass:comments-body",t,null).write("\n            ").write("</li>").write("\n        ").write("</ul>").write("\n        ").write('<div class="abuse-form-container Dn"></div>').write("\n        ").write('<div class="comment-replies-container Dn">').write("\n            ").write('<ul class="">').write("\n                ").write('<li class="grid-space"></li>').write("\n                ").write('<li class="grid-reply-container">').write("\n                    ").write('<ul class="comment-replies-child replies-container Dn"></ul>').write("\n                    ").write('<ul class="comment-replies-child new-reply-container Dn"></ul>').write("\n                    ").write('<div class="comment-replies-child reply-form-container Dn"></div>').write("\n                ").write("</li>").write("\n            ").write("</ul>").write("\n        ").write("</div>").write("\n    ").write("</li>").write("\n")}function n(e,t){return e.write("\n            ").write('<div class="ribbon-container Fl-end">').write("\n                ").write('<div class="sprite ribbon show-promoted-comment-tooltip"></div>').write("\n            ").write("</div>").write("\n        ")}function r(e,t){return e.reference(t.get("calledOut"),t,"h")}function i(e,t){return e.write("\n                    ").partial("td-applet-canvass:avatar",t,null).write("\n                ")}function s(e,t){return e.write("\n                    ").write('<div class="Fl-start Ta-c">').write("\n                        ").partial("td-applet-canvass:avatar",t,null).write("\n                        ").write('<div class="editor-label Tt-u">').helper("intlMessage",t,{},{_key:"EDITOR_LABEL"}).write("</div>").write("\n                    ").write("</div>").write("\n                ")}function o(e,t){return e.reference(t.get("userType"),t,"h")}function u(e,t){return e.reference(t.getPath(!1,["meta","author","nickname"]),t,"h",["s"])}function a(e,t){return e.helper("intlMessage",t,{},{_key:"ANONYMOUS"})}return dust.register("td-applet-canvass-templates-activity-comments",e),e}()}(),dust.cache["td-applet-canvass:activity-comments.dust"]=dust.cache["td-applet-canvass:activity-comments"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/activity-comments"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust","td-applet-canvass-templates-avatar","td-applet-canvass-templates-comments-body"]});
YUI.add("td-applet-canvass-templates-replies-body",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.exists(n.get("contentContinued"),n,{"else":t,block:i},null).write("\n").write('<div class="Cl-b Mt-8">').write("\n    ").write('<div class="ratings">').write("\n        ").exists(n.get("enableCommentsWrite"),n,{block:s},null).write("\n        ").section(n.get("userOwned"),n,{"else":S,block:N},null).write("\n    ").write("</div>").write("\n").write("</div>").write("\n")}function t(e,t){return e.write("\n    ").write('<p class="message-content">').reference(t.getPath(!1,["details","userText"]),t,"h").write("</p>").write("\n    ").exists(t.get("enableImageComments"),t,{block:n},null).write("\n")}function n(e,t){return e.section(t.getPath(!1,["details","chosenImage"]),t,{block:r},null)}function r(e,t){return e.write("\n        ").write('<p><img src="').reference(t.get("url"),t,"h").write('" width="').reference(t.get("width"),t,"h").write('" height="').reference(t.get("height"),t,"h").write('" alt="" class="Maw-100">').write("\n    ")}function i(e,t){return e.write("\n    ").write('<p class="message-content">').reference(t.get("content"),t,"h",["s"]).write(' <span class="message-continued Dn">').reference(t.get("contentContinued"),t,"h",["s"]).write('</span> <a href="#comments" class="show-full-message rapidnowfollow">... ').helper("intlMessage",t,{},{_key:"KEEP_READING"}).write("</a></p>").write("\n")}function s(e,t){return e.write("\n            ").write('<a href="#comments" data-vote-type="up" data-vote-status="').helper("eq",t,{"else":o,block:u},{value:a,key:"UP"}).write('" class="thumb-container ').helper("eq",t,{block:f},{value:l,key:"UP"}).write(' rapidnofollow D-ib NoTextDecoration rapid-noclick-resp">').write("\n                ").write('<i class="Icon-Fp2 ').helper("eq",t,{"else":c,block:h},{value:p,key:"UP"}).write(' D-ib Va-t"></i>').write("\n                ").write('<span class="voteCount">').reference(t.getPath(!1,["reactionStats","upVoteCount"]),t,"h").write("</span>").write("\n            ").write("</a>").write("\n            ").write('<a href="#comments" data-vote-type="down" data-vote-status="').helper("eq",t,{"else":d,block:v},{value:m,key:"DOWN"}).write('" class="thumb-container ').helper("eq",t,{block:g},{value:y,key:"DOWN"}).write(' rapidnofollow D-ib NoTextDecoration rapid-noclick-resp">').write("\n                ").write('<i class="Icon-Fp2 ').helper("eq",t,{"else":b,block:w},{value:E,key:"DOWN"}).write(' D-ib Va-t"></i>').write("\n                ").write('<span class="voteCount">').reference(t.getPath(!1,["reactionStats","downVoteCount"]),t,"h").write("</span>").write("\n            ").write("</a>").write("\n        ")}function o(e,t){return e.write("clear")}function u(e,t){return e.write("up")}function a(e,t){return e.reference(t.get("vote"),t,"h")}function f(e,t){return e.write("selected")}function l(e,t){return e.reference(t.get("vote"),t,"h")}function c(e,t){return e.write("IconThumbsUpOutline")}function h(e,t){return e.write("IconThumbsUpFill")}function p(e,t){return e.reference(t.get("vote"),t,"h")}function d(e,t){return e.write("clear")}function v(e,t){return e.write("down")}function m(e,t){return e.reference(t.get("vote"),t,"h")}function g(e,t){return e.write("selected")}function y(e,t){return e.reference(t.get("vote"),t,"h")}function b(e,t){return e.write("IconThumbsDownOutline")}function w(e,t){return e.write("IconThumbsDownFill")}function E(e,t){return e.reference(t.get("vote"),t,"h")}function S(e,t){return e.write("\n            ").helper("ne",t,{block:x},{key:T,value:"communityManager"}).write("\n        ")}function x(e,t){return e.write("\n                ").write('<a href="#comments" class="show-abuse-form rapidnofollow" aria-label="').helper("intlMessage",t,{},{_key:"REPORT"}).write('"><i class="Icon-Fp2 IconFlag D-ib Va-t" title="').helper("intlMessage",t,{},{_key:"REPORT"}).write('"></i></a>').write("\n            ")}function T(e,t){return e.reference(t.get("userType"),t,"h")}function N(e,t){return e.write("\n            ").write('<a href="#comments" class="show-delete-form rapidnofollow rapid-noclick-resp" aria-label="').helper("intlMessage",t,{},{_key:"DELETE"}).write('"><i class="sprite trash-can" title="').helper("intlMessage",t,{},{_key:"DELETE"}).write('"></i></a>').write("\n        ")}return dust.register("td-applet-canvass-templates-replies-body",e),e}()}(),dust.cache["td-applet-canvass:replies-body.dust"]=dust.cache["td-applet-canvass:replies-body"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/replies-body"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-canvass-templates-activity-replies",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.section(n.get("replies"),n,{block:t},null)}function t(e,t){return e.write("\n    ").write('<li class="reply ').helper("eq",t,{block:n},{key:r,value:"communityManager"}).write('" data-reply-id="').reference(t.get("id"),t,"h").write('" data-user="').reference(t.get("creator"),t,"h").write('" data-rating-value="').reference(t.get("ratingValue"),t,"h").write('">').write("\n            ").write('<ul class="">').write("\n                ").write('<li class="D-ib Va-t grid-avatar">').write("\n                    ").helper("eq",t,{"else":i,block:s},{key:o,value:"communityManager"}).write("\n                ").write("</li>").write("\n                ").write('<li class="D-ib Va-t grid-reply-content">').write("\n                    ").write('<div class="by-line">').write("\n                        ").write("\n                        ").helper("eq",t,{"else":u,block:l},{value:p,key:d}).write(' <span class="time-ago" title="').reference(t.get("createTimeFormatted"),t,"h").write('">').reference(t.get("createTimeAgo"),t,"h").write("</span>").write("\n                    ").write("</div>").write("\n                    ").partial("td-applet-canvass:replies-body",t,null).write("\n                ").write("</li>").write("\n            ").write("</ul>").write("\n            ").write('<div class="abuse-form-container Dn"></div>').write("\n        ").write('<div class="Cl-b"></div>').write("\n    ").write("</li>").write("\n")}function n(e,t){return e.write("editor-reply")}function r(e,t){return e.reference(t.get("userType"),t,"h")}function i(e,t){return e.write("\n                        ").partial("td-applet-canvass:avatar",t,null).write("\n                    ")}function s(e,t){return e.write("\n                        ").write('<div class="Fl-start Ta-c">').write("\n                            ").partial("td-applet-canvass:avatar",t,null).write("\n                            ").write('<div class="editor-label Tt-u">').helper("intlMessage",t,{},{_key:"EDITOR_LABEL"}).write("</div>").write("\n                        ").write("</div>").write("\n                    ")}function o(e,t){return e.reference(t.get("userType"),t,"h")}function u(e,t){return e.write("\n                            ").write('<a class="username Fw-b Mb-15" target="_blank" href="').reference(t.getPath(!1,["userProfile","editorUrl"]),t,"h").write('">').helper("eq",t,{"else":a,block:f},{key:t.getPath(!1,["userProfile","nickName"]),value:""}).write("</a>").write("\n                        ")}function a(e,t){return e.reference(t.getPath(!1,["userProfile","nickName"]),t,"h",["s"])}function f(e,t){return e.helper("intlMessage",t,{},{_key:"ANONYMOUS"})}function l(e,t){return e.write("\n                            ").write('<a href="javascript:void(0)" class="username Fw-b Mb-15 Mend-8 view-their-comments">').helper("eq",t,{"else":c,block:h},{key:t.getPath(!1,["userProfile","nickName"]),value:""}).write("</a>").write("\n                        ")}function c(e,t){return e.reference(t.getPath(!1,["userProfile","nickName"]),t,"h",["s"])}function h(e,t){return e.helper("intlMessage",t,{},{_key:"ANONYMOUS"})}function p(e,t){return e.reference(t.getPath(!1,["userProfile","editorUrl"]),t,"h").write(" ")}function d(e,t){return e.write(" ")}return dust.register("td-applet-canvass-templates-activity-replies",e),e}()}(),dust.cache["td-applet-canvass:activity-replies.dust"]=dust.cache["td-applet-canvass:activity-replies"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/activity-replies"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust","td-applet-canvass-templates-avatar","td-applet-canvass-templates-replies-body"]});
YUI.add("td-applet-canvass-templates-disclaimer",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,i){return e.helper("eq",i,{"else":t,block:n},{key:r,value:"smartphone"}).write("\n")}function t(e,t){return e.write("\n    ").write('<div class="canvass-disclaimer Bd Bdc(#d8dade) P(10px) Mt(10px)">').write("\n        ").write('<svg class="Mend(6px) Fl(start) Cur(p) Va(b)" width="20" height="20" viewBox="0 0 48 48" data-icon="attention" style="fill: rgb(255, 0, 0); stroke: rgb(255, 0, 0); stroke-width: 0;">').write("\n            ").write('<path d="M24.993 46.424c-12.13 0-22-9.87-22-22s9.87-22 22-22 22 9.87 22 22-9.87 22-22 22zm0-40c-9.925 0-18 8.075-18 18 0 9.926 8.075 18 18 18s18-8.074 18-18c0-9.924-8.075-18-18-18zM24.993 27.424c-1.104 0-2-.895-2-2v-10c0-1.104.896-2 2-2s2 .896 2 2v10c0 1.105-.895 2-2 2zM22.993 33.424a2 2 0 1 0 4 0 2 2 0 1 0-4 0z">').write("\n            ").write("</path>").write("\n        ").write("</svg>").write("\n        ").write('<p class="Mb(6px) Fz(14px) Fw(200)">').write("\n            ").helper("intlMessage",t,{},{_key:"DISCLAIMER_LINE1",bold:"<span class='Fw(b)'>",boldclose:"</span>"}).write("\n        ").write("</p>").write("\n        ").write('<p class="Mb(6px) Fz(14px) Fw(200)">').write("\n            ").helper("intlMessage",t,{},{_key:"DISCLAIMER_LINE2",bold:"<span class='Fw(b)'>",boldclose:"</span>"}).write("\n        ").write("</p>").write("\n    ").write("</div>").write("\n")}function n(e,t){return e.write("\n    ").write('<div class="canvass-disclaimer Pos-f W-90 C-w P-20 Bxz-bb Z-5 V-h">').write("\n        ").write('<p class="Mb(6px) Fz(14px) Fw(200) W-80">').write("\n            ").helper("intlMessage",t,{},{_key:"DISCLAIMER_LINE1",bold:"<span class='Fw(b)'>",boldclose:"</span>"}).write("\n        ").write("</p>").write("\n        ").write('<p class="Mb(6px) Fz(14px) Fw(200) W-80">').write("\n            ").helper("intlMessage",t,{},{_key:"DISCLAIMER_LINE2",bold:"<span class='Fw(b)'>",boldclose:"</span>"}).write("\n        ").write("</p>").write("\n        ").write('<button class="closeBtn ButtonNaked Pos-a End-0 T-50 Mend-10 C-w Fw(b)" title="').helper("intlMessage",t,{},{_key:"DISCLAIMER_OK"}).write('">').helper("intlMessage",t,{},{_key:"DISCLAIMER_OK"}).write("</button>").write("\n    ").write("</div>").write("\n")}function r(e,t){return e.reference(t.getPath(!1,["context","device"]),t,"h")}return dust.register("td-applet-canvass-templates-disclaimer",e),e}()}(),dust.cache["td-applet-canvass:disclaimer.dust"]=dust.cache["td-applet-canvass:disclaimer"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/disclaimer"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-canvass-templates-form-reply",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,r){return e.write('<form id="reply-form" class="reply-form Dn">').write("\n    ").helper("eq",r,{"else":t,block:n},{value:i,key:"true"}).write("\n").write("</form>").write("\n")}function t(e,t){return e.write("\n        ").write('<div class="login-cta"><a href="#comments" class="login-link rapidnofollow" ').helper("rapid_data_attr",t,{},{itc:"1",elm:"btn",outcm:"sign-in"}).write(">").helper("intlMessage",t,{},{_key:"SIGN_IN_POST_REPLY"}).write("</a></div>").write("\n    ")}function n(e,t){return e.write("\n        ").write('<label class="placeholder-label Dn">').helper("intlMessage",t,{},{_key:"LEAVE_A_REPLY"}).write("</label>").write("\n        ").write('<table class="W-100 M-0 P-0 H-100 expandingArea active"><tbody><tr>').write("\n            ").write('<td class="W-100 Tbl-f Va-t Px-0 Pos-r">').write("\n                ").write('<pre class="M-0 Bgc-t"><span name="new-reply-mirror"></span><br></pre>').write("\n                ").write('<textarea rows="1" name="new-reply" tabindex="1" class="M-0 W-100 Bxz-bb" placeholder="').helper("intlMessage",t,{},{_key:"LEAVE_A_REPLY"}).write('"></textarea>').write("\n            ").write("</td>").write("\n            ").write('<td class="Va-t Pstart-4 Pend-0">').write("\n                ").write('<button type="button" class="Btn Primary D-ib Va-b C-button Whs-nw Fz-m" ').helper("rapid_data_attr",t,{},{subsec:"reply",itc:"1",elm:"btn",outcm:"post",cpos:r}).write(">").helper("intlMessage",t,{},{_key:"POST"}).write("</button>").write("\n            ").write("</td>").write("\n        ").write("</tr></tbody></table>").write("\n\n        ").write('<div class="alert-list error-box P-10 Dn"></div>').write("\n    ")}function r(e,t){return e.reference(t.get("$idx"),t,"h")}function i(e,t){return e.reference(t.get("isLoggedIn"),t,"h")}return dust.register("td-applet-canvass-templates-form-reply",e),e}()}(),dust.cache["td-applet-canvass:form-reply.dust"]=dust.cache["td-applet-canvass:form-reply"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/form-reply"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-canvass-templates-form-abuse",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,t){return e.write('<form class="abuse-form Dn">').write("\n    ").write('<div class="abuse-caret"></div>').write("\n    ").write('<div class="intro">').helper("intlMessage",t,{},{_key:"REPORT_INTRO"}).write("</div>").write("\n    ").write('<div class="container">').write("\n        ").write('<label class="placeholder-label Dn">').helper("intlMessage",t,{},{_key:"PLEASE_EXPLAIN"}).write("</label>").write("\n        ").write('<div class="expandingArea active Pos-r">').write("\n            ").write('<pre class="M-0 P-6 Bgc-t"><span name="reason-mirror"></span><br></pre>').write("\n            ").write('<textarea rows="1" name="reason" class="M-0 P-6 Bgc-t Bxz-bb Bxsh-n W-100 Bdrs-0" placeholder="').helper("intlMessage",t,{},{_key:"PLEASE_EXPLAIN"}).write('"></textarea>').write("\n        ").write("</div>").write("\n        ").write('<div class="alert-list error-box P-10 Dn"></div>').write("\n        ").write('<div class="new-abuse-controls">').write("\n            ").write('<button type="button" class="report-btn Btn Fz-m Primary Fl-end Mt-0 Mb-0 C-button">').helper("intlMessage",t,{},{_key:"REPORT"}).write("</button>").write("\n            ").write('<button type="button" class="show-abuse-form cancel-btn Btn Fz-m Primary Fl-end Mend-4 Mt-0 Mb-0 C-button">').helper("intlMessage",t,{},{_key:"CANCEL"}).write("</button>").write("\n            ").write('<button type="button" class="show-abuse-form close-btn Btn Fz-m Primary Fl-end Mend-4 Mt-0 Mb-0 Dn">').helper("intlMessage",t,{},{_key:"CLOSE"}).write("</button>").write("\n            ").write('<div class="Cl-b"></div>').write("\n        ").write("</div>").write("\n        ").write('<div class="Cl-b"></div>').write("\n    ").write("</div>").write("\n").write("</form>").write("\n")}return dust.register("td-applet-canvass-templates-form-abuse",e),e}()}(),dust.cache["td-applet-canvass:form-abuse.dust"]=dust.cache["td-applet-canvass:form-abuse"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/form-abuse"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-canvass-templates-form-delete",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,t){return e.write('<form class="delete-form Dn">').write("\n    ").write('<div class="abuse-caret"></div>').write("\n    ").write('<div class="intro">').helper("intlMessage",t,{},{_key:"ARE_YOU_SURE"}).write("</div>").write("\n    ").write('<div class="container">').write("\n        ").write('<div class="alert-list error-box P-10 Dn"></div>').write("\n        ").write('<button type="button" class="delete-btn Btn Fz-m Primary Fl-end Mt-0 Mb-0 C-button">').helper("intlMessage",t,{},{_key:"DELETE"}).write("</button>").write("\n        ").write('<button type="button" class="show-delete-form Btn Fz-m Primary Fl-end Mend-4 Mt-0 Mb-0 C-button">').helper("intlMessage",t,{},{_key:"CANCEL"}).write("</button>").write("\n        ").write('<div class="Cl-b"></div>').write("\n    ").write("</div>").write("\n").write("</form>").write("\n")}return dust.register("td-applet-canvass-templates-form-delete",e),e}()}(),dust.cache["td-applet-canvass:form-delete.dust"]=dust.cache["td-applet-canvass:form-delete"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/form-delete"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-canvass-templates-form-comment",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,i){return e.write('<form class="comment-form Pt-8 Dn ').exists(i.get("leadModal"),i,{block:t},null).write('">').write("\n    ").helper("eq",i,{"else":n,block:r},{value:a,key:"true"}).write("\n").write("</form>").write("\n")}function t(e,t){return e.write("Ov(h) W(100%) Cf")}function n(e,t){return e.write("\n        ").write('<div class="login-cta"><a href="#comments" class="login-link rapidnofollow" ').helper("rapid_data_attr",t,{},{itc:"1",elm:"btn",outcm:"sign-in"}).write(">").helper("intlMessage",t,{},{_key:"SIGN_IN_POST_COMMENT"}).write("</a></div>").write("\n    ")}function r(e,t){return e.write("\n        ").write('<label class="placeholder-label Dn">').helper("intlMessage",t,{},{_key:"LEAVE_A_COMMENT"}).write("</label>").write("\n        ").exists(t.get("leadModal"),t,{"else":i,block:o},null).write("\n        ").write('<div class="alert-list error-box P-10 Dn"></div>').write("\n    ")}function i(e,t){return e.write("\n        ").notexists(t.get("canvassFullScreen"),t,{block:s},null).write("\n        ").write('<table class="W-100 M-0 P-0 H-100 expandingArea active"><tbody><tr>').write("\n            ").write('<td class="W-100 Tbl-f  Va-t Px-0 Pos-r">').write("\n                ").write('<pre class="M-0 Bgc-t"><span name="new-comment-mirror"></span><br></pre>').write("\n                ").write('<textarea rows="1" name="new-comment" class="M-0 W-100 Wow-bw Bxz-bb" placeholder="').helper("intlMessage",t,{},{_key:"LEAVE_A_COMMENT"}).write('" id="new-comment-input"></textarea>').write("\n            ").write("</td>").write("\n            ").write('<td class="Va-t Pstart-8 Pend-0">').write("\n                ").write('<button type="button" class="Btn Primary D-ib Va-b C-button Whs-nw Fz-m" ').helper("rapid_data_attr",t,{},{subsec:"reply",itc:"1",elm:"btn",outcm:"post",cpos:"0"}).write(">").helper("intlMessage",t,{},{_key:"POST"}).write("</button>").write("\n            ").write("</td>").write("\n        ").write("</tr></tbody></table>").write("\n        ")}function s(e,t){return e.write('<a target="_blank" href="').helper("intlMessage",t,{},{_key:"COMMENT_GUIDELINES_LINK"}).write('" class="Pos-a guidelines">').helper("intlMessage",t,{},{_key:"COMMENT_GUIDELINES"}).write("</a>")}function o(e,t){return e.write("\n            ").write('<div class="Pos(r) Ov(h) Bgc(#fff) My(13px) Bdc(#e0e4e9) Bd Bdrs(2px) Mstart(52px) comment-form-textarea-parent">').write("\n                ").write('<div class="Bd-b Bdc(#e0e4e9) Bgc(#f7f8ff) Fz(14px) Px(16px) Py(10px) comment-guidelines D-n">').write("\n                    ").write("<span>").write("\n                        ").helper("intlMessage",t,{},{_key:"COMMENT_GUIDELINES_PLEASE_REVIEW"}).write('<a class="C(#198fff) Fw(b)" href="').helper("intlMessage",t,{},{_key:"COMMENT_GUIDELINES_LINK"}).write('" target="_blank">').helper("intlMessage",t,{},{_key:"COMMENT_GUIDELINES"}).write("</a>").helper("intlMessage",t,{},{_key:"COMMENT_GUIDELINES_BEFORE_POST"}).write("\n                    ").write("</span>").write("\n                ").write("</div>").write("\n                ").write('<pre class="M-0 Bgc-t H-0"><span name="new-comment-mirror"></span></pre>').write("\n                ").write('<textarea rows="1" name="new-comment" class="Bd(n) Fz(14px) Lh(20px) W(100%) Bxsh(n) C(#26282a) Pstart(16px) Py(12px)" placeholder="Share your reaction" tabindex="1" style="resize: none;"></textarea>').write("\n                ").write('<div class="Pos(r) Pstart(16px) Pb(10px)">').write("\n                    ").write('<button class="comment-submit Fw(600) Bgc(t) Bd(n) O(n) M(0) Pos(a) End(0) B(0) P(12px) Fz(16px) C(#e0e4e9)').exists(t.get("leadModal"),t,{block:u},null).write('" type="button" ').helper("rapid_data_attr",t,{},{subsec:"reply",itc:"1",elm:"btn",outcm:"post",cpos:"0"}).write(">").helper("intlMessage",t,{},{_key:"POST"}).write("</button>").write("\n                ").write("</div>").write("\n            ").write("</div>").write("\n        ")}function u(e,t){return e.write(" comment-submit-inactive")}function a(e,t){return e.reference(t.get("isLoggedIn"),t,"h")}return dust.register("td-applet-canvass-templates-form-comment",e),e}()}(),dust.cache["td-applet-canvass:form-comment.dust"]=dust.cache["td-applet-canvass:form-comment"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/form-comment"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("td-applet-canvass-templates-main",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.helper("eq",n,{block:t},{value:s,key:"true"}).write("\n        ").exists(n.get("showDisclaimer"),n,{block:o},null).write("\n        ").write("\n        ").helper("eq",n,{block:u},{value:a,key:"true"}).write("\n        ").write("\n        ").partial("td-applet-canvass:form-reply",n,null).write("\n        ").partial("td-applet-canvass:form-abuse",n,null).write("\n        ").partial("td-applet-canvass:form-delete",n,null).write("\n        ").write("\n        ").write('<div id="tooltip-login" class="Dn"><div class="P-20"><a href="#comments" class="login-link rapidnofollow">').helper("intlMessage",n,{},{_key:"PLEASE_SIGN_IN"}).write("</a></div></div>").write("\n        ").write('<div id="tooltip-rating-failed" class="Dn"><div class="P-20">').helper("intlMessage",n,{},{_key:"RATING_FAILED_TRY_AGAIN"}).write("</div></div>").write("\n        ").write('<div id="tooltip-request-failed" class="Dn"><div class="P-20">').helper("intlMessage",n,{},{_key:"REQUEST_FAILED_TRY_AGAIN"}).write("</div></div>").write("\n        ").write('<div id="tooltip-promoted-comment" class="Dn"><div class="P-10">').helper("intlMessage",n,{},{_key:"PROMOTED_COMMENTS"}).write("</div></div>").write("\n        ").helper("eq",n,{block:f},{value:l,key:"true"}).write("\n").write('<div id="all-comments-view" class="td-applet-canvass ').reference(n.getPath(!1,["context","device"]),n,"h").write(" top-border Pos-r My-20").notexists(n.get("leadModal"),n,{block:c},null).write('">').write("\n    ").write('<div class="comments-failed error-box P-10 Dn">').helper("intlMessage",n,{},{_key:"COMMENTS_FAILED"}).write("</div>").write("\n    ").write('<button class="view-comments Btn Ta-start Mt-10 Bdtrrs-0 Bdtlrs-0 Dn rapid-noclick-resp ').exists(n.get("leadModal"),n,{"else":h,block:p},null).write('" data-ylk="sec:cmmts;slk:').helper("eq",n,{"else":d,block:v},{key:n.get("commentCount"),value:0}).write(';"><i class="Icon-Fp2 IconComments Va-tt Mend-6 text-bubble"></i><span class="label">').helper("eq",n,{"else":m,block:E},{key:n.get("commentCount"),value:0}).write("</span> ").notexists(n.get("leadModal"),n,{block:S},null).write("\n    ").write("</button>").write("\n    ").exists(n.get("enableCommentsWrite"),n,{block:T},null).write("\n    ").write('<div class="applet-container Dn Pos-r Pt-8">').write("\n\n        ").write('<div class="all-comments Pos-r ').helper("eq",n,{block:N},{value:C,key:"true"}).write('">').write("\n            ").write("\n            ").write('<ul class="sorting-tabs">').write("\n                ").write('<li class="selected C-line">').write("\n                    ").write('<a href="#comments" class="sort-option rapidnofollow" data-sort-type="popular" ').helper("rapid_data_attr",n,{},{sec:"cmmts",elm:"cmmt_sort",itc:"1"}).write(">").helper("intlMessage",n,{},{_key:"TOP"}).write("</a>").write("\n                ").write("</li>").write("\n                ").write('<li class="C-line">').write("\n                    ").write('<a href="#comments" class="sort-option rapidnofollow" data-sort-type="createdAt" ').helper("rapid_data_attr",n,{},{sec:"cmmts",elm:"cmmt_sort",itc:"1"}).write(">").helper("intlMessage",n,{},{_key:"RECENT"}).write("</a>").write("\n                ").write("</li>").write("\n                ").write('<li class="sort-fail Dimmed Fl-end Dn">').write("\n                    ").helper("intlMessage",n,{},{_key:"RETRY_SORT"}).write("\n                ").write("</li>").write("\n            ").write("</ul>").write("\n             ").helper("eq",n,{block:k},{value:A,key:"true"}).write("\n            ").write("\n            ").write('<ul class="comments-container" data-context-id="').reference(n.get("contextId"),n,"h").write('" data-commentsnamespace="').reference(n.get("commentsNamespace"),n,"h").write('"></ul>').write("\n        ").write("</div>").write("\n    ").write("</div>").write("\n\n    ").write("\n    ").write('<button class="refresh-comments Btn Ta-start Mt-0 W-100 Bdtrrs-0 Bdtlrs-0 Dn"><div class="refresh-bubble D-ib P-10 Bdrs-100"><span class="sprite refresh-bubble Pos-r"></span></div> <span class="label">').helper("intlMessage",n,{},{_key:"REFRESH_COMMENTS"}).write("</span></button>").write("\n    ").write('<button class="refresh-comment-activity Btn Ta-start Mt-0 W-100 Bdtrrs-0 Bdtlrs-0 Dn"><div class="refresh-bubble D-ib P-10 Bdrs-100"><span class="sprite refresh-bubble Pos-r"></span></div> <span class="label">').helper("intlMessage",n,{},{_key:"REFRESH_COMMENT_ACTIVITY"}).write("</span></button>").write("\n").write("</div>").write("\n")}function t(e,t){return e.write("\n    ").write('<style type="text/css">').write("\n        ").helper("eq",t,{"else":n,block:r},{key:i,value:"smartphone"}).write("\n    ").write("</style>").write("\n")}function n(e,t){return e.write("\n            ").write("body {").write("\n                ").write("margin-top: 20px;").write("\n            ").write("}").write("\n            ").write("body .Grid-U-3-5 {").write("\n                ").write("width: 500px;").write("\n            ").write("}").write("\n        ")}function r(e,t){return e.write("\n            ").write("body {").write("\n                ").write("margin: 20px !important;").write("\n            ").write("}").write("\n            ").write("body .Grid-U-3-5 {").write("\n                ").write("width: 100%;").write("\n            ").write("}").write("\n        ")}function i(e,t){return e.reference(t.getPath(!1,["context","device"]),t,"h")}function s(e,t){return e.reference(t.get("includeCSS"),t,"h")}function o(e,t){return e.write("\n        ").write("\n        ").partial("td-applet-canvass:disclaimer",t,null).write("\n        ")}function u(e,t){return e.write("\n            ").write('<ul class="Fz-m FilterBar Pstart-10 TabsArrowUp deep-link-tabs">').write("\n                ").write('<li class="Grid-U">').write("\n                    ").write('<a href="#comments" class="show-all-comments rapidnofollow">'
).helper("intlMessage",t,{},{_key:"ALL_COMMENTS"}).write("</a>").write("\n                ").write("</li>").write("\n                ").write('<li class="Grid-U Selected">').write("\n                    ").write('<a href="#comments" class="show-deep-comment rapidnofollow">').helper("intlMessage",t,{},{_key:"COMMENT_ACTIVITY"}).write("</a>").write("\n                ").write("</li>").write("\n            ").write("</ul>").write("\n            ").write('<div class="deep-comment-group">').write("\n                ").write('<div class="deep-comment-failed error-box P-10 Dn">').helper("intlMessage",t,{},{_key:"COMMENT_ACTIVITY_FAILED"}).write("</div>").write("\n                ").write('<ul class="deep-comment-container"></ul>').write("\n            ").write("</div>").write("\n        ")}function a(e,t){return e.reference(t.get("isDeepLink"),t,"h")}function f(e,t){return e.write("\n            ").write('<div id="tooltip-editor" class="Dn"><div class="P-10">').write("\n                ").write("<strong>").helper("intlMessage",t,{},{_key:"PROMOTE"}).write("</strong>: ").helper("intlMessage",t,{},{_key:"EDITOR_TOOLTIP_PROMOTE"}).write("\n                ").write("<hr/>").write("\n                ").write("<strong>").helper("intlMessage",t,{},{_key:"DEMOTE"}).write("</strong>: ").helper("intlMessage",t,{},{_key:"EDITOR_TOOLTIP_DEMOTE"}).write("\n            ").write("</div></div>").write("\n        ")}function l(e,t){return e.reference(t.get("isEditor"),t,"h")}function c(e,t){return e.write(" C-line")}function h(e,t){return e.write("C-news")}function p(e,t){return e.write("C(#000)")}function d(e,t){return e.helper("intlMessage",t,{},{_key:"VIEW_COMMENTS"})}function v(e,t){return e.helper("intlMessage",t,{},{_key:"BE_THE_FIRST"})}function m(e,t){return e.exists(t.get("leadModal"),t,{"else":g,block:y},null)}function g(e,t){return e.helper("intlMessage",t,{},{_key:"VIEW_COMMENTS"})}function y(e,t){return e.reference(t.get("commentCount"),t,"h").write(" ").helper("eq",t,{"else":b,block:w},{key:t.get("commentCount"),value:1})}function b(e,t){return e.helper("intlMessage",t,{},{_key:"REACTIONS"})}function w(e,t){return e.helper("intlMessage",t,{},{_key:"REACTION"})}function E(e,t){return e.helper("intlMessage",t,{},{_key:"BE_THE_FIRST"})}function S(e,t){return e.write('<span class="comment-count-label">').helper("ne",t,{block:x},{key:t.get("commentCount"),value:0}).write("</span>")}function x(e,t){return e.write("(").reference(t.get("commentCount"),t,"h").write(")")}function T(e,t){return e.partial("td-applet-canvass:form-comment",t,null)}function N(e,t){return e.write("Dn")}function C(e,t){return e.reference(t.get("isDeepLink"),t,"h")}function k(e,t){return e.exists(t.get("enableMyComments"),t,{block:L},null)}function L(e,t){return e.write('<a class="view-my-comments Pos-a D-ib Py-6 End-0 T-0 rapidnofollow" href="#mycomments" ').helper("rapid_data_attr",t,{},{sec:"cmmts",elm:"cmmt_open",itc:"1"}).write(">").helper("intlMessage",t,{},{_key:"MY_COMMENTS"}).write("</a>")}function A(e,t){return e.reference(t.get("isLoggedIn"),t,"h")}return dust.register("td-applet-canvass-templates-main",e),e}()}(),dust.cache["td-applet-canvass:main.dust"]=dust.cache["td-applet-canvass:main"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/main"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust","td-applet-canvass-templates-disclaimer","td-applet-canvass-templates-form-reply","td-applet-canvass-templates-form-abuse","td-applet-canvass-templates-form-delete","td-applet-canvass-templates-form-comment"]});
YUI.add("td-applet-canvass-templates-main-activities",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,i){return e.write('<div id="my-comments-activity" class="td-applet-canvass ').reference(i.getPath(!1,["context","device"]),i,"h").write(' top-border Pos-r My-20 C-line" tabindex="-1">').write("\n    ").write('<a class="view-all-comments Pos-a D-ib Py-20 End-0 T-0 rapidnofollow" href="#mycomments">').helper("intlMessage",i,{},{_key:"ALL_COMMENTS"}).write("</a>").write("\n\n    ").exists(i.get("authorName"),i,{block:t},null).write("\n    ").exists(i.get("messageCount"),i,{"else":n,block:r},null).write("\n").write("</div>").write("\n")}function t(e,t){return e.write('<h1 id="activity-user" tabindex="-1">').reference(t.get("authorName"),t,"h").write("</h1>")}function n(e,t){return e.write("\n		").write('<p class="Py-20 M-0">').helper("intlMessage",t,{},{_key:"NO_USER_MESSAGE"}).write("\n	")}function r(e,t){return e.write(" ").write("\n	    ").write("<p>").helper("intlMessage",t,{},{_key:"COMMENT_ACTIVITY"}).write(": ").reference(t.get("messageCount"),t,"h").write("</p>").write("\n	    ").partial("td-applet-canvass:activities",t,null).write("\n	")}return dust.register("td-applet-canvass-templates-main-activities",e),e}()}(),dust.cache["td-applet-canvass:main-activities.dust"]=dust.cache["td-applet-canvass:main-activities"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-canvass/templates/main-activities"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust","td-applet-canvass-templates-activities"]});
