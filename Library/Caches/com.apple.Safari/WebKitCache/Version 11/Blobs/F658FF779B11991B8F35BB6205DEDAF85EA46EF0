!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).getVPAIDAd=t()}}(function(){return function t(e,n,i){function r(o,s){if(!n[o]){if(!e[o]){var _="function"==typeof require&&require;if(!s&&_)return _(o,!0);if(a)return a(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return r(n||t)},l,l.exports,t,e,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,n){e.exports={SWF_VERSION:15,TARGET_PLAYER:"23.0"}},{}],2:[function(t,e,n){e.exports={adNetworkId:"926608",partner:"springserve"}},{}],3:[function(t,e,n){e.exports={moatPartnerCode:"yellowhammerflashint188671193078"}},{}],4:[function(t,e,n){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,n){if(t&&o.isObject(t)&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}var a=t("punycode"),o=t("./util");n.parse=r,n.resolve=function(t,e){return r(t,!1,!0).resolve(e)},n.resolveObject=function(t,e){return t?r(t,!1,!0).resolveObject(e):e},n.format=function(t){return o.isString(t)&&(t=r(t)),t instanceof i?t.format():i.prototype.format.call(t)},n.Url=i;var s=/^([a-z0-9.+-]+:)/i,_=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],u=["{","}","|","\\","^","`"].concat(l),c=["'"].concat(u),h=["%","/","?",";","#"].concat(c),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,E=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,A={javascript:!0,"javascript:":!0},R={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=t("querystring");i.prototype.parse=function(t,e,n){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),r=-1!==i&&i<t.indexOf("#")?"?":"#",_=t.split(r),l=/\\/g;_[0]=_[0].replace(l,"/");var u=t=_.join(r);if(u=u.trim(),!n&&1===t.split("#").length){var I=d.exec(u);if(I)return this.path=u,this.href=u,this.pathname=I[1],I[2]?(this.search=I[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var g=s.exec(u);if(g){var O=(g=g[0]).toLowerCase();this.protocol=O,u=u.substr(g.length)}if(n||g||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var m="//"===u.substr(0,2);!m||g&&R[g]||(u=u.substr(2),this.slashes=!0)}if(!R[g]&&(m||g&&!S[g])){for(var T=-1,y=0;y<p.length;y++)-1!==(D=u.indexOf(p[y]))&&(-1===T||D<T)&&(T=D);var P,V;-1!==(V=-1===T?u.lastIndexOf("@"):u.lastIndexOf("@",T))&&(P=u.slice(0,V),u=u.slice(V+1),this.auth=decodeURIComponent(P)),T=-1;for(y=0;y<h.length;y++){var D=u.indexOf(h[y]);-1!==D&&(-1===T||D<T)&&(T=D)}-1===T&&(T=u.length),this.host=u.slice(0,T),u=u.slice(T),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var L=this.hostname.split(/\./),y=0,N=L.length;y<N;y++){var b=L[y];if(b&&!b.match(f)){for(var w="",M=0,x=b.length;M<x;M++)b.charCodeAt(M)>127?w+="x":w+=b[M];if(!w.match(f)){var j=L.slice(0,y),U=L.slice(y+1),F=b.match(E);F&&(j.push(F[1]),U.unshift(F[2])),U.length&&(u="/"+U.join(".")+u),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=a.toASCII(this.hostname));var k=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+k,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!A[O])for(var y=0,N=c.length;y<N;y++){var B=c[y];if(-1!==u.indexOf(B)){var W=encodeURIComponent(B);W===B&&(W=escape(B)),u=u.split(B).join(W)}}var X=u.indexOf("#");-1!==X&&(this.hash=u.substr(X),u=u.slice(0,X));var G=u.indexOf("?");if(-1!==G?(this.search=u.substr(G),this.query=u.substr(G+1),e&&(this.query=v.parse(this.query)),u=u.slice(0,G)):e&&(this.search="",this.query={}),u&&(this.pathname=u),S[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var k=this.pathname||"",K=this.search||"";this.path=k+K}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||S[e])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+r+n+s+i},i.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var _=Object.keys(t),d=0;d<_.length;d++){var l=_[d];"protocol"!==l&&(n[l]=t[l])}return S[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!S[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||R[t.protocol])n.pathname=t.pathname;else{for(O=(t.pathname||"").split("/");O.length&&!(t.host=O.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==O[0]&&O.unshift(""),O.length<2&&O.unshift(""),n.pathname=O.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",f=n.search||"";n.path=p+f}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var E=n.pathname&&"/"===n.pathname.charAt(0),A=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=A||E||n.host&&t.pathname,I=v,g=n.pathname&&n.pathname.split("/")||[],O=t.pathname&&t.pathname.split("/")||[],m=n.protocol&&!S[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===g[0]?g[0]=n.host:g.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===O[0]?O[0]=t.host:O.unshift(t.host)),t.host=null),v=v&&(""===O[0]||""===g[0])),A)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,g=O;else if(O.length)g||(g=[]),g.pop(),g=g.concat(O),n.search=t.search,n.query=t.query;else if(!o.isNullOrUndefined(t.search))return m&&(n.hostname=n.host=g.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift())),n.search=t.search,n.query=t.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!g.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=g.slice(-1)[0],y=(n.host||t.host||g.length>1)&&("."===T||".."===T)||""===T,P=0,V=g.length;V>=0;V--)"."===(T=g[V])?g.splice(V,1):".."===T?(g.splice(V,1),P++):P&&(g.splice(V,1),P--);if(!v&&!I)for(;P--;P)g.unshift("..");!v||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),y&&"/"!==g.join("/").substr(-1)&&g.push("");var D=""===g[0]||g[0]&&"/"===g[0].charAt(0);if(m){n.hostname=n.host=D?"":g.length?g.shift():"";var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return(v=v||n.host&&g.length)&&!D&&g.unshift(""),g.length?n.pathname=g.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=_.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":5,punycode:171,querystring:174}],5:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],6:[function(t,e,n){var i=t("./_getNative")(t("./_root"),"DataView");e.exports=i},{"./_getNative":76,"./_root":114}],7:[function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=t("./_hashClear"),a=t("./_hashDelete"),o=t("./_hashGet"),s=t("./_hashHas"),_=t("./_hashSet");i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=o,i.prototype.has=s,i.prototype.set=_,e.exports=i},{"./_hashClear":82,"./_hashDelete":83,"./_hashGet":84,"./_hashHas":85,"./_hashSet":86}],8:[function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=t("./_listCacheClear"),a=t("./_listCacheDelete"),o=t("./_listCacheGet"),s=t("./_listCacheHas"),_=t("./_listCacheSet");i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=o,i.prototype.has=s,i.prototype.set=_,e.exports=i},{"./_listCacheClear":94,"./_listCacheDelete":95,"./_listCacheGet":96,"./_listCacheHas":97,"./_listCacheSet":98}],9:[function(t,e,n){var i=t("./_getNative")(t("./_root"),"Map");e.exports=i},{"./_getNative":76,"./_root":114}],10:[function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=t("./_mapCacheClear"),a=t("./_mapCacheDelete"),o=t("./_mapCacheGet"),s=t("./_mapCacheHas"),_=t("./_mapCacheSet");i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=o,i.prototype.has=s,i.prototype.set=_,e.exports=i},{"./_mapCacheClear":99,"./_mapCacheDelete":100,"./_mapCacheGet":101,"./_mapCacheHas":102,"./_mapCacheSet":103}],11:[function(t,e,n){var i=t("./_getNative")(t("./_root"),"Promise");e.exports=i},{"./_getNative":76,"./_root":114}],12:[function(t,e,n){var i=t("./_getNative")(t("./_root"),"Set");e.exports=i},{"./_getNative":76,"./_root":114}],13:[function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}var r=t("./_MapCache"),a=t("./_setCacheAdd"),o=t("./_setCacheHas");i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},{"./_MapCache":10,"./_setCacheAdd":115,"./_setCacheHas":116}],14:[function(t,e,n){function i(t){var e=this.__data__=new r(t);this.size=e.size}var r=t("./_ListCache"),a=t("./_stackClear"),o=t("./_stackDelete"),s=t("./_stackGet"),_=t("./_stackHas"),d=t("./_stackSet");i.prototype.clear=a,i.prototype.delete=o,i.prototype.get=s,i.prototype.has=_,i.prototype.set=d,e.exports=i},{"./_ListCache":8,"./_stackClear":120,"./_stackDelete":121,"./_stackGet":122,"./_stackHas":123,"./_stackSet":124}],15:[function(t,e,n){var i=t("./_root").Symbol;e.exports=i},{"./_root":114}],16:[function(t,e,n){var i=t("./_root").Uint8Array;e.exports=i},{"./_root":114}],17:[function(t,e,n){var i=t("./_getNative")(t("./_root"),"WeakMap");e.exports=i},{"./_getNative":76,"./_root":114}],18:[function(t,e,n){e.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},{}],19:[function(t,e,n){e.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}},{}],20:[function(t,e,n){e.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a}},{}],21:[function(t,e,n){var i=t("./_baseTimes"),r=t("./isArguments"),a=t("./isArray"),o=t("./isBuffer"),s=t("./_isIndex"),_=t("./isTypedArray"),d=Object.prototype.hasOwnProperty;e.exports=function(t,e){var n=a(t),l=!n&&r(t),u=!n&&!l&&o(t),c=!n&&!l&&!u&&_(t),h=n||l||u||c,p=h?i(t.length,String):[],f=p.length;for(var E in t)!e&&!d.call(t,E)||h&&("length"==E||u&&("offset"==E||"parent"==E)||c&&("buffer"==E||"byteLength"==E||"byteOffset"==E)||s(E,f))||p.push(E);return p}},{"./_baseTimes":55,"./_isIndex":87,"./isArguments":143,"./isArray":144,"./isBuffer":147,"./isTypedArray":156}],22:[function(t,e,n){e.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},{}],23:[function(t,e,n){e.exports=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},{}],24:[function(t,e,n){e.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},{}],25:[function(t,e,n){var i=t("./_baseAssignValue"),r=t("./eq"),a=Object.prototype.hasOwnProperty;e.exports=function(t,e,n){var o=t[e];a.call(t,e)&&r(o,n)&&(void 0!==n||e in t)||i(t,e,n)}},{"./_baseAssignValue":27,"./eq":133}],26:[function(t,e,n){var i=t("./eq");e.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},{"./eq":133}],27:[function(t,e,n){var i=t("./_defineProperty");e.exports=function(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},{"./_defineProperty":68}],28:[function(t,e,n){var i=t("./_baseForOwn"),r=t("./_createBaseEach")(i);e.exports=r},{"./_baseForOwn":32,"./_createBaseEach":64}],29:[function(t,e,n){var i=t("./_baseEach");e.exports=function(t,e){var n=[];return i(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}},{"./_baseEach":28}],30:[function(t,e,n){e.exports=function(t,e,n,i){for(var r=t.length,a=n+(i?1:-1);i?a--:++a<r;)if(e(t[a],a,t))return a;return-1}},{}],31:[function(t,e,n){var i=t("./_createBaseFor")();e.exports=i},{"./_createBaseFor":65}],32:[function(t,e,n){var i=t("./_baseFor"),r=t("./keys");e.exports=function(t,e){return t&&i(t,e,r)}},{"./_baseFor":31,"./keys":158}],33:[function(t,e,n){var i=t("./_castPath"),r=t("./_toKey");e.exports=function(t,e){for(var n=0,a=(e=i(e,t)).length;null!=t&&n<a;)t=t[r(e[n++])];return n&&n==a?t:void 0}},{"./_castPath":60,"./_toKey":127}],34:[function(t,e,n){var i=t("./_arrayPush"),r=t("./isArray");e.exports=function(t,e,n){var a=e(t);return r(t)?a:i(a,n(t))}},{"./_arrayPush":23,"./isArray":144}],35:[function(t,e,n){var i=t("./_Symbol"),r=t("./_getRawTag"),a=t("./_objectToString"),o="[object Null]",s="[object Undefined]",_=i?i.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?s:o:_&&_ in Object(t)?r(t):a(t)}},{"./_Symbol":15,"./_getRawTag":77,"./_objectToString":111}],36:[function(t,e,n){e.exports=function(t,e){return null!=t&&e in Object(t)}},{}],37:[function(t,e,n){var i=t("./_baseFindIndex"),r=t("./_baseIsNaN"),a=t("./_strictIndexOf");e.exports=function(t,e,n){return e===e?a(t,e,n):i(t,r,n)}},{"./_baseFindIndex":30,"./_baseIsNaN":42,"./_strictIndexOf":125}],38:[function(t,e,n){var i=t("./_baseGetTag"),r=t("./isObjectLike"),a="[object Arguments]";e.exports=function(t){return r(t)&&i(t)==a}},{"./_baseGetTag":35,"./isObjectLike":153}],39:[function(t,e,n){function i(t,e,n,o,s){return t===e||(null==t||null==e||!a(t)&&!a(e)?t!==t&&e!==e:r(t,e,n,o,i,s))}var r=t("./_baseIsEqualDeep"),a=t("./isObjectLike");e.exports=i},{"./_baseIsEqualDeep":40,"./isObjectLike":153}],40:[function(t,e,n){var i=t("./_Stack"),r=t("./_equalArrays"),a=t("./_equalByTag"),o=t("./_equalObjects"),s=t("./_getTag"),_=t("./isArray"),d=t("./isBuffer"),l=t("./isTypedArray"),u=1,c="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,E,A,R){var S=_(t),v=_(e),I=S?h:s(t),g=v?h:s(e),O=(I=I==c?p:I)==p,m=(g=g==c?p:g)==p,T=I==g;if(T&&d(t)){if(!d(e))return!1;S=!0,O=!1}if(T&&!O)return R||(R=new i),S||l(t)?r(t,e,n,E,A,R):a(t,e,I,n,E,A,R);if(!(n&u)){var y=O&&f.call(t,"__wrapped__"),P=m&&f.call(e,"__wrapped__");if(y||P){var V=y?t.value():t,D=P?e.value():e;return R||(R=new i),A(V,D,n,E,R)}}return!!T&&(R||(R=new i),o(t,e,n,E,A,R))}},{"./_Stack":14,"./_equalArrays":69,"./_equalByTag":70,"./_equalObjects":71,"./_getTag":79,"./isArray":144,"./isBuffer":147,"./isTypedArray":156}],41:[function(t,e,n){var i=t("./_Stack"),r=t("./_baseIsEqual"),a=1,o=2;e.exports=function(t,e,n,s){var _=n.length,d=_,l=!s;if(null==t)return!d;for(t=Object(t);_--;){var u=n[_];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++_<d;){var c=(u=n[_])[0],h=t[c],p=u[1];if(l&&u[2]){if(void 0===h&&!(c in t))return!1}else{var f=new i;if(s)var E=s(h,p,c,t,e,f);if(!(void 0===E?r(p,h,a|o,s,f):E))return!1}}return!0}},{"./_Stack":14,"./_baseIsEqual":39}],42:[function(t,e,n){e.exports=function(t){return t!==t}},{}],43:[function(t,e,n){var i=t("./isFunction"),r=t("./_isMasked"),a=t("./isObject"),o=t("./_toSource"),s=/[\\^$.*+?()[\]{}|]/g,_=/^\[object .+?Constructor\]$/,d=Function.prototype,l=Object.prototype,u=d.toString,c=l.hasOwnProperty,h=RegExp("^"+u.call(c).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!a(t)||r(t))&&(i(t)?h:_).test(o(t))}},{"./_isMasked":91,"./_toSource":128,"./isFunction":148,"./isObject":152}],44:[function(t,e,n){var i=t("./_baseGetTag"),r=t("./isLength"),a=t("./isObjectLike"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(t){return a(t)&&r(t.length)&&!!o[i(t)]}},{"./_baseGetTag":35,"./isLength":150,"./isObjectLike":153}],45:[function(t,e,n){var i=t("./_baseMatches"),r=t("./_baseMatchesProperty"),a=t("./identity"),o=t("./isArray"),s=t("./property");e.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?o(t)?r(t[0],t[1]):i(t):s(t)}},{"./_baseMatches":49,"./_baseMatchesProperty":50,"./identity":141,"./isArray":144,"./property":164}],46:[function(t,e,n){var i=t("./_isPrototype"),r=t("./_nativeKeys"),a=Object.prototype.hasOwnProperty;e.exports=function(t){if(!i(t))return r(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}},{"./_isPrototype":92,"./_nativeKeys":108}],47:[function(t,e,n){var i=t("./isObject"),r=t("./_isPrototype"),a=t("./_nativeKeysIn"),o=Object.prototype.hasOwnProperty;e.exports=function(t){if(!i(t))return a(t);var e=r(t),n=[];for(var s in t)("constructor"!=s||!e&&o.call(t,s))&&n.push(s);return n}},{"./_isPrototype":92,"./_nativeKeysIn":109,"./isObject":152}],48:[function(t,e,n){var i=t("./_baseEach"),r=t("./isArrayLike");e.exports=function(t,e){var n=-1,a=r(t)?Array(t.length):[];return i(t,function(t,i,r){a[++n]=e(t,i,r)}),a}},{"./_baseEach":28,"./isArrayLike":145}],49:[function(t,e,n){var i=t("./_baseIsMatch"),r=t("./_getMatchData"),a=t("./_matchesStrictComparable");e.exports=function(t){var e=r(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}},{"./_baseIsMatch":41,"./_getMatchData":75,"./_matchesStrictComparable":105}],50:[function(t,e,n){var i=t("./_baseIsEqual"),r=t("./get"),a=t("./hasIn"),o=t("./_isKey"),s=t("./_isStrictComparable"),_=t("./_matchesStrictComparable"),d=t("./_toKey"),l=1,u=2;e.exports=function(t,e){return o(t)&&s(e)?_(d(t),e):function(n){var o=r(n,t);return void 0===o&&o===e?a(n,t):i(e,o,l|u)}}},{"./_baseIsEqual":39,"./_isKey":89,"./_isStrictComparable":93,"./_matchesStrictComparable":105,"./_toKey":127,"./get":139,"./hasIn":140}],51:[function(t,e,n){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},{}],52:[function(t,e,n){var i=t("./_baseGet");e.exports=function(t){return function(e){return i(e,t)}}},{"./_baseGet":33}],53:[function(t,e,n){var i=t("./identity"),r=t("./_overRest"),a=t("./_setToString");e.exports=function(t,e){return a(r(t,e,i),t+"")}},{"./_overRest":113,"./_setToString":118,"./identity":141}],54:[function(t,e,n){var i=t("./constant"),r=t("./_defineProperty"),a=t("./identity"),o=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:a;e.exports=o},{"./_defineProperty":68,"./constant":131,"./identity":141}],55:[function(t,e,n){e.exports=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},{}],56:[function(t,e,n){function i(t){if("string"==typeof t)return t;if(o(t))return a(t,i)+"";if(s(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-_?"-0":e}var r=t("./_Symbol"),a=t("./_arrayMap"),o=t("./isArray"),s=t("./isSymbol"),_=1/0,d=r?r.prototype:void 0,l=d?d.toString:void 0;e.exports=i},{"./_Symbol":15,"./_arrayMap":22,"./isArray":144,"./isSymbol":155}],57:[function(t,e,n){e.exports=function(t){return function(e){return t(e)}}},{}],58:[function(t,e,n){e.exports=function(t,e){return t.has(e)}},{}],59:[function(t,e,n){var i=t("./identity");e.exports=function(t){return"function"==typeof t?t:i}},{"./identity":141}],60:[function(t,e,n){var i=t("./isArray"),r=t("./_isKey"),a=t("./_stringToPath"),o=t("./toString");e.exports=function(t,e){return i(t)?t:r(t,e)?[t]:a(o(t))}},{"./_isKey":89,"./_stringToPath":126,"./isArray":144,"./toString":170}],61:[function(t,e,n){var i=t("./_assignValue"),r=t("./_baseAssignValue");e.exports=function(t,e,n,a){var o=!n;n||(n={});for(var s=-1,_=e.length;++s<_;){var d=e[s],l=a?a(n[d],t[d],d,n,t):void 0;void 0===l&&(l=t[d]),o?r(n,d,l):i(n,d,l)}return n}},{"./_assignValue":25,"./_baseAssignValue":27}],62:[function(t,e,n){var i=t("./_root")["__core-js_shared__"];e.exports=i},{"./_root":114}],63:[function(t,e,n){var i=t("./_baseRest"),r=t("./_isIterateeCall");e.exports=function(t){return i(function(e,n){var i=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(a--,o):void 0,s&&r(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),e=Object(e);++i<a;){var _=n[i];_&&t(e,_,i,o)}return e})}},{"./_baseRest":53,"./_isIterateeCall":88}],64:[function(t,e,n){var i=t("./isArrayLike");e.exports=function(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var a=n.length,o=e?a:-1,s=Object(n);(e?o--:++o<a)&&!1!==r(s[o],o,s););return n}}},{"./isArrayLike":145}],65:[function(t,e,n){e.exports=function(t){return function(e,n,i){for(var r=-1,a=Object(e),o=i(e),s=o.length;s--;){var _=o[t?s:++r];if(!1===n(a[_],_,a))break}return e}}},{}],66:[function(t,e,n){var i=t("./_baseIteratee"),r=t("./isArrayLike"),a=t("./keys");e.exports=function(t){return function(e,n,o){var s=Object(e);if(!r(e)){var _=i(n,3);e=a(e),n=function(t){return _(s[t],t,s)}}var d=t(e,n,o);return d>-1?s[_?e[d]:d]:void 0}}},{"./_baseIteratee":45,"./isArrayLike":145,"./keys":158}],67:[function(t,e,n){var i=t("./eq"),r=Object.prototype,a=r.hasOwnProperty;e.exports=function(t,e,n,o){return void 0===t||i(t,r[n])&&!a.call(o,n)?e:t}},{"./eq":133}],68:[function(t,e,n){var i=t("./_getNative"),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.exports=r},{"./_getNative":76}],69:[function(t,e,n){var i=t("./_SetCache"),r=t("./_arraySome"),a=t("./_cacheHas"),o=1,s=2;e.exports=function(t,e,n,_,d,l){var u=n&o,c=t.length,h=e.length;if(c!=h&&!(u&&h>c))return!1;var p=l.get(t);if(p&&l.get(e))return p==e;var f=-1,E=!0,A=n&s?new i:void 0;for(l.set(t,e),l.set(e,t);++f<c;){var R=t[f],S=e[f];if(_)var v=u?_(S,R,f,e,t,l):_(R,S,f,t,e,l);if(void 0!==v){if(v)continue;E=!1;break}if(A){if(!r(e,function(t,e){if(!a(A,e)&&(R===t||d(R,t,n,_,l)))return A.push(e)})){E=!1;break}}else if(R!==S&&!d(R,S,n,_,l)){E=!1;break}}return l.delete(t),l.delete(e),E}},{"./_SetCache":13,"./_arraySome":24,"./_cacheHas":58}],70:[function(t,e,n){var i=t("./_Symbol"),r=t("./_Uint8Array"),a=t("./eq"),o=t("./_equalArrays"),s=t("./_mapToArray"),_=t("./_setToArray"),d=1,l=2,u="[object Boolean]",c="[object Date]",h="[object Error]",p="[object Map]",f="[object Number]",E="[object RegExp]",A="[object Set]",R="[object String]",S="[object Symbol]",v="[object ArrayBuffer]",I="[object DataView]",g=i?i.prototype:void 0,O=g?g.valueOf:void 0;e.exports=function(t,e,n,i,g,m,T){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v:return!(t.byteLength!=e.byteLength||!m(new r(t),new r(e)));case u:case c:case f:return a(+t,+e);case h:return t.name==e.name&&t.message==e.message;case E:case R:return t==e+"";case p:var y=s;case A:var P=i&d;if(y||(y=_),t.size!=e.size&&!P)return!1;var V=T.get(t);if(V)return V==e;i|=l,T.set(t,e);var D=o(y(t),y(e),i,g,m,T);return T.delete(t),D;case S:if(O)return O.call(t)==O.call(e)}return!1}},{"./_Symbol":15,"./_Uint8Array":16,"./_equalArrays":69,"./_mapToArray":104,"./_setToArray":117,"./eq":133}],71:[function(t,e,n){var i=t("./_getAllKeys"),r=1,a=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,o,s,_){var d=n&r,l=i(t),u=l.length;if(u!=i(e).length&&!d)return!1;for(var c=u;c--;){var h=l[c];if(!(d?h in e:a.call(e,h)))return!1}var p=_.get(t);if(p&&_.get(e))return p==e;var f=!0;_.set(t,e),_.set(e,t);for(var E=d;++c<u;){var A=t[h=l[c]],R=e[h];if(o)var S=d?o(R,A,h,e,t,_):o(A,R,h,t,e,_);if(!(void 0===S?A===R||s(A,R,n,o,_):S)){f=!1;break}E||(E="constructor"==h)}if(f&&!E){var v=t.constructor,I=e.constructor;v!=I&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof I&&I instanceof I)&&(f=!1)}return _.delete(t),_.delete(e),f}},{"./_getAllKeys":73}],72:[function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],73:[function(t,e,n){var i=t("./_baseGetAllKeys"),r=t("./_getSymbols"),a=t("./keys");e.exports=function(t){return i(t,a,r)}},{"./_baseGetAllKeys":34,"./_getSymbols":78,"./keys":158}],74:[function(t,e,n){var i=t("./_isKeyable");e.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},{"./_isKeyable":90}],75:[function(t,e,n){var i=t("./_isStrictComparable"),r=t("./keys");e.exports=function(t){for(var e=r(t),n=e.length;n--;){var a=e[n],o=t[a];e[n]=[a,o,i(o)]}return e}},{"./_isStrictComparable":93,"./keys":158}],76:[function(t,e,n){var i=t("./_baseIsNative"),r=t("./_getValue");e.exports=function(t,e){var n=r(t,e);return i(n)?n:void 0}},{"./_baseIsNative":43,"./_getValue":80}],77:[function(t,e,n){var i=t("./_Symbol"),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=i?i.toStringTag:void 0;e.exports=function(t){var e=a.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=o.call(t);return i&&(e?t[s]=n:delete t[s]),r}},{"./_Symbol":15}],78:[function(t,e,n){var i=t("./_arrayFilter"),r=t("./stubArray"),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),i(o(t),function(e){return a.call(t,e)}))}:r;e.exports=s},{"./_arrayFilter":20,"./stubArray":165}],79:[function(t,e,n){var i=t("./_DataView"),r=t("./_Map"),a=t("./_Promise"),o=t("./_Set"),s=t("./_WeakMap"),_=t("./_baseGetTag"),d=t("./_toSource"),l=d(i),u=d(r),c=d(a),h=d(o),p=d(s),f=_;(i&&"[object DataView]"!=f(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=f(new r)||a&&"[object Promise]"!=f(a.resolve())||o&&"[object Set]"!=f(new o)||s&&"[object WeakMap]"!=f(new s))&&(f=function(t){var e=_(t),n="[object Object]"==e?t.constructor:void 0,i=n?d(n):"";if(i)switch(i){case l:return"[object DataView]";case u:return"[object Map]";case c:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return e}),e.exports=f},{"./_DataView":6,"./_Map":9,"./_Promise":11,"./_Set":12,"./_WeakMap":17,"./_baseGetTag":35,"./_toSource":128}],80:[function(t,e,n){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],81:[function(t,e,n){var i=t("./_castPath"),r=t("./isArguments"),a=t("./isArray"),o=t("./_isIndex"),s=t("./isLength"),_=t("./_toKey");e.exports=function(t,e,n){for(var d=-1,l=(e=i(e,t)).length,u=!1;++d<l;){var c=_(e[d]);if(!(u=null!=t&&n(t,c)))break;t=t[c]}return u||++d!=l?u:!!(l=null==t?0:t.length)&&s(l)&&o(c,l)&&(a(t)||r(t))}},{"./_castPath":60,"./_isIndex":87,"./_toKey":127,"./isArguments":143,"./isArray":144,"./isLength":150}],82:[function(t,e,n){var i=t("./_nativeCreate");e.exports=function(){this.__data__=i?i(null):{},this.size=0}},{"./_nativeCreate":107}],83:[function(t,e,n){e.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},{}],84:[function(t,e,n){var i=t("./_nativeCreate"),r="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;if(i){var n=e[t];return n===r?void 0:n}return a.call(e,t)?e[t]:void 0}},{"./_nativeCreate":107}],85:[function(t,e,n){var i=t("./_nativeCreate"),r=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:r.call(e,t)}},{"./_nativeCreate":107}],86:[function(t,e,n){var i=t("./_nativeCreate"),r="__lodash_hash_undefined__";e.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?r:e,this}},{"./_nativeCreate":107}],87:[function(t,e,n){var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}},{}],88:[function(t,e,n){var i=t("./eq"),r=t("./isArrayLike"),a=t("./_isIndex"),o=t("./isObject");e.exports=function(t,e,n){if(!o(n))return!1;var s=typeof e;return!!("number"==s?r(n)&&a(e,n.length):"string"==s&&e in n)&&i(n[e],t)}},{"./_isIndex":87,"./eq":133,"./isArrayLike":145,"./isObject":152}],89:[function(t,e,n){var i=t("./isArray"),r=t("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||o.test(t)||!a.test(t)||null!=e&&t in Object(e)}},{"./isArray":144,"./isSymbol":155}],90:[function(t,e,n){e.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],91:[function(t,e,n){var i=t("./_coreJsData"),r=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();e.exports=function(t){return!!r&&r in t}},{"./_coreJsData":62}],92:[function(t,e,n){var i=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},{}],93:[function(t,e,n){var i=t("./isObject");e.exports=function(t){return t===t&&!i(t)}},{"./isObject":152}],94:[function(t,e,n){e.exports=function(){this.__data__=[],this.size=0}},{}],95:[function(t,e,n){var i=t("./_assocIndexOf"),r=Array.prototype.splice;e.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():r.call(e,n,1),--this.size,0))}},{"./_assocIndexOf":26}],96:[function(t,e,n){var i=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},{"./_assocIndexOf":26}],97:[function(t,e,n){var i=t("./_assocIndexOf");e.exports=function(t){return i(this.__data__,t)>-1}},{"./_assocIndexOf":26}],98:[function(t,e,n){var i=t("./_assocIndexOf");e.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},{"./_assocIndexOf":26}],99:[function(t,e,n){var i=t("./_Hash"),r=t("./_ListCache"),a=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||r),string:new i}}},{"./_Hash":7,"./_ListCache":8,"./_Map":9}],100:[function(t,e,n){var i=t("./_getMapData");e.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},{"./_getMapData":74}],101:[function(t,e,n){var i=t("./_getMapData");e.exports=function(t){return i(this,t).get(t)}},{"./_getMapData":74}],102:[function(t,e,n){var i=t("./_getMapData");e.exports=function(t){return i(this,t).has(t)}},{"./_getMapData":74}],103:[function(t,e,n){var i=t("./_getMapData");e.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},{"./_getMapData":74}],104:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}},{}],105:[function(t,e,n){e.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},{}],106:[function(t,e,n){var i=t("./memoize"),r=500;e.exports=function(t){var e=i(t,function(t){return n.size===r&&n.clear(),t}),n=e.cache;return e}},{"./memoize":162}],107:[function(t,e,n){var i=t("./_getNative")(Object,"create");e.exports=i},{"./_getNative":76}],108:[function(t,e,n){var i=t("./_overArg")(Object.keys,Object);e.exports=i},{"./_overArg":112}],109:[function(t,e,n){e.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},{}],110:[function(t,e,n){var i=t("./_freeGlobal"),r="object"==typeof n&&n&&!n.nodeType&&n,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===r&&i.process,s=function(){try{return o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},{"./_freeGlobal":72}],111:[function(t,e,n){var i=Object.prototype.toString;e.exports=function(t){return i.call(t)}},{}],112:[function(t,e,n){e.exports=function(t,e){return function(n){return t(e(n))}}},{}],113:[function(t,e,n){var i=t("./_apply"),r=Math.max;e.exports=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var a=arguments,o=-1,s=r(a.length-e,0),_=Array(s);++o<s;)_[o]=a[e+o];o=-1;for(var d=Array(e+1);++o<e;)d[o]=a[o];return d[e]=n(_),i(t,this,d)}}},{"./_apply":18}],114:[function(t,e,n){var i=t("./_freeGlobal"),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();e.exports=a},{"./_freeGlobal":72}],115:[function(t,e,n){var i="__lodash_hash_undefined__";e.exports=function(t){return this.__data__.set(t,i),this}},{}],116:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],117:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},{}],118:[function(t,e,n){var i=t("./_baseSetToString"),r=t("./_shortOut")(i);e.exports=r},{"./_baseSetToString":54,"./_shortOut":119}],119:[function(t,e,n){var i=800,r=16,a=Date.now;e.exports=function(t){var e=0,n=0;return function(){var o=a(),s=r-(o-n);if(n=o,s>0){if(++e>=i)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},{}],120:[function(t,e,n){var i=t("./_ListCache");e.exports=function(){this.__data__=new i,this.size=0}},{"./_ListCache":8}],121:[function(t,e,n){e.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},{}],122:[function(t,e,n){e.exports=function(t){return this.__data__.get(t)}},{}],123:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],124:[function(t,e,n){var i=t("./_ListCache"),r=t("./_Map"),a=t("./_MapCache"),o=200;e.exports=function(t,e){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<o-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(t,e),this.size=n.size,this}},{"./_ListCache":8,"./_Map":9,"./_MapCache":10}],125:[function(t,e,n){e.exports=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}},{}],126:[function(t,e,n){var i=/^\./,r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=t("./_memoizeCapped")(function(t){var e=[];return i.test(t)&&e.push(""),t.replace(r,function(t,n,i,r){e.push(i?r.replace(a,"$1"):n||t)}),e});e.exports=o},{"./_memoizeCapped":106}],127:[function(t,e,n){var i=t("./isSymbol"),r=1/0;e.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}},{"./isSymbol":155}],128:[function(t,e,n){var i=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],129:[function(t,e,n){var i=t("./_copyObject"),r=t("./_createAssigner"),a=t("./keysIn"),o=r(function(t,e){i(e,a(e),t)});e.exports=o},{"./_copyObject":61,"./_createAssigner":63,"./keysIn":159}],130:[function(t,e,n){var i=t("./_copyObject"),r=t("./_createAssigner"),a=t("./keysIn"),o=r(function(t,e,n,r){i(e,a(e),t,r)});e.exports=o},{"./_copyObject":61,"./_createAssigner":63,"./keysIn":159}],131:[function(t,e,n){e.exports=function(t){return function(){return t}}},{}],132:[function(t,e,n){var i=t("./_apply"),r=t("./assignInWith"),a=t("./_baseRest"),o=t("./_customDefaultsAssignIn"),s=a(function(t){return t.push(void 0,o),i(r,void 0,t)});e.exports=s},{"./_apply":18,"./_baseRest":53,"./_customDefaultsAssignIn":67,"./assignInWith":130}],133:[function(t,e,n){e.exports=function(t,e){return t===e||t!==t&&e!==e}},{}],134:[function(t,e,n){e.exports=t("./assignIn")},{"./assignIn":129}],135:[function(t,e,n){var i=t("./_arrayFilter"),r=t("./_baseFilter"),a=t("./_baseIteratee"),o=t("./isArray");e.exports=function(t,e){return(o(t)?i:r)(t,a(e,3))}},{"./_arrayFilter":20,"./_baseFilter":29,"./_baseIteratee":45,"./isArray":144}],136:[function(t,e,n){var i=t("./_createFind")(t("./findIndex"));e.exports=i},{"./_createFind":66,"./findIndex":137}],137:[function(t,e,n){var i=t("./_baseFindIndex"),r=t("./_baseIteratee"),a=t("./toInteger"),o=Math.max;e.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var _=null==n?0:a(n);return _<0&&(_=o(s+_,0)),i(t,r(e,3),_)}},{"./_baseFindIndex":30,"./_baseIteratee":45,"./toInteger":168}],138:[function(t,e,n){var i=t("./_arrayEach"),r=t("./_baseEach"),a=t("./_castFunction"),o=t("./isArray");e.exports=function(t,e){return(o(t)?i:r)(t,a(e))}},{"./_arrayEach":19,"./_baseEach":28,"./_castFunction":59,"./isArray":144}],139:[function(t,e,n){var i=t("./_baseGet");e.exports=function(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}},{"./_baseGet":33}],140:[function(t,e,n){var i=t("./_baseHasIn"),r=t("./_hasPath");e.exports=function(t,e){return null!=t&&r(t,e,i)}},{"./_baseHasIn":36,"./_hasPath":81}],141:[function(t,e,n){e.exports=function(t){return t}},{}],142:[function(t,e,n){var i=t("./_baseIndexOf"),r=t("./toInteger"),a=Math.max;e.exports=function(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var s=null==n?0:r(n);return s<0&&(s=a(o+s,0)),i(t,e,s)}},{"./_baseIndexOf":37,"./toInteger":168}],143:[function(t,e,n){var i=t("./_baseIsArguments"),r=t("./isObjectLike"),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,_=i(function(){return arguments}())?i:function(t){return r(t)&&o.call(t,"callee")&&!s.call(t,"callee")};e.exports=_},{"./_baseIsArguments":38,"./isObjectLike":153}],144:[function(t,e,n){var i=Array.isArray;e.exports=i},{}],145:[function(t,e,n){var i=t("./isFunction"),r=t("./isLength");e.exports=function(t){return null!=t&&r(t.length)&&!i(t)}},{"./isFunction":148,"./isLength":150}],146:[function(t,e,n){var i=t("./_baseGetTag"),r=t("./isObjectLike"),a="[object Boolean]";e.exports=function(t){return!0===t||!1===t||r(t)&&i(t)==a}},{"./_baseGetTag":35,"./isObjectLike":153}],147:[function(t,e,n){var i=t("./_root"),r=t("./stubFalse"),a="object"==typeof n&&n&&!n.nodeType&&n,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?i.Buffer:void 0,_=(s?s.isBuffer:void 0)||r;e.exports=_},{"./_root":114,"./stubFalse":166}],148:[function(t,e,n){var i=t("./_baseGetTag"),r=t("./isObject"),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",_="[object Proxy]";e.exports=function(t){if(!r(t))return!1;var e=i(t);return e==o||e==s||e==a||e==_}},{"./_baseGetTag":35,"./isObject":152}],149:[function(t,e,n){var i=t("./toInteger");e.exports=function(t){return"number"==typeof t&&t==i(t)}},{"./toInteger":168}],150:[function(t,e,n){var i=9007199254740991;e.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}},{}],151:[function(t,e,n){e.exports=function(t){return null===t}},{}],152:[function(t,e,n){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],153:[function(t,e,n){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],154:[function(t,e,n){var i=t("./_baseGetTag"),r=t("./isArray"),a=t("./isObjectLike"),o="[object String]";e.exports=function(t){return"string"==typeof t||!r(t)&&a(t)&&i(t)==o}},{"./_baseGetTag":35,"./isArray":144,"./isObjectLike":153}],155:[function(t,e,n){var i=t("./_baseGetTag"),r=t("./isObjectLike"),a="[object Symbol]";e.exports=function(t){return"symbol"==typeof t||r(t)&&i(t)==a}},{"./_baseGetTag":35,"./isObjectLike":153}],156:[function(t,e,n){var i=t("./_baseIsTypedArray"),r=t("./_baseUnary"),a=t("./_nodeUtil"),o=a&&a.isTypedArray,s=o?r(o):i;e.exports=s},{"./_baseIsTypedArray":44,"./_baseUnary":57,"./_nodeUtil":110}],157:[function(t,e,n){var i=Array.prototype.join;e.exports=function(t,e){return null==t?"":i.call(t,e)}},{}],158:[function(t,e,n){var i=t("./_arrayLikeKeys"),r=t("./_baseKeys"),a=t("./isArrayLike");e.exports=function(t){return a(t)?i(t):r(t)}},{"./_arrayLikeKeys":21,"./_baseKeys":46,"./isArrayLike":145}],159:[function(t,e,n){var i=t("./_arrayLikeKeys"),r=t("./_baseKeysIn"),a=t("./isArrayLike");e.exports=function(t){return a(t)?i(t,!0):r(t)}},{"./_arrayLikeKeys":21,"./_baseKeysIn":47,"./isArrayLike":145}],160:[function(t,e,n){var i=t("./_arrayMap"),r=t("./_baseIteratee"),a=t("./_baseMap"),o=t("./isArray");e.exports=function(t,e){return(o(t)?i:a)(t,r(e,3))}},{"./_arrayMap":22,"./_baseIteratee":45,"./_baseMap":48,"./isArray":144}],161:[function(t,e,n){var i=t("./_baseAssignValue"),r=t("./_baseForOwn"),a=t("./_baseIteratee");e.exports=function(t,e){var n={};return e=a(e,3),r(t,function(t,r,a){i(n,r,e(t,r,a))}),n}},{"./_baseAssignValue":27,"./_baseForOwn":32,"./_baseIteratee":45}],162:[function(t,e,n){function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(a);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=t.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(i.Cache||r),n}var r=t("./_MapCache"),a="Expected a function";i.Cache=r,e.exports=i},{"./_MapCache":10}],163:[function(t,e,n){var i=t("./_root");e.exports=function(){return i.Date.now()}},{"./_root":114}],164:[function(t,e,n){var i=t("./_baseProperty"),r=t("./_basePropertyDeep"),a=t("./_isKey"),o=t("./_toKey");e.exports=function(t){return a(t)?i(o(t)):r(t)}},{"./_baseProperty":51,"./_basePropertyDeep":52,"./_isKey":89,"./_toKey":127}],165:[function(t,e,n){e.exports=function(){return[]}},{}],166:[function(t,e,n){e.exports=function(){return!1}},{}],167:[function(t,e,n){var i=t("./toNumber"),r=1/0,a=1.7976931348623157e308;e.exports=function(t){return t?(t=i(t))===r||t===-r?(t<0?-1:1)*a:t===t?t:0:0===t?t:0}},{"./toNumber":169}],168:[function(t,e,n){var i=t("./toFinite");e.exports=function(t){var e=i(t),n=e%1;return e===e?n?e-n:e:0}},{"./toFinite":167}],169:[function(t,e,n){var i=t("./isObject"),r=t("./isSymbol"),a=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(r(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=_.test(t);return n||d.test(t)?l(t.slice(2),n?2:8):s.test(t)?a:+t}},{"./isObject":152,"./isSymbol":155}],170:[function(t,e,n){var i=t("./_baseToString");e.exports=function(t){return null==t?"":i(t)}},{"./_baseToString":56}],171:[function(t,e,n){(function(t){!function(i){function r(t){throw RangeError(L[t])}function a(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function o(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+a((t=t.replace(C,".")).split("."),e).join(".")}function s(t){for(var e,n,i=[],r=0,a=t.length;r<a;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<a?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function _(t){return a(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function d(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:v}function l(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function u(t,e,n){var i=0;for(t=n?b(t/m):t>>1,t+=b(t/e);t>N*g>>1;i+=v)t=b(t/N);return b(i+(N+1)*t/(t+O))}function c(t){var e,n,i,a,o,s,l,c,h,p,f=[],E=t.length,A=0,R=y,O=T;for((n=t.lastIndexOf(P))<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&r("not-basic"),f.push(t.charCodeAt(i));for(a=n>0?n+1:0;a<E;){for(o=A,s=1,l=v;a>=E&&r("invalid-input"),((c=d(t.charCodeAt(a++)))>=v||c>b((S-A)/s))&&r("overflow"),A+=c*s,h=l<=O?I:l>=O+g?g:l-O,!(c<h);l+=v)s>b(S/(p=v-h))&&r("overflow"),s*=p;O=u(A-o,e=f.length+1,0==o),b(A/e)>S-R&&r("overflow"),R+=b(A/e),A%=e,f.splice(A++,0,R)}return _(f)}function h(t){var e,n,i,a,o,_,d,c,h,p,f,E,A,R,O,m=[];for(E=(t=s(t)).length,e=y,n=0,o=T,_=0;_<E;++_)(f=t[_])<128&&m.push(w(f));for(i=a=m.length,a&&m.push(P);i<E;){for(d=S,_=0;_<E;++_)(f=t[_])>=e&&f<d&&(d=f);for(d-e>b((S-n)/(A=i+1))&&r("overflow"),n+=(d-e)*A,e=d,_=0;_<E;++_)if((f=t[_])<e&&++n>S&&r("overflow"),f==e){for(c=n,h=v;p=h<=o?I:h>=o+g?g:h-o,!(c<p);h+=v)O=c-p,R=v-p,m.push(w(l(p+O%R,0))),c=b(O/R);m.push(w(l(c,0))),o=u(n,A,i==a),n=0,++i}++n,++e}return m.join("")}var p="object"==typeof n&&n&&!n.nodeType&&n,f="object"==typeof e&&e&&!e.nodeType&&e,E="object"==typeof t&&t;E.global!==E&&E.window!==E&&E.self!==E||(i=E);var A,R,S=2147483647,v=36,I=1,g=26,O=38,m=700,T=72,y=128,P="-",V=/^xn--/,D=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=v-I,b=Math.floor,w=String.fromCharCode;if(A={version:"1.3.2",ucs2:{decode:s,encode:_},decode:c,encode:h,toASCII:function(t){return o(t,function(t){return D.test(t)?"xn--"+h(t):t})},toUnicode:function(t){return o(t,function(t){return V.test(t)?c(t.slice(4).toLowerCase()):t})}},p&&f)if(e.exports==p)f.exports=A;else for(R in A)A.hasOwnProperty(R)&&(p[R]=A[R]);else i.punycode=A}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],172:[function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,a){e=e||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var _=1e3;a&&"number"==typeof a.maxKeys&&(_=a.maxKeys);var d=t.length;_>0&&d>_&&(d=_);for(var l=0;l<d;++l){var u,c,h,p,f=t[l].replace(s,"%20"),E=f.indexOf(n);E>=0?(u=f.substr(0,E),c=f.substr(E+1)):(u=f,c=""),h=decodeURIComponent(u),p=decodeURIComponent(c),i(o,h)?r(o[h])?o[h].push(p):o[h]=[o[h],p]:o[h]=p}return o};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],173:[function(t,e,n){"use strict";function i(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(o(t),function(o){var s=encodeURIComponent(r(o))+n;return a(t[o])?i(t[o],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[o]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],174:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":172,"./encode":173}],175:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.default=function(t,e){function n(){if(!B&&document.getElementsByTagName("body")[0]){try{var e,n=S("span");n.style.display="none",(e=t.getElementsByTagName("body")[0].appendChild(n)).parentNode.removeChild(e),e=null,n=null}catch(t){return}B=!0;for(var i=U.length,r=0;r<i;r++)U[r]()}}function r(t){B?t():U[U.length]=t}function a(){var e=t.getElementsByTagName("body")[0],n=S(b);n.setAttribute("style","visibility: hidden;"),n.setAttribute("type",w);var r=e.appendChild(n);if(r){var a=0;!function t(){if(i(r.GetVariable)!==N)try{var s=r.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),K.pv=[v(s[0]),v(s[1]),v(s[2])])}catch(t){K.pv=[8,0,0]}else if(a<10)return a++,void setTimeout(t,10);e.removeChild(n),r=null,o()}()}else o()}function o(){var t=F.length;if(t>0)for(var e=0;e<t;e++){var n=F[e].id,r=F[e].callbackFn,a={success:!1,id:n};if(K.pv[0]>0){var o=R(n);if(o)if(!g(F[e].swfVersion)||K.wk&&K.wk<312)if(F[e].expressInstall&&_()){var u={};u.data=F[e].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));for(var c={},h=o.getElementsByTagName("param"),p=h.length,f=0;f<p;f++)"movie"!==h[f].getAttribute("name").toLowerCase()&&(c[h[f].getAttribute("name")]=h[f].getAttribute("value"));d(u,c,n,r)}else l(o),r&&r(a);else m(n,!0),r&&(a.success=!0,a.ref=s(n),a.id=n,r(a))}else if(m(n,!0),r){var E=s(n);E&&i(E.SetVariable)!==N&&(a.success=!0,a.ref=E,a.id=E.id),r(a)}}}function s(t){var e=null,n=R(t);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(e=i(n.SetVariable)!==N?n:n.getElementsByTagName(b)[0]||n),e}function _(){return!W&&g("6.0.65")&&(K.win||K.mac)&&!(K.wk&&K.wk<312)}function d(n,r,a,o){var s=R(a);if(a=A(a),W=!0,V=o||null,D={success:!1,id:a},s){"OBJECT"===s.nodeName.toUpperCase()?(y=u(s),P=null):(y=s,P=a),n.id=M,(i(n.width)===N||!/%$/.test(n.width)&&v(n.width)<310)&&(n.width="310"),(i(n.height)===N||!/%$/.test(n.height)&&v(n.height)<137)&&(n.height="137");var _=K.ie?"ActiveX":"PlugIn",d="MMredirectURL="+encodeURIComponent(e.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+_+"&MMdoctitle="+encodeURIComponent(t.title.slice(0,47)+" - Flash Player Installation");if(i(r.flashvars)!==N?r.flashvars+="&"+d:r.flashvars=d,K.ie&&4!=s.readyState){var l=S("div");a+="SWFObjectNew",l.setAttribute("id",a),s.parentNode.insertBefore(l,s),s.style.display="none",f(s)}h(n,r,a)}}function l(t){if(K.ie&&4!=t.readyState){t.style.display="none";var e=S("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(u(t),e),f(t)}else t.parentNode.replaceChild(u(t),t)}function u(t){var e=S("div");if(K.win&&K.ie)e.innerHTML=t.innerHTML;else{var n=t.getElementsByTagName(b)[0];if(n){var i=n.childNodes;if(i)for(var r=i.length,a=0;a<r;a++)1==i[a].nodeType&&"PARAM"===i[a].nodeName||8==i[a].nodeType||e.appendChild(i[a].cloneNode(!0))}}return e}function c(t,e){var n=S("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+t+"'>"+e+"</object>",n.firstChild}function h(t,e,n){var r,a=R(n);if(n=A(n),K.wk&&K.wk<312)return r;if(a){var o,s,_,d=S(K.ie?"div":b);i(t.id)===N&&(t.id=n);for(_ in e)e.hasOwnProperty(_)&&"movie"!==_.toLowerCase()&&p(d,_,e[_]);K.ie&&(d=c(t.data,d.innerHTML));for(o in t)t.hasOwnProperty(o)&&("styleclass"===(s=o.toLowerCase())?d.setAttribute("class",t[o]):"classid"!==s&&"data"!==s&&d.setAttribute(o,t[o]));K.ie?k[k.length]=t.id:(d.setAttribute("type",w),d.setAttribute("data",t.data)),a.parentNode.replaceChild(d,a),r=d}return r}function p(t,e,n){var i=S("param");i.setAttribute("name",e),i.setAttribute("value",n),t.appendChild(i)}function f(t){var e=R(t);e&&"OBJECT"===e.nodeName.toUpperCase()&&(K.ie?(e.style.display="none",function t(){if(4==e.readyState){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode.removeChild(e)}else setTimeout(t,10)}()):e.parentNode.removeChild(e))}function E(t){return t&&t.nodeType&&1===t.nodeType}function A(t){return E(t)?t.id:t}function R(e){if(E(e))return e;var n=null;try{n=t.getElementById(e)}catch(t){}return n}function S(e){return t.createElement(e)}function v(t){return parseInt(t,10)}function I(t,e,n){t.attachEvent(e,n),H[H.length]=[t,e,n]}function g(t){t+="";var e=K.pv,n=t.split(".");return n[0]=v(n[0]),n[1]=v(n[1])||0,n[2]=v(n[2])||0,e[0]>n[0]||e[0]==n[0]&&e[1]>n[1]||e[0]==n[0]&&e[1]==n[1]&&e[2]>=n[2]}function O(e,n,r,a){var o=t.getElementsByTagName("head")[0];if(o){var s="string"==typeof r?r:"screen";if(a&&(C=null,L=null),!C||L!=s){var _=S("style");_.setAttribute("type","text/css"),_.setAttribute("media",s),C=o.appendChild(_),K.ie&&i(t.styleSheets)!==N&&t.styleSheets.length>0&&(C=t.styleSheets[t.styleSheets.length-1]),L=s}C&&(i(C.addRule)!==N?C.addRule(e,n):i(t.createTextNode)!==N&&C.appendChild(t.createTextNode(e+" {"+n+"}")))}}function m(t,e){if(X){var n=e?"visible":"hidden",i=R(t);B&&i?i.style.visibility=n:"string"==typeof t&&O("#"+t,"visibility:"+n)}}function T(t){return null!==/[\\\"<>\.;]/.exec(t)&&("undefined"==typeof encodeURIComponent?"undefined":i(encodeURIComponent))!==N?encodeURIComponent(t):t}var y,P,V,D,C,L,N="undefined",b="object",w="application/x-shockwave-flash",M="SWFObjectExprInst",x=navigator,j=!1,U=[],F=[],k=[],H=[],B=!1,W=!1,X=!0,G=!1,K=function(){var n=i(t.getElementById)!==N&&i(t.getElementsByTagName)!==N&&i(t.createElement)!==N,r=x.userAgent.toLowerCase(),a=x.platform.toLowerCase(),o=/win/.test(a||r),s=/mac/.test(a||r),_=!!/webkit/.test(r)&&parseFloat(r.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),d="Microsoft Internet Explorer"===x.appName,l=[0,0,0],u=null;if(i(x.plugins)!==N&&i(x.plugins["Shockwave Flash"])===b)(u=x.plugins["Shockwave Flash"].description)&&i(x.mimeTypes)!==N&&x.mimeTypes[w]&&x.mimeTypes[w].enabledPlugin&&(j=!0,d=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),l[0]=v(u.replace(/^(.*)\..*$/,"$1")),l[1]=v(u.replace(/^.*\.(.*)\s.*$/,"$1")),l[2]=/[a-zA-Z]/.test(u)?v(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(i(e.ActiveXObject)!==N)try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");c&&(u=c.GetVariable("$version"))&&(d=!0,l=[v((u=u.split(" ")[1].split(","))[0]),v(u[1]),v(u[2])])}catch(t){}return{w3:n,pv:l,wk:_,ie:d,win:o,mac:s}}();K.w3&&((i(t.readyState)!==N&&("complete"===t.readyState||"interactive"===t.readyState)||i(t.readyState)===N&&(t.getElementsByTagName("body")[0]||t.body))&&n(),B||(i(t.addEventListener)!==N&&t.addEventListener("DOMContentLoaded",n,!1),K.ie&&(t.attachEvent("onreadystatechange",function e(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",e),n())}),e==top&&function e(){if(!B){try{t.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}n()}}()),K.wk&&function e(){B||(/loaded|complete/.test(t.readyState)?n():setTimeout(e,0))}()));U[0]=function(){j?a():o()};K.ie&&window.attachEvent("onunload",function(){for(var t=H.length,e=0;e<t;e++)H[e][0].detachEvent(H[e][1],H[e][2]);for(var n=k.length,i=0;i<n;i++)f(k[i]);for(var r in K)K[r]=null;K=null;for(var a in swfobject)swfobject[a]=null;swfobject=null});return{registerObject:function(t,e,n,i){if(K.w3&&t&&e){var r={};r.id=t,r.swfVersion=e,r.expressInstall=n,r.callbackFn=i,F[F.length]=r,m(t,!1)}else i&&i({success:!1,id:t})},getObjectById:function(t){if(K.w3)return s(t)},embedSWF:function(t,e,n,a,o,s,l,u,c,p){var f=A(e),E={success:!1,id:f};K.w3&&!(K.wk&&K.wk<312)&&t&&e&&n&&a&&o?(m(f,!1),r(function(){n+="",a+="";var r={};if(c&&(void 0===c?"undefined":i(c))===b)for(var A in c)r[A]=c[A];r.data=t,r.width=n,r.height=a;var R={};if(u&&(void 0===u?"undefined":i(u))===b)for(var S in u)R[S]=u[S];if(l&&(void 0===l?"undefined":i(l))===b)for(var v in l)if(l.hasOwnProperty(v)){var I=G?encodeURIComponent(v):v,O=G?encodeURIComponent(l[v]):l[v];i(R.flashvars)!==N?R.flashvars+="&"+I+"="+O:R.flashvars=I+"="+O}if(g(o)){var T=h(r,R,e);r.id==f&&m(f,!0),E.success=!0,E.ref=T,E.id=T.id}else{if(s&&_())return r.data=s,void d(r,R,e,p);m(f,!0)}p&&p(E)})):p&&p(E)},switchOffAutoHideShow:function(){X=!1},enableUriEncoding:function(t){G=(void 0===t?"undefined":i(t))===N||t},ua:K,getFlashPlayerVersion:function(){return{major:K.pv[0],minor:K.pv[1],release:K.pv[2]}},hasFlashPlayerVersion:g,createSWF:function(t,e,n){return K.w3?h(t,e,n):void 0},showExpressInstall:function(t,e,n,i){K.w3&&_()&&d(t,e,n,i)},removeSWF:function(t){K.w3&&f(t)},createCSS:function(t,e,n,i){K.w3&&O(t,e,n,i)},addDomLoadEvent:r,addLoadEvent:function(n){if(i(e.addEventListener)!==N)e.addEventListener("load",n,!1);else if(i(t.addEventListener)!==N)t.addEventListener("load",n,!1);else if(i(e.attachEvent)!==N)I(e,"onload",n);else if("function"==typeof e.onload){var r=e.onload;e.onload=function(){r(),n()}}else e.onload=n},getQueryParamValue:function(e){var n=t.location.search||t.location.hash;if(n){if(/\?/.test(n)&&(n=n.split("?")[1]),!e)return T(n);for(var i=n.split("&"),r=0;r<i.length;r++)if(i[r].substring(0,i[r].indexOf("="))==e)return T(i[r].substring(i[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(W){var t=R(M);t&&y&&(t.parentNode.replaceChild(y,t),P&&(m(P,!0),K.ie&&(y.style.display="block")),V&&V(D)),W=!1}},version:"2.3"}}},{}],176:[function(t,e,n){"use strict";n.__IASVANS=function(t){var e={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(t){try{this.sendUrlRequest(["//pixel.adsafeprotected.com/mon?anId=10173&campId=",encodeURIComponent(o.getPartnerId()),"&pubId=",encodeURIComponent("vans-js_"+t)].join(""))}catch(t){n.report("smp",t)}},sendMonitoringDebugPixel:function(){var t=["adstop"],i={};return function(r,a){var s=o.hasDebugEnabled(),_=-1<t.indexOf(r)&&i[r];if(s&&!_)try{var d,l=o.getAltMonDomain(),u=e.addProtocolToDomain("spixel.adsafeprotected.com")+"/mon?anId=10173&campId="+encodeURIComponent(o.getPartnerId())+"&pubId=",c=e.addProtocolToDomain(l)+"/mon?anId=925116&campId="+encodeURIComponent(o.getPartnerId())+"&pubId=",h=encodeURIComponent(r);d=a.replace(/=undefined&/g,"=&"),this.sendUrlRequest([u,h,d].join("")),this.sendUrlRequest([c,h,d].join("")),i[r]=!0}catch(t){n.report("smp",t)}}}(),sendUrlRequest:function(t,e){var n,i;if(t){n=this.getWindow();try{i=new n.XMLHttpRequest,e&&(i.onreadystatechange=e),i.open("GET",t),i.send()}catch(t){}}},stringify:function(t){if("AdImpression"!==t.messageType)return JSON.stringify(t);var e={};e.passthroughObj=o.getPassThroughObj();var i="";try{i=JSON.stringify(t)}catch(t){return void n.report("ser",t,e)}return i},addProtocolToDomain:function(t){return t.match(/^[a-zA-Z]+:\/\//)?t:"https://"+t},getWindow:function(){return s.getWin()},getDocument:function(){return s.getDoc()},generateUID:function(){var t,e="";try{for(t=0;8>t;t++)e=[e,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(t){}return e},noop:function(){}},n=function(){var t={};return{report:function(n,i,r){if(!t[n])try{t[n]=!0;var a="//pixel.adsafeprotected.com/jsdiagnostic?code:vans-js_"+encodeURIComponent(o.getPartnerId())+"_"+n+"&err:"+encodeURIComponent(i.message);r&&(a+="&config:"+encodeURIComponent(JSON.stringify(r))),e.sendUrlRequest(a)}catch(t){}}}}(),i=function(){var t,i=!1,r=function(t,n){return t==o()&&(i=!0,a.setImpressionCallback(n),e.sendMonitoringDebugPixel("hs",a.monitoringQS()),a.flushUnsentEvents()),i?"jv3":null},o=function(){return t||(t=e.generateUID()),t};return{getVideoId:o,setNodeInterface:function(t){var i,a,s,_=o();try{i="IASid"+_,a="blockAd"+_,s="getIasVidBridgeVersion"+_,t.className+=" integral-vid-"+_,t[a]=e.noop,t[i]=r,t[s]=function(){return"2"},t.getVersion=function(){return"3.5.0"}}catch(t){n.report("sni",t)}},isEstablished:function(){return i},resetHandshake:function(){i=!1}}}(),r=function(){var t,r=function(){var t=function(t){return void 0!==t},e=function(){var e="u";try{t(window.opera)&&t(window.opera.buildNumber)?e="o":t(window.mozInnerScreenY)?e="g":t(window.chrome)&&t(window.chrome.csi)?e="c":t(window.msWriteProfilerMark)&&t(window.crypto)?e="e":t(window.attachEvent)||t(window.msCrypto)?e="i":t(window.WebKitPoint)&&(e="w")}catch(t){}return e}(),n=function(){var e=function(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];""!==i&&"null"!==i&&"undefined"!==i&&null!==i&&t(i)||delete e[n]}return e},n=function(e){var n,i,r={};for(i in e)e.hasOwnProperty(i)&&(n=e[i],t(r[n])?r[n]+=i:r[n]=i);e={};for(i in r)r.hasOwnProperty(i)&&(n=r[i],e[n]=i);return e};return function(){var i=function(){var e={g:"",q:""};try{e.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(a){var n,i=(i=a.message).substring(i.lastIndexOf("<")+1,i.lastIndexOf(">"));if((n=t(i))&&(n=!1,t(window.navigator)&&t(window.navigator.userAgent))){var r=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==r&&2==r.length&&(r=r[1].split("."),3==parseInt(r[0],10)&&6>=parseInt(r[1],10)&&(3==r.length?13>=parseInt(r[2],10)&&(n=!0):n=!0))}n&&(e.g=i)}return e},r={};try{r.a=encodeURIComponent(top.location.href)}catch(t){}try{r.b=encodeURIComponent(parent.location.href)}catch(t){}if(window!=top){try{r.c=encodeURIComponent(parent.document.referrer)}catch(t){}try{r.e=encodeURIComponent(window.document.referrer)}catch(t){}}try{r.d=encodeURIComponent(window.location.href)}catch(t){}try{var a=i();r.g=encodeURIComponent(a.g),r.q=encodeURIComponent(a.q)}catch(t){}var o,r=e(r),r=n(r),i=[];for(o in r)r.hasOwnProperty(o)&&i.push({key:o,val:r[o]});return i.sort(function(t,e){return t.val.length>e.val.length?1:t.val.length<e.val.length?-1:0}),i}()}();return{br:e,urls:n}},a=function(t,e,r){var a=["//pixel.adsafeprotected.com/db2/video/",e,"/",r,"/skeleton.js?videoId=",i.getVideoId()].join("");e=function(t){a=[a,"&adsafe_url=",t.val,"&adsafe_type=",t.key].join("")};try{t.urls.forEach(e),a=[a,"&adsafe_jsinfo=br:",t.br].join("")}catch(t){n.report("bvu",t)}return a},o=function(){if(4==this.readyState)if(200==this.status)try{t("failed"===JSON.parse(this.responseText).action?"block":"safe")}catch(t){n.report("ba",t)}else n.report("blk_url_req_err",{message:this.status})};return{init:function(n,i,s){var _=r();n=a(_,n,i),t=s,e.sendUrlRequest(n,o)}}}(),a=function(){var r,s=[],_=!1,d=function(t){var e="";return Object.keys(t).forEach(function(n){-1===["advEntityId","pubEntityId","partner","debug"].indexOf(n)&&(e+="&"+n+"="+t[n])}),e},l=function(o){if(i.isEstablished()){var _;try{(_=e.stringify(o))&&("AdImpression"===o.messageType?e.getWindow()[r](_):e.getWindow().postMessage(_,"*"))}catch(t){n.report("dm",t)}}else if(a.nodeProvided)try{s.push(o)}catch(t){n.report("cm",t)}else{_=t||"pixel.adsafeprotected.com";var l=a.config;try{e.stringify(o),"AdImpression"===o.messageType&&(a.isCmTag?e.sendUrlRequest(["//"+_,"/mon?",d(l)].join("")):a.isFwTag&&e.sendUrlRequest(["//"+_,"/rfw/st/",l.advEntityId+"/"+l.pubEntityId,"/skeleton.js"].join("")))}catch(t){n.report("dm",t)}}};return{sendEvent:function(t,r){if("AdImpression"===t){if(_)return;r&&(r.ext_passthrough=a.passThroughObj),_=!0,e.sendMonitoringDebugPixel("ai",a.monitoringQS())}else"AdStopped"===t||"AdVideoComplete"===t?e.sendMonitoringDebugPixel("adstop",a.monitoringQS()):"AdError"===t&&e.sendMonitoringDebugPixel("aderr",a.monitoringQS());try{l({messageType:t,id:i.getVideoId(),time:e.now(),partner:o.getPartnerId(),eventData:r})}catch(t){n.report("se",t)}},setImpressionCallback:function(t){r=t},flushUnsentEvents:function(){try{s.forEach(l)}catch(t){n.report("fue",t)}},passThroughObj:{},monitoringQS:function(){},clearSessionState:function(){_=!1,s.length=0}}}(),o=function(){var o,_,d,l={},u={},c="impId creativeId campId placementId advEntityId pubEntityId chanId".split(" "),h=function(e,r){var a,o=t||"pixel.adsafeprotected.com";try{a=["//",o,e,"?videoId=",i.getVideoId(),function(t){var e="";return Object.keys(t).forEach(function(n){"advEntityId"!=n&&"pubEntityId"!=n&&"partner"!=n&&(e+="&"+n+"="+t[n])}),e}(r)].join("")}catch(t){n.report("bsurl",t)}return a},p=function(t,n){var i,r=!1,a=function(){!r&&t.parentNode&&(t.parentNode.appendChild(n),clearInterval(i),r=!0,e.sendMonitoringDebugPixel("fwjsinj",R()))};a(),r||(i=setInterval(a,200))},f=function(t,n,i){var r,a=e.getDocument();try{(r=a.createElement("script")).src=h(t,n),r.addEventListener("load",function(t){e.sendMonitoringDebugPixel("fwjsload",R())}),r.addEventListener("error",function(t){e.sendMonitoringDebugPixel("fwjsload_err",R())}),p(i,r)}catch(t){e.sendMonitoringPixel("inj_err")}},E=function(t,e,n){i.setNodeInterface(n);var r={};Object.getOwnPropertyNames(e).forEach(function(t){"debug"!==t&&(r[t]=e[t])}),f(t,r,n)},A=function(t){c.forEach(function(e){l[e]=t[e]}),d&&(l.monDomain=t.debug.monDomain)},R=function(){return"&chanId="+l.chanId+"&planId="+l.advEntityId+"&placementId="+l.pubEntityId+"&advId="+l.campId+"&pubOrder="+l.placementId+"&pubCreative="+l.creativeId+"&impId="+l.impId+"&ts="+Date.now()+"&custom=3.5.0&custom2=jv3&custom3="+_+"&adsafe_par"},S=function(t){var n=t&&t.ownerDocument,i=t&&t.parentNode,r=n&&(n.defaultView||n.parentWindow),a="adnode_type_"+(t?t.constructor.name||t.nodeName:"null");t||e.sendMonitoringDebugPixel("adnode_null",R()),t&&!i&&e.sendMonitoringDebugPixel("adnode_detached",R()),t&&!n&&e.sendMonitoringDebugPixel("adnode_nodoc",R()),n&&!r&&e.sendMonitoringDebugPixel("adnode_nowin",R()),e.sendMonitoringDebugPixel(a,R())},v=function(){u.vv="3.5.0",u.vanstag=_,u.xcamp=l.campId,u.xplac=l.placementId,u.xcreat=l.creativeId,u.ximp=l.impId},I=function(t){t.monitoringQS=R,t.passThroughObj=u,Object.keys(t).forEach(function(e){a[e]=t[e]})},g=function(t){var e=(t=t&&t.ownerDocument)&&t.parentWindow;return!!(t&&t.defaultView||e)};return{initCM:function(t,i){var r=g(i);if(!t||!t.partner)throw Error("Missing partnerId");s.setWin(i),o=t.partner,d=t.debug&&t.debug.enabled,_="cm";try{if(!t.anId)throw Error("Missing anId");A(t),v(),I({isFwTag:!1,isCmTag:!0,nodeProvided:r,config:t}),e.sendMonitoringDebugPixel("init",R()),S(i),r&&E("/jsvid",t,i)}catch(t){n.report("icm",t)}},initFW:function(t,i,a){var l,u=g(i);if(!t||!t.partner)throw Error("Missing partnerId");s.setWin(i),o=t.partner,d=t.debug&&t.debug.enabled,_="fw";try{if(!t.advEntityId||!t.pubEntityId)throw Error("Missing client id: advEntityId: "+t.advEntityId+" ,pubEntityId: "+t.pubEntityId);A(t),v(),I({isFwTag:!0,isCmTag:!1,nodeProvided:u,config:t}),e.sendMonitoringDebugPixel("init",R()),S(i),a&&r.init(t.advEntityId,t.pubEntityId,a),u&&(l="/fwjsvid/st/"+t.advEntityId+"/"+t.pubEntityId+"/skeleton.js",E(l,t,i))}catch(t){n.report("ifw",t)}},getPartnerId:function(){return o},getPassThroughObj:function(){return u},getAltMonDomain:function(){return l.monDomain},hasDebugEnabled:function(){return d}}}(),s=function(){var t=window;return{getWin:function(){return t},setWin:function(e){(e=e&&e.ownerDocument)&&e.defaultView?t=e.defaultView:e&&e.parentWindow?t=e.parentWindow:n.report("sc",{message:""})},getDoc:function(){return t.document}}}();return{initFW:o.initFW,initCM:o.initCM,sendEvent:a.sendEvent}}},{}],177:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(n,"__esModule",{value:!0});var a=r(t("./ad_vast")),o=r(t("./state_info")),s=r(t("./utils")),_=i(t("./ssc_response")),d=i(t("./ssc_result")),l=i(t("./vidio_demand_tag_sender")),u=r(t("./events")),c=i(t("../../../timeouts.json")),h=function(t,e,n,i,r,a,o,s,_,d,u,c,h,p){this.timeoutManager_=e,this.supplyTagTimeout_=n,this.pixelNotifier_=i,this.endpoint_=r,this.demandTag_=a,this.historyManager_=t,this.queue_=o,this.logNotifier_=s,this.videoElementManager_=_,this.manifest_=d,this.isDomainMatch_=u,this.domain_match_=c,this.sscResultManager_=h,this.initParams_=p,this.vast_=null,this.vidIoDemandTagSender_=new l.default(this.pixelNotifier_,this.historyManager_,this.demandTag_)};h.prototype.internalError=function(t,e){this.vidIoDemandTagSender_.internalError(t,e),this.failureCb()},h.prototype.preInit=function(){function t(){n.vidIoDemandTagSender_.demandRequest(i),a.getVastResponse(n.pixelNotifier_,n.historyManager_,n.timeoutManager_,n.endpoint_,n.demandTag_,n.addContainer.bind(n),n.failureCb.bind(n),c.default.VAST_TIMEOUT,c.default.VASTS_TIMEOUT,c.default.MAX_WRAPPERS,n.initParams_.environmentVars,n.logNotifier_,n.videoElementManager_,n.manifest_.ef)}function e(t){n.vidIoDemandTagSender_.js_vpaid_br(i,t),n.failureCb()}var n=this,i=void 0,r=void 0;try{r=o.getStateInfo(this.initParams_.environmentVars.videoSlot||this.initParams_.environmentVars.slot,this.manifest_.width,this.manifest_.height)}catch(t){return void this.internalError(u.VD_ERROR_CODES.PRE_INIT_STATE_INFO_FAIL,!1)}var l=void 0;try{l=!this.isDomainMatch_&&this.demandTag_.td}catch(t){return void this.internalError(u.VD_ERROR_CODES.PRE_INIT_TD_MISMATCH_FAIL,!1)}var h=void 0;try{h=!this.manifest_.ts&&this.demandTag_.ts&&!s.sizeMatch(this.manifest_,r)}catch(t){return void this.internalError(u.VD_ERROR_CODES.PRE_INIT_TS_MISMATCH_FAIL,!1)}try{if(l||h)return this.vidIoDemandTagSender_.missedOpportunity(l,h),void this.failureCb()}catch(t){return void this.internalError(u.VD_ERROR_CODES.PRE_INIT_MISSED_OPPORTUNITY_FAIL,!1)}try{this.timeoutManager_.startResponse(this.demandTag_.waterfallIdx),i={request_time:n.timeoutManager_.getRequestTime(n.demandTag_.waterfallIdx)}}catch(t){return void this.internalError(u.VD_ERROR_CODES.DO_GET_VAST_RESPONSE_START_RESPONSE_FAIL,!1)}try{if(this.demandTag_.ssc_id===u.SSC_NO_ID||this.sscResultManager_.isSscResult()&&this.sscResultManager_.getSscResult().getSsc_valid())try{t()}catch(t){n.internalError(u.VD_ERROR_CODES.SSC_MAKE_DEMAND_REQUEST_ERROR,!1)}else if(this.sscResultManager_.isSscResult()&&this.sscResultManager_.getSscResult().isResult())try{e(this.sscResultManager_.getSscResult().getR())}catch(t){n.internalError(u.VD_ERROR_CODES.SSC_JS_VPAID_BR_ERROR,!1)}else{var p=s.getSscEndpoint(this.manifest_.uuid,this.manifest_.secure,this.endpoint_,this.demandTag_.ssc_uid,this.manifest_.country,this.initParams_.width,this.initParams_.height,this.domain_match_);this.logNotifier_(u.LOG_EVENTS.SSC_ENDPOINT,{endpoint:p});var f=s.getRequestMethod(p,!1);if(!f)return void this.internalError(u.VD_ERROR_CODES.SSC_NO_XHR,!1);var E=f.xhr,A=this.timeoutManager_.getTimeoutInfo(this.demandTag_.waterfallIdx,[{reason:u.VD_ERROR_CODES.SSC_TIMEOUT,timeout:c.default.SSC_TIMEOUT}]);if(A.timeout<=0)return void this.internalError(A.reason,!0);E.timeout=A.timeout,E.ontimeout=function(){n.internalError(A.reason,!0)},E.onload=function(){try{if(200!==E.status)return void n.internalError(u.VD_ERROR_CODES.SSC_BAD_XHR_STATUS+"_"+E.status,!1);var i=void 0;try{i=JSON.parse(E.responseText)}catch(t){return void n.internalError(u.VD_ERROR_CODES.SSC_JSON_PARSE_ERROR,!1)}var r=void 0;try{var a=new _.default(i);r=new d.default(a.getSsc_pv(),a.getSsc_to(),a.getSsc_valid(),a.getR()),n.sscResultManager_.setSscResult(r)}catch(t){return void n.internalError(u.VD_ERROR_CODES.SSC_RESULT_ERROR,!1)}if(r.getSsc_valid()){try{n.logNotifier_(u.LOG_EVENTS.SSC_VALID_EVENT,{pv:r.getSsc_pv(),to:r.getSsc_to(),valid:r.getSsc_valid(),r:r.getR()})}catch(t){n.internalError(u.VD_ERROR_CODES.SSC_CALL_LOG_EVENT_ERROR,!1)}try{t()}catch(t){n.internalError(u.VD_ERROR_CODES.SSC_MAKE_DEMAND_REQUEST_ERROR_2,!1)}}else try{e(r.getR())}catch(t){n.internalError(u.VD_ERROR_CODES.SSC_JS_VPAID_BR_ERROR_2,!1)}}catch(t){n.internalError(u.VD_ERROR_CODES.SSC_UNKNOWN_ERROR,!1)}},E.onerror=function(){n.internalError(u.VD_ERROR_CODES.SSC_XHR_ERROR,!1)},E.send()}}catch(t){n.internalError(u.VD_ERROR_CODES.SSC_UNKNOWN_ERROR_2,!1)}},h.prototype.addContainer=function(t){this.vast_=t,this.queue_.containerLoaded()},h.prototype.hasAd=function(){return null!==this.vast_},h.prototype.failureCb=function(){this.queue_.containerLoaded()},n.default=h},{"../../../timeouts.json":215,"./ad_vast":192,"./events":201,"./ssc_response":206,"./ssc_result":207,"./state_info":210,"./utils":211,"./vidio_demand_tag_sender":213}],178:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return t.domain===e.domain_match}function o(t,e,n,i,r){var a={};if(null!==e.urlparams)for(var o in e.urlparams)e.urlparams.hasOwnProperty(o)&&(a[o]=e.urlparams[o]);return a[A.JSON_PIXEL_PARAMS.declaredDomain]=e.domain,a[A.JSON_PIXEL_PARAMS.declaredWidth]=e.width,a[A.JSON_PIXEL_PARAMS.declaredHeight]=e.height,a[A.JSON_PIXEL_PARAMS.detectedDomain]=n.domain_match,a[A.JSON_PIXEL_PARAMS.detectedWidth]=i.detectedWidth,a[A.JSON_PIXEL_PARAMS.detectedHeight]=i.detectedHeight,a[A.JSON_PIXEL_PARAMS.fullUrl]=n.url,a[A.JSON_PIXEL_PARAMS.cb]=O.getCb(),a[A.JSON_PIXEL_PARAMS.url]=e.td?n.domain_match:e.domain,a[A.JSON_PIXEL_PARAMS.w]=e.ts?i.detectedWidth:e.width,a[A.JSON_PIXEL_PARAMS.h]=e.ts?i.detectedHeight:e.height,O.makeUrl(O.getProtocol(r),t+"/json/"+e.supplyTagId,a)}Object.defineProperty(n,"__esModule",{value:!0}),n.AdController=n.getJsonUrl=n.domainMatch=void 0;var s=r(t("lodash/defaults")),_=r(t("lodash/now")),d=r(t("./ad_loader")),l=i(t("./ad_location")),u=i(t("./ad_manifest")),c=i(t("./ad_pixel")),h=r(t("./ad_processor")),p=r(t("./ad_timeout_manager")),f=r(t("./ad_vd")),E=r(t("./ad_video_element_manager")),A=i(t("./events")),R=r(t("./fsm")),S=i(t("./moat_wrapper")),v=i(t("./ssc_detection")),I=r(t("./ssc_result_manager")),g=i(t("./state_info")),O=i(t("./utils")),m=r(t("../../../moat.json")),T=i(t("./__IASVANS_3.5.0")),y=i(t("../../../ias.json")),P=r(t("../../../timeouts.json")),V=i(t("./post_imp_detection")),D=function(t,e,n,i,r){f.default.call(this,"AdController"),this.endpoint_=t,this.pixelUrl_=e,this.flashUrl_=n,this.forceSecure_=i,this.version_=r,this.locationInfo_=null,this.manifest_=null,this.timeoutManager_=null,this.uuid_=null,this.sscResultManager_=null,this.loader=null,this.MoatApiReference_=null,this.IasApiReference_=null,this.fsmVpaidEvent_=new R.default(A.VPAID_MUTEX_EVENTS,A.VPAID_ONCE_EVENTS),this.fsmPixelEvent_=new R.default(A.PIXEL_MUTEX_EVENTS,A.PIXEL_ONCE_EVENTS),this.historyManager_=O.getHistoryManager()};(D.prototype=Object.create(f.default.prototype)).callEvent_=function(t){var e=Array.prototype.slice.call(arguments,1);if(this.fsmVpaidEvent_.sendEventType(t)){if(A.VOLUME_EVENTS.hasOwnProperty(t)&&this.setAdVolumeInternal(this.getAdVolumeInternal()),null!==this.ad_&&this.ad_.currentWaterfallIndex_>=0&&this.ad_.currentWaterfallIndex_<this.manifest_.dj.length&&O.firePixels(document,u.getPixelUrlsByEvent(this.manifest_.dj[this.ad_.currentWaterfallIndex_][0],t)),null!==this.MoatApiReference_){var n={type:t,adVolume:this.getAdVolumeInternal()};this.MoatApiReference_.dispatchEvent(n)}if(A.IAS_EVENTS.hasOwnProperty(t)&&null!==this.IasApiReference_){var i={ad_duration:this.ad_.getAdDuration(),ad_dimensions:this.initParams_.width+"x"+this.initParams_.height,player_dimensions:this.initParams_.environmentVars.videoSlot.width+"x"+this.initParams_.environmentVars.videoSlot.height,volume:this.getAdVolumeInternal()};this.IasApiReference_.sendEvent(t,i)}t===A.VPAID_EVENTS.AdLoaded&&null!==this.ad_&&this.ad_.setAdVolume(this.getAdVolumeInternal()),f.default.prototype.callEvent_.apply(this,[t].concat(e))}},D.prototype.initAd=function(t,e,n,i,r,o){try{f.default.prototype.initAd.apply(this,O.getArgs(arguments))}catch(t){return void this.initAdError(A.VD_ERROR_CODES.INIT_AD_ERROR,t)}try{this.manifest_=u.parse(JSON.parse(this.creativeData_.AdParameters)),this.uuid_=this.manifest_.uuid}catch(t){return void this.initAdError(A.VD_ERROR_CODES.MANIFEST_PARSE_ERROR,t)}try{this.locationInfo_=l.getLocation()}catch(t){return void this.initAdError(A.VD_ERROR_CODES.LOCATION_DATA_PARSE_ERROR,t)}var s=void 0;try{s=g.getStateInfo(this.initParams_.environmentVars.videoSlot||this.initParams_.environmentVars.slot,this.manifest_.width,this.manifest_.height)}catch(t){return void this.initAdError(A.VD_ERROR_CODES.INIT_AD_STATE_INFO_ERROR,t)}var _=void 0;try{_=a(this.manifest_,this.locationInfo_)}catch(t){return void this.initAdError(A.VD_ERROR_CODES.INIT_AD_TD_MISMATCH_ERROR,t)}var d=void 0;try{d=this.manifest_.ts&&!O.sizeMatch(this.manifest_,s)}catch(t){return void this.initAdError(A.VD_ERROR_CODES.INIT_AD_TS_MISMATCH_ERROR,t)}try{if(this.manifest_.td&&!_||d)return void this.getNewAdParameters(t,e,n,i,r,o,s,_)}catch(t){return void this.initAdError(A.VD_ERROR_CODES.INIT_AD_GET_NEW_AD_PARAMETERS_ERROR,t)}try{var c=this.postInit(t,e,n,i,r,o,_);null!==c&&this.initAdError(c.reason,c.error)}catch(t){this.initAdError(A.VD_ERROR_CODES.INIT_AD_POST_INIT_ERROR,t)}},D.prototype.postInit=function(t,e,n,i,r,a,o){try{if(0===this.manifest_.numWaterfalls)return{reason:A.VD_ERROR_CODES.NO_RESPONSES,error:null}}catch(t){return{reason:A.VD_ERROR_CODES.POST_INIT_WATERFALL_CHECK_ERROR,error:t}}try{this.timeoutManager_=new p.default(_.default),this.timeoutManager_.setManifest(this.manifest_)}catch(t){return{reason:A.VD_ERROR_CODES.TIMEOUT_MANAGER_INIT_ERROR,error:t}}try{this.videoElementManager_=new E.default(this.uuid_)}catch(t){return{reason:A.VD_ERROR_CODES.VIDEO_ELEMENT_MANAGER_INIT_ERROR,error:t}}try{this.ad_=new h.default(this.manifest_,this.timeoutManager_,this.initParams_,this.flashUrl_,this.videoElementManager_,this.historyManager_),this.ad_.handshakeVersion(this.handshakeVersion_),this.registerVpaidEventListeners_(this.ad_),this.registerVidIOEventListeners_(this.ad_),this.callVidIOEvent_(A.VID_IO_EVENTS.js_opportunity,null,{},null),this.ad_.setAdVolume(this.getAdVolumeInternal())}catch(t){return{reason:A.VD_ERROR_CODES.PROCESSOR_INIT_ERROR,error:t}}try{this.sscResultManager_=new I.default(this.manifest_.sscResult)}catch(t){return{reason:A.VD_ERROR_CODES.SSC_RESULT_MANAGER_INIT_ERROR,error:t}}try{this.loader=new d.default(this.uuid_,this.timeoutManager_,this.manifest_,this.videoElementManager_,o,this.endpoint_,this.locationInfo_.domain_match,this.sscResultManager_,this.initParams_,this.historyManager_),O.firePixels(document,u.getPixelUrlsByEvent(this.manifest_,A.PIXEL_EVENTS.initAd)),this.loader.initAd(t,e,n,i,r,a),this.registerVpaidEventListeners_(this.loader),this.registerVidIOEventListeners_(this.loader),this.loader.load(),this.ad_.setAdUnits(this.loader.adContainers),this.ad_.processAds()}catch(t){return{reason:A.VD_ERROR_CODES.LOADER_INIT_ERROR,error:t}}return null},D.prototype.resizeAd=function(t,e,n){if(f.default.prototype.resizeAd.apply(this,O.getArgs(arguments)),this.ad_&&null!==this.IasApiReference_){var i={ad_duration:this.ad_.getAdDuration(),ad_dimensions:this.initParams_.width+"x"+this.initParams_.height,player_dimensions:this.initParams_.environmentVars.videoSlot.width+"x"+this.initParams_.environmentVars.videoSlot.height,volume:this.getAdVolumeInternal(),height:e,width:t,viewMode:n};this.IasApiReference_.sendEvent("resizeAd",i)}},D.prototype.startAd=function(){f.default.prototype.startAd.apply(this,O.getArgs(arguments)),this.ad_&&this.ad_.setAdVolume(this.getAdVolumeInternal())},D.prototype.initAdError=function(t,e){var n=t+(e?"_"+e.message:""),i={reason:n,timeout:!1};null!==this.timeoutManager_&&t!==A.VD_ERROR_CODES.TIMEOUT_MANAGER_INIT_ERROR&&(i.on_page_time=this.timeoutManager_.getTimeOnPage()),this.callVidIOEvent_(A.VID_IO_EVENTS.js_supply_error,null,i,null),setTimeout(function(){this.callEvent_(A.VPAID_EVENTS.AdError,n)}.bind(this),P.default.SUPPLY_ERROR_PIXEL_TIMEOUT)},D.prototype.on_js_impression=function(t,e,n){if(v.load(document,this.manifest_,t,this.initParams_.width,this.initParams_.height,this.locationInfo_.domain_match,this.manifest_.secure).length,null===this.MoatApiReference_&&V.shouldFire(this.manifest_,t,A.POST_IMP_PROVIDER_ID_MOAT)&&(this.MoatApiReference_=S.initMoatTracking(this.initParams_.environmentVars.slot,{level1:this.manifest_.aid,level2:this.manifest_.supplyTagId,level3:this.manifest_.domain,level4:A.MOAT_DUMMY_VALUE,slicer1:A.MOAT_DUMMY_VALUE,slicer2:t.a_cc},this.getAdDuration(),m.default.moatPartnerCode,this.initParams_.environmentVars.videoSlot.src)),null===this.IasApiReference_&&V.shouldFire(this.manifest_,t,A.POST_IMP_PROVIDER_ID_IAS)){var i=g.getStateInfo(this.initParams_.environmentVars.videoSlot||this.initParams_.environmentVars.slot,this.manifest_.width,this.manifest_.height),r={partner:y.partner,anId:y.adNetworkId,placementId:this.manifest_.supplyTagId,impId:this.uuid_},a=[];a.push(A.IAS_EXTRA_PARAMS.declaredDomain+"="+this.manifest_.domain),a.push(A.IAS_EXTRA_PARAMS.declaredWidth+"="+this.manifest_.width),a.push(A.IAS_EXTRA_PARAMS.declaredHeight+"="+this.manifest_.height),a.push(A.IAS_EXTRA_PARAMS.detectedDomain+"="+this.locationInfo_.domain_match),a.push(A.IAS_EXTRA_PARAMS.detectedWidth+"="+i.detectedWidth),a.push(A.IAS_EXTRA_PARAMS.detectedHeight+"="+i.detectedHeight),a.push(A.IAS_EXTRA_PARAMS.aId+"="+this.manifest_.aid),a.push(A.IAS_EXTRA_PARAMS.aCc+"="+t.a_cc),a.push(A.IAS_EXTRA_PARAMS.ssId+"="+this.manifest_.ssid),a.push(A.IAS_EXTRA_PARAMS.country+"="+this.manifest_.country),r.planId=a.join("|"),this.IasApiReference_=new T.__IASVANS,this.IasApiReference_.initCM(r,this.initParams_.environmentVars.slot)}f.default.prototype.on_js_impression.apply(this,O.getArgs(arguments))},D.prototype.callVidIOEvent_=function(t,e,n,i){if(this.fsmPixelEvent_.sendEventType(t)){f.default.prototype.callVidIOEvent_.apply(this,O.getArgs(arguments));var r=g.getStateInfo(this.initParams_.environmentVars.videoSlot||this.initParams_.environmentVars.slot,this.manifest_.width,this.manifest_.height);O.addImage(document,O.makeUrl(O.getProtocol(this.forceSecure_||this.manifest_.secure),this.pixelUrl_,c.getPixelParams(this.uuid_,this.version_,this.instanceId_,this.locationInfo_,r,this.manifest_,this.initParams_.width,this.initParams_.height,t,e,n,i)))}},D.prototype.getNewAdParameters=function(t,e,n,i,r,a,_,d){var l=this,c=O.getRequestMethod(o(this.endpoint_,this.manifest_,this.locationInfo_,_,this.forceSecure_||this.manifest_.secure),!1);if(c){var h=c.xhr;h.timeout=P.default.JSON_TIMEOUT,h.ontimeout=function(){l.initAdError(A.VD_ERROR_CODES.JSON_TIMEOUT,null)},h.onload=function(){try{if(200!==h.status)return void l.initAdError(A.VD_ERROR_CODES.BAD_XHR_STATUS+"_"+h.status,null);var o=void 0;try{var _=JSON.parse(h.responseText),c={dj:_.dj};_.hasOwnProperty("dto")&&(c.dto=_.dto),o=(0,s.default)(c,JSON.parse(l.creativeData_.AdParameters)),l.creativeData_.AdParameters=r.AdParameters=JSON.stringify(o)}catch(t){return void l.initAdError(A.VD_ERROR_CODES.JSON_RESPONSE_PARSE_ERROR,t)}try{l.manifest_=u.parse(o)}catch(t){return void l.initAdError(A.VD_ERROR_CODES.JSON_MANIFEST_PARSE_ERROR,t)}var p=l.postInit(t,e,n,i,r,a,l.manifest_.td||d);null!==p&&l.initAdError(p.reason,p.error)}catch(t){l.initAdError(A.VD_ERROR_CODES.JSON_PARSE_UNKNOWN_ERROR,t)}},h.onerror=function(){l.initAdError(A.VD_ERROR_CODES.XHR_ERROR,null)},h.send()}else this.initAdError(A.VD_ERROR_CODES.NO_XHR,null)},n.domainMatch=a,n.getJsonUrl=o,n.AdController=D},{"../../../ias.json":2,"../../../moat.json":3,"../../../timeouts.json":215,"./__IASVANS_3.5.0":176,"./ad_loader":184,"./ad_location":185,"./ad_manifest":187,"./ad_pixel":188,"./ad_processor":189,"./ad_timeout_manager":191,"./ad_vd":194,"./ad_video_element_manager":195,"./events":201,"./fsm":202,"./moat_wrapper":203,"./post_imp_detection":204,"./ssc_detection":205,"./ssc_result_manager":208,"./state_info":210,"./utils":211,"lodash/defaults":132,"lodash/now":163}],179:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(t("lodash/map")),o=r(t("lodash/forEach")),s=r(t("lodash/extend")),_=r(t("./ad_state")),d=r(t("./ad_vpaid_video_wrapper")),l=i(t("./ad_iframe")),u=i(t("./events")),c=i(t("./utils")),h=r(t("../../../timeouts.json")),p=function(t,e,n,i,r,a,o,s){_.default.call(this,"DemandRequest",t.uuid,e,n,t.timeout),this.demandTag_=i,this.vast_=r,this.manifest_=t,this.jsBridgeManager_=a,this.videoElementManager_=o,this.historyManager_=s,this.creativeType_=null,this.slotListeners_={}};(p.prototype=Object.create(_.default.prototype)).fireVastPixels=function(t,e){try{this.callLogEvent_(u.LOG_EVENTS.VAST_FIRE_PIXEL,t)}catch(t){}try{c.firePixels(document,(0,a.default)(e,function(t){return t.replace(u.VAST_MACROS.CACHEBUSTING,c.getCb())}))}catch(e){try{this.callLogEvent_(u.LOG_EVENTS.VAST_FIRE_PIXEL_ERROR,t)}catch(t){}}},p.prototype.fireErrorPixels=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_ERROR,(0,a.default)(this.vast_.errorPixels,function(t){return t.replace(u.VAST_MACROS.ERRORCODE,u.VAST_ERRORCODES.VAST_ERRORCODE_901)}))},p.prototype.demandError=function(t,e){this.fireErrorPixels(),this.vidIODemandError(t,e)},p.prototype.getOptions=function(t){return null!==this.vast_.ortb_detail?(0,s.default)(t,this.vast_.ortb_detail):t},p.prototype.vidIODemandError=function(t,e){this.callVidIOEvent_(u.VID_IO_EVENTS.js_demand_error,this.demandTag_,this.getOptions({cc_i:this.demandTag_.callChain.getCallChainIndices(this.historyManager_.demand_events.error,!0).join(","),response_time:this.timeoutManager_.getResponseTime(this.demandTag_.waterfallIdx),reason:t,timeout:e,creative_type:this.creativeType_}),null)},p.prototype.load=function(){try{var t=this,e={AdParameters:this.vast_.adParameters};if(this.vast_.hasPlayableMedia)this.creativeType_=u.CREATIVE_TYPES.MEDIA;else if(null!==this.vast_.jsVpaidUrl)this.creativeType_=u.CREATIVE_TYPES.JS_VPAID;else if(null!==this.vast_.flashVpaidUrl)this.creativeType_=u.CREATIVE_TYPES.FLASH_VPAID;else{if(!(this.vast_.xFlvMedia.length>0))return void t.demandError(u.VD_ERROR_CODES.VAST_LOGIC_ERROR,!1);this.creativeType_=u.CREATIVE_TYPES.XFLV}if(this.callVidIOEvent_(u.VID_IO_EVENTS.js_demand_opportunity,this.demandTag_,this.getOptions({cc_i:this.demandTag_.callChain.getCallChainIndices(this.historyManager_.demand_events.opportunity,!0).join(","),response_time:this.timeoutManager_.getResponseTime(this.demandTag_.waterfallIdx),creative_type:this.creativeType_}),null),this.creativeType_===u.CREATIVE_TYPES.MEDIA)try{var n=new d.default(this.uuid_,this.vast_,this.videoElementManager_);this.addSlotEventListener_(u.ELEMENT_EVENTS.click,function(t){n.adClicked()}),this.begin(e,n,this.initParams_.environmentVars)}catch(t){try{this.stopAd()}catch(t){}this.demandError(u.VD_ERROR_CODES.VAST_WRAPPER_BEGIN_ERROR,!1)}else if(this.creativeType_===u.CREATIVE_TYPES.JS_VPAID){var i=this.timeoutManager_.getTimeoutInfo(this.demandTag_.waterfallIdx,[{timeout:h.default.VPAID_SCRIPT_TIMEOUT,reason:u.VD_ERROR_CODES.VPAID_TIMEOUT}]);l.createIframe(this.uuid_,document,this.manifest_.enableFlashIframe?null:u.ALLOW_SCRIPTS,this.vast_.jsVpaidUrl,i.timeout,function(){t.demandError(i.reason,!0)},function(n){var i=void 0;try{i=n.contentWindow.getVPAIDAd}catch(e){return t.demandError(u.VD_ERROR_CODES.GET_JS_VPAID_AD_ERROR,!1),!1}var r=i&&"function"==typeof i;if(r)try{t.begin(e,i(),t.initParams_.environmentVars)}catch(e){try{t.stopAd()}catch(t){}return t.demandError(u.VD_ERROR_CODES.JS_VPAID_BEGIN_ERROR,!1),!1}else t.demandError(u.VD_ERROR_CODES.SCRIPT_ON_ERROR,!1);return r},function(){t.demandError(u.VD_ERROR_CODES.IFRAME_ON_ERROR,!1)})}else if(this.jsBridgeManager_.isSWFReady_){try{this.jsBridgeManager_.adJsBridge_.load(this.vast_)}catch(t){return void this.demandError(u.VD_ERROR_CODES.JS_VPAID_BRIDGE_LOAD_ERROR,!1)}try{this.begin(e,this.jsBridgeManager_.adJsBridge_,this.initParams_.environmentVars)}catch(t){try{this.stopAd()}catch(t){}this.demandError(u.VD_ERROR_CODES.JS_VPAID_BEGIN_ERROR,!1)}}else if(this.jsBridgeManager_.embedResult_&&!this.jsBridgeManager_.embedResult_.success)this.demandError(u.VD_ERROR_CODES.JS_VPAID_EMBED_FAIL,!1);else{try{t.jsBridgeManager_.subscribeBridgeEvent(function(){},u.BRIDGE_EVENTS.EMBED_SUCCESS,this),this.jsBridgeManager_.subscribeBridgeEvent(function(){try{(0,o.default)(u.BRIDGE_EVENTS,function(e){t.jsBridgeManager_.unsubscribeBridgeEvent(e)})}catch(t){}t.demandError(u.VD_ERROR_CODES.JS_VPAID_EMBED_FAIL,!1)},u.BRIDGE_EVENTS.EMBED_FAIL,this),this.jsBridgeManager_.subscribeBridgeEvent(function(){try{(0,o.default)(u.BRIDGE_EVENTS,function(e){t.jsBridgeManager_.unsubscribeBridgeEvent(e)})}catch(t){}try{t.jsBridgeManager_.adJsBridge_.load(t.vast_)}catch(e){t.demandError(u.VD_ERROR_CODES.JS_VPAID_BRIDGE_LOAD_ERROR,!1)}try{t.begin(e,t.jsBridgeManager_.adJsBridge_,t.initParams_.environmentVars)}catch(e){try{t.stopAd()}catch(t){}t.demandError(u.VD_ERROR_CODES.JS_VPAID_BEGIN_ERROR,!1)}},u.BRIDGE_EVENTS.SWF_IS_READY,this)}catch(e){return void t.demandError(u.VD_ERROR_CODES.JS_VPAID_BRIDGE_SUBSCRIBE_FAIL,!1)}if(null===this.jsBridgeManager_.adJsBridge_)try{this.jsBridgeManager_.create(this.manifest_.secure,this.initParams_.width,this.initParams_.height,this.initParams_.environmentVars.slot)}catch(e){try{t.stopAd()}catch(t){}t.demandError(u.VD_ERROR_CODES.AD_BRIDGE_CREATE_ERROR,!1)}}}catch(t){this.demandError(u.VD_ERROR_CODES.DEMAND_TAG_ERROR,!1)}},p.prototype.begin=function(t,e,n){var i=this.timeoutManager_.getTimeoutInfo(this.demandTag_.waterfallIdx,null);if(i.timeout<=0){try{this.stopAd()}catch(t){}this.demandError(i.reason,!0)}else{this.ad_=e,this.registerVpaidEventListeners_(this.ad_),this.demandTagTimeout_=setTimeout(function(){try{this.stopAd()}catch(t){}this.demandError(i.reason,!0)}.bind(this),i.timeout);try{this.ad_.handshakeVersion(this.handshakeVersion_)}catch(t){try{this.stopAd()}catch(t){}return void this.demandError(u.VD_ERROR_CODES.CHILD_HANDSHAKE_ERROR,!1)}try{this.ad_.initAd(this.initParams_.width,this.initParams_.height,this.initParams_.viewMode,this.initParams_.desiredBitrate,t,n)}catch(t){try{this.stopAd()}catch(t){}return void this.demandError(u.VD_ERROR_CODES.CHILD_INIT_AD_ERROR,!1)}try{this.ad_.setAdVolume(this.getAdVolume())}catch(t){}}},p.prototype.addSlotEventListener_=function(t,e){this.slotListeners_[t]=e,this.initParams_.environmentVars.slot.addEventListener(t,e,!1)},p.prototype.stopAd=function(){var t=this;(0,a.default)(this.slotListeners_,function(e,n){t.initParams_.environmentVars.slot.removeEventListener(n,e)}),_.default.prototype.stopAd.apply(this,c.getArgs(arguments))},p.prototype.maybeInitializeAdVolume=function(){if(!(this.isAdLoaded_||this.isAdImpression_||this.isAdStarted_||this.isAdVideoStart_))try{this.ad_.setAdVolume(this.getAdVolume())}catch(t){try{this.stopAd()}catch(t){this.demandError(u.VD_ERROR_CODES.CHILD_SET_VOLUME_ERROR,!1)}}},p.prototype.onAdLoaded=function(){this.maybeInitializeAdVolume(),_.default.prototype.onAdLoaded.apply(this,c.getArgs(arguments))},p.prototype.onAdStarted=function(){this.maybeInitializeAdVolume(),this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_CREATIVEVIEW,this.vast_.trackingEvents.creativeView),_.default.prototype.onAdStarted.apply(this,c.getArgs(arguments))},p.prototype.onAdVideoStart=function(){this.maybeInitializeAdVolume(),this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_START,this.vast_.trackingEvents.start),_.default.prototype.onAdVideoStart.apply(this,c.getArgs(arguments))},p.prototype.onAdImpression=function(){this.maybeInitializeAdVolume(),this.callVidIOEvent_(u.VID_IO_EVENTS.js_impression,this.demandTag_,this.getOptions({time_on_page:this.timeoutManager_.getTimeOnPage(),response_time:this.timeoutManager_.getResponseTime(this.demandTag_.waterfallIdx),creative_type:this.creativeType_}),null),clearTimeout(this.demandTagTimeout_),this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_IMPRESSION,this.vast_.impressionPixels),_.default.prototype.onAdImpression.apply(this,c.getArgs(arguments))},p.prototype.onAdUserAcceptInvitation=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_ACCEPTINVITATION,this.vast_.trackingEvents.acceptInvitation),this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_ACCEPTINVITATIONLINEAR,this.vast_.trackingEvents.acceptInvitationLinear),_.default.prototype.onAdUserAcceptInvitation.apply(this,c.getArgs(arguments))},p.prototype.onAdUserMinimize=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_COLLAPSE,this.vast_.trackingEvents.collapse),_.default.prototype.onAdUserMinimize.apply(this,c.getArgs(arguments))},p.prototype.onAdUserClose=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_CLOSELINEAR,this.vast_.trackingEvents.closeLinear),_.default.prototype.onAdUserClose.apply(this,c.getArgs(arguments))},p.prototype.onAdClickThru=function(t,e,n){this.callVidIOEvent_(u.VID_IO_EVENTS.js_click,this.demandTag_,this.getOptions({creative_type:this.creativeType_}),null),this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_CLICKTRACKING,this.vast_.clickTracking),_.default.prototype.onAdClickThru.apply(this,c.getArgs(arguments))},p.prototype.onAdVideoFirstQuartile=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_FIRSTQUARTILE,this.vast_.trackingEvents.firstQuartile),this.callVidIOEvent_(u.VID_IO_EVENTS.js_first_quartile,this.demandTag_,this.vast_.ortb_detail||{},null),_.default.prototype.onAdVideoFirstQuartile.apply(this,c.getArgs(arguments))},p.prototype.onAdVideoMidpoint=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_MIDPOINT,this.vast_.trackingEvents.midpoint),this.callVidIOEvent_(u.VID_IO_EVENTS.js_midpoint,this.demandTag_,this.vast_.ortb_detail||{},null),_.default.prototype.onAdVideoMidpoint.apply(this,c.getArgs(arguments))},p.prototype.onAdVideoThirdQuartile=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_THIRDQUARTILE,this.vast_.trackingEvents.thirdQuartile),this.callVidIOEvent_(u.VID_IO_EVENTS.js_third_quartile,this.demandTag_,this.vast_.ortb_detail||{},null),_.default.prototype.onAdVideoThirdQuartile.apply(this,c.getArgs(arguments))},p.prototype.onAdVideoComplete=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_COMPLETE,this.vast_.trackingEvents.complete),this.callVidIOEvent_(u.VID_IO_EVENTS.js_complete,this.demandTag_,this.vast_.ortb_detail||{},null),_.default.prototype.onAdVideoComplete.apply(this,c.getArgs(arguments))},p.prototype.onAdPaused=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_PAUSE,this.vast_.trackingEvents.pause),_.default.prototype.onAdPaused.apply(this,c.getArgs(arguments))},p.prototype.onAdPlaying=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_RESUME,this.vast_.trackingEvents.resume),_.default.prototype.onAdPlaying.apply(this,c.getArgs(arguments))},p.prototype.onAdVolumeChange=function(){0===this.volume_&&this.previousVolume_>0&&this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_MUTE,this.vast_.trackingEvents.mute),this.volume_>0&&0===this.previousVolume_&&this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_UNMUTE,this.vast_.trackingEvents.unmute),_.default.prototype.onAdVolumeChange.apply(this,c.getArgs(arguments))},p.prototype.onAdStopped=function(){_.default.prototype.onAdStopped.call(this),this.isAdImpression_||this.vidIODemandError(u.VD_ERROR_CODES.AD_STOPPED,!1)},p.prototype.onAdSkipped=function(){this.fireVastPixels(u.VAST_PIXEL_TYPES.VAST_SKIP,this.vast_.trackingEvents.skip),_.default.prototype.onAdSkipped.call(this),this.isAdImpression_||this.vidIODemandError(u.VD_ERROR_CODES.AD_SKIPPED,!1)},p.prototype.onAdError=function(t){this.fireErrorPixels();var e=t||u.VD_ERROR_CODES.AD_ERROR;_.default.prototype.onAdError.call(this,e),this.isAdImpression_||this.vidIODemandError(e,!1)},n.default=p},{"../../../timeouts.json":215,"./ad_iframe":181,"./ad_state":190,"./ad_vpaid_video_wrapper":197,"./events":201,"./utils":211,"lodash/extend":134,"lodash/forEach":138,"lodash/map":160}],180:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils")),r=function(t){this.name_="AdEventListener("+t+")",this.uuid_=null,this.instanceId_=i.getCb(),this.playerEventListeners_={},this.logEventListeners_={}};r.prototype.callEvent_=function(t){var e=Array.prototype.slice.call(arguments,1);if(this.playerEventListeners_.hasOwnProperty(t))for(var n=0;n<this.playerEventListeners_[t].length;n++)this.playerEventListeners_[t][n].apply(this.playerEventListeners_[t][n],e)},r.prototype.subscribe=function(t,e,n){this.playerEventListeners_.hasOwnProperty(e)||(this.playerEventListeners_[e]=[]),this.playerEventListeners_[e].push(t.bind(n))},r.prototype.unsubscribe=function(t){this.playerEventListeners_&&this.playerEventListeners_.hasOwnProperty(t)&&(this.playerEventListeners_[t]=[])},r.prototype.callLogEvent_=function(t){var e=Array.prototype.slice.call(arguments,1);if(this.logEventListeners_.hasOwnProperty(t))for(var n=0;n<this.logEventListeners_[t].length;n++)this.logEventListeners_[t][n].apply(this.logEventListeners_[t][n],e)},r.prototype.subscribeLogEvent=function(t,e,n){this.logEventListeners_.hasOwnProperty(e)||(this.logEventListeners_[e]=[]),this.logEventListeners_[e].push(t.bind(n))},r.prototype.unsubscribeLogEvent=function(t){this.logEventListeners_&&this.logEventListeners_.hasOwnProperty(t)&&(this.logEventListeners_[t]=[])},n.default=r},{"./utils":211}],181:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createIframe=void 0;(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t})(t("./utils")),n.createIframe=function(t,e,n,i,r,a,o,s){function _(t){return function(){d||(d=!0,s(l))}}var d=!1,l=e.createElement("iframe");l.id="iframe-"+t,null!==n&&(l.sandbox=n);var u=l.frameElement||l;u.style.border="0px",u.style.width="100%",u.style.height="100%",u.style.position="relative",u.style.overflow="hidden",u.scrolling="no",l.src="javascript:false",e.body.appendChild(l);var c=_(),h=_(),p=_(),f=l.contentWindow,E=f.document;E.open().write("<body onload=\"var js = document.createElement('script');js.src = '"+i+"';js.addEventListener('load', function() { window.onLoadFn(); });js.addEventListener('error', function() { window.onErrorFn(); });js.addEventListener('abort', function() { window.onAbortFn(); });js.addEventListener('beforeunload', function() { window.onBeforeunloadFn(); });document.body.appendChild(js);\">"),f.onLoadFn=function(){d||(d=!0,o(l))},f.onErrorFn=c,f.onAbortFn=h,f.onBeforeunloadFn=p,E.close(),setTimeout(function(){d||(d=!0,a(l))},r)}},{"./utils":211}],182:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function a(t){t.style.margin=0,t.style.padding=0,t.style.border=0,t.style.outline=0,t.style["font-size"]="100%",t.style["vertical-align"]="baseline",t.style.background="transparent"}Object.defineProperty(n,"__esModule",{value:!0});var o=r(t("../lib/swfobjectdoc")),s=r(t("../../../flash_config.json")),_=i(t("./utils")),d=i(t("./events")),l=r(t("./ad_vpaid")),u=!1;window.addEventListener("load",function(t){u=!0});var c=function(t,e,n,i,r,c,h,p){l.default.call(this,"AdJsBridge",function(t){if(t.success)return t.data;throw new Error(t.exception)}),this.uuid_=t,this.slot_=c;var f=this,E=_.getDocumentAndWindow(this.slot_);E.window.isReady=function(){return u=u||"complete"===E.document.readyState},E.window.forward=function(t,e){var n="on"+t;f[n]&&"function"==typeof f[n]&&(e&&e.hasOwnProperty("message")?f[n](e.message):f[n]())},E.window.setSWFIsReady=function(){p()};var A=E.document.createElement("div");A.id=d.FLASH_DIV_ID,A.style.width=i+"px",A.style.height=r+"px",a(A),this.slot_.appendChild(A),this.objectDiv_=E.document.createElement("div"),this.objectDiv_.id=d.FLASH_OBJECT_ID,A.appendChild(this.objectDiv_);var R=new o.default(E.document,E.window);R.switchOffAutoHideShow(),R.embedSWF(_.makeUrl(_.getProtocol(e),n,null),this.objectDiv_,"100%","100%",s.default.TARGET_PLAYER,!1,{uuid:t},{scale:"exactFit",allowscriptaccess:"always",allowfullscreen:"true",menu:"false",bgcolor:"#000000"},{bgcolor:"#000000",style:"left: 0; right: 0; top: 0; bottom: 0; display: block; position: absolute; margin:0; padding:0; border:0; outline:0; font-size:100%; vertical-align:baseline; background:transparent;"},function(t){if(t.success)try{f.ad_=E.document.getElementById(d.FLASH_OBJECT_ID)}catch(t){}h(t)})};(c.prototype=Object.create(l.default.prototype)).load=function(t){if(this.ad_){var e=0===t.xFlvMedia.length?null:t.xFlvMedia[0].url;this.ad_.load(t.flashVpaidUrl,e,t.duration)}},c.prototype.handshakeVersion=function(t){if(l.default.prototype.handshakeVersion.apply(this,_.getArgs(arguments)),this.ad_)return this.ad_.handshakeVersion(this.handshakeVersion_)},c.prototype.initAd=function(t,e,n,i,r,a){l.default.prototype.initAd.apply(this,_.getArgs(arguments)),this.changeDisplay(!0),this.ad_&&this.ad_.initAd(t,e,n,i,r.AdParameters,"")},c.prototype.stopAd=function(t,e){this.changeDisplay(!1),l.default.prototype.stopAd.apply(this,_.getArgs(arguments))},c.prototype.skipAd=function(){this.changeDisplay(!1),l.default.prototype.skipAd.apply(this,_.getArgs(arguments))},c.prototype.onAdStopped=function(t){this.changeDisplay(!1),l.default.prototype.onAdStopped.apply(this,_.getArgs(arguments))},c.prototype.onAdSkipped=function(t){this.changeDisplay(!1),l.default.prototype.onAdSkipped.apply(this,_.getArgs(arguments))},c.prototype.onAdError=function(t){this.changeDisplay(!1),l.default.prototype.onAdError.apply(this,_.getArgs(arguments))},c.prototype.changeDisplay=function(t){var e=_.getDocumentAndWindow(this.slot_).document.getElementById(d.FLASH_OBJECT_ID);t?(this.callLogEvent_(d.LOG_EVENTS.BRIDGE_SHOW),e.style.visibility="visible"):(this.callLogEvent_(d.LOG_EVENTS.BRIDGE_HIDE),e.style.visibility="hidden")},n.default=c},{"../../../flash_config.json":1,"../lib/swfobjectdoc":175,"./ad_vpaid":196,"./events":201,"./utils":211}],183:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(n,"__esModule",{value:!0});var r=i(t("./events")),a=(i(t("./utils")),function(t){return t&&t.__esModule?t:{default:t}}(t("./ad_js_bridge"))),o=function(t,e){this.uuid_=t,this.bridge_url_=e,this.embedResult_=null,this.isSWFReady_=!1,this.adJsBridge_=null,this.bridgeEventListeners_={}};o.prototype.callBridgeEvent_=function(t){var e=Array.prototype.slice.call(arguments,1);if(this.bridgeEventListeners_.hasOwnProperty(t))for(var n=0;n<this.bridgeEventListeners_[t].length;n++)this.bridgeEventListeners_[t][n].apply(this.bridgeEventListeners_[t][n],e)},o.prototype.subscribeBridgeEvent=function(t,e,n){this.bridgeEventListeners_.hasOwnProperty(e)||(this.bridgeEventListeners_[e]=[]),this.bridgeEventListeners_[e].push(t.bind(n))},o.prototype.unsubscribeBridgeEvent=function(t){this.bridgeEventListeners_&&this.bridgeEventListeners_.hasOwnProperty(t)&&(this.bridgeEventListeners_[t]=[])},o.prototype.create=function(t,e,n,i){var o=this;this.adJsBridge_=new a.default(this.uuid_,t,this.bridge_url_,e,n,i,function(t){o.embedResult_=t,t.success?o.callBridgeEvent_(r.BRIDGE_EVENTS.EMBED_SUCCESS):o.callBridgeEvent_(r.BRIDGE_EVENTS.EMBED_FAIL)},function(){o.isSWFReady_=!0,o.callBridgeEvent_(r.BRIDGE_EVENTS.SWF_IS_READY)})},n.default=o},{"./ad_js_bridge":182,"./events":201,"./utils":211}],184:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(t("./ad_vd")),a=i(t("./broadcast_queue")),o=function(t,e,n,i,a,o,s,_,d,l){r.default.call(this,"AdLoader"),this.uuid_=t,this.timeoutManager_=e,this.endpoint_=o,this.videoElementManager_=i,this.isDomainMatch_=a,this.manifest_=n,this.domain_match_=s,this.sscResultManager_=_,this.initParams_=d,this.historyManager_=l,this.adContainers=[]};(o.prototype=Object.create(r.default.prototype)).load=function(){this.adContainers=this.createQueues_()},o.prototype.createQueues_=function(){for(var t=[],e=0;e<this.manifest_.dj.length;e++){var n=new a.default;n.initialize(this.historyManager_,this.timeoutManager_,this.manifest_.timeout,this.manifest_.secure,this.callVidIOEvent_.bind(this),this.endpoint_,this.manifest_.dj[e],this.callLogEvent_.bind(this),this.videoElementManager_,this.manifest_,this.isDomainMatch_,this.domain_match_,this.sscResultManager_,this.initParams_),t.push(n)}return t},n.default=o},{"./ad_vd":194,"./broadcast_queue":198}],185:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getLocation=function(){function t(t){try{return new URL(t).hostname}catch(n){try{var e=new RegExp("(?:https?://)?(?:w+:/)?[^:?#/s]*?([^.s]+.(?:[a-z]{2,}|co.uk|org.uk|ac.uk|org.au|com.au))(?:[:?#/]|$)","gi").exec(t);return e?e[1]:null}catch(t){return null}}}var e=null,n=null,i=null,r=null,a=null,o=null,s=null,_=null,d=null,l=null,u=null,c=null,h=[],p=[],f=null,E=null,A=null,R=null,S=null,v=-1,I=-1;try{e=window.location.href}catch(t){}try{n=window.top.location.href}catch(t){}try{i=window.location.hostname}catch(t){}try{r=window.top.location.hostname}catch(t){}try{a=window.location.origin}catch(t){}try{o=window.top.location.origin}catch(t){}try{_=t(s=document.referrer)}catch(t){}try{d=[],l=[];for(var g=0;g<window.location.ancestorOrigins.length;g++){var O=window.location.ancestorOrigins[g];d.push(O),l.push(t(O))}}catch(t){}null!==d&&d.length>0&&(u=d[d.length-1]),null!==l&&l.length>0&&(c=l[l.length-1]);try{var m=window;v=0;do{try{h.push({url:window.location.href}),E=window.location.href}catch(t){h.push({error:t})}try{p.push({url:window.location.hostname}),f=window.location.hostname,I=v+1}catch(t){p.push({error:t})}m=m.parent,v++}while(m!==window.top&&m!==m.parent&&v<50)}catch(t){}return null!==c&&""!==c?(R=c,S="d_wla"):null!==r&&""!==r?(R=r,S="d_wtl"):v<=1?null!==i&&""!==i&&(R=i,S="d_wl"):2===v||I<=2?null!==_&&""!==_?(R=_,S="d_r"):null!==i&&""!==i&&(R=i,S="d_wl"):null!==f&&""!==f?(R=f,S="d_p"+I):null!==_&&""!==_?(R=_,S="d_r"):null!==i&&""!==i&&(R=i,S="d_wl"),null!==n&&""!==n?A=n:v<=1?null!==e&&""!==e&&(A=e):2===v||I<=2?null!==s&&""!==s?A=s:null!==e&&""!==e&&(A=e):null!==E&&""!==E?A=E:null!==s&&""!==s?A=s:null!==e&&""!==e&&(A=e),null===A&&null!==u&&""!==u&&(A=u),{window__location__href:e,window__top__location__href:n,window__location__hostname:i,window__top__location__hostname:r,window__location__origin:a,window__top__location__origin:o,document__referrer:s,document__referrer___hostname:_,window__location__ancestorOrigins:d,window__location__ancestorOrigins__hostnames:l,topAncestorOrigin:u,topAncestorOriginHostname:c,parents:h,parent_hostnames:p,topParentDomain:f,topParent:E,url:A,domain_match:R,domain_match_source:S}}},{}],186:[function(t,e,n){(function(n){"use strict";function i(){return new r.AdController("vid.springserve.com","vid-io.springserve.com/vd/i","cdn.springserve.com/vd/jenkins_vd_bridge_45cca4f6_0.2.93.2.swf","true","0.2.93.2")}var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./ad_controller"));e.exports=i,n.getVPAIDAd=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad_controller":178}],187:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function a(t){return t.hasOwnProperty("to")&&t.to>0?t.to:c.NO_TIMEOUT}Object.defineProperty(n,"__esModule",{value:!0}),n.getTimeoutFromObj=n.parse=n.getPixelUrlsByEvent=void 0;var o=r(t("lodash/defaults")),s=r(t("lodash/isObject")),_=r(t("lodash/isArray")),d=r(t("lodash/isBoolean")),l=r(t("lodash/isString")),u=r(t("lodash/isInteger")),c=i(t("./events")),h=r(t("./call_chain")),p=i(t("./ssc_util")),f=r(t("./ssc_result"));n.getPixelUrlsByEvent=function(t,e){return t.hasOwnProperty("pixels")&&null!==t.pixels&&t.pixels.hasOwnProperty(e)?t.pixels[e]:null},n.parse=function(t){if(t.hasOwnProperty("passthru")&&!(0,s.default)(t.passthru))throw new Error(c.MANIFEST_PARSE_ERRORS.PASSTHRU,t.passthru);if(t.hasOwnProperty("urlparams")&&!(0,s.default)(t.urlparams))throw new Error(c.MANIFEST_PARSE_ERRORS.URLPARAMS,t.urlparams);if(t.hasOwnProperty("pixels")&&null!==t.pixels){if(!(0,s.default)(t.pixels))throw new Error(c.MANIFEST_PARSE_ERRORS.PIXELS_OBJECT,t.pixels);var e=t.pixels;for(var n in e)if(e.hasOwnProperty(n)){if(!c.MANIFEST_PIXEL_EVENTS.hasOwnProperty(n))throw new Error(c.MANIFEST_PARSE_ERRORS.PIXELS_INVALID_EVENT,n);if(!(0,_.default)(e[n]))throw new Error(c.MANIFEST_PARSE_ERRORS.PIXELS_ARRAY,e[n]);for(var i=e[n],r=0;r<i.length;r++)if(!(0,l.default)(i[r]))throw new Error(c.MANIFEST_PARSE_ERRORS.PIXELS_URL,i[r])}}if(t.hasOwnProperty("td")&&!(0,d.default)(t.td))throw new Error(c.MANIFEST_PARSE_ERRORS.TD,t.td);if(t.hasOwnProperty("ts")&&!(0,d.default)(t.ts))throw new Error(c.MANIFEST_PARSE_ERRORS.TS,t.ts);if(t.hasOwnProperty("ssc_pv")&&!(0,l.default)(t.ssc_pv))throw new Error(c.MANIFEST_PARSE_ERRORS.SSC_PV,t.ssc_pv);if(t.hasOwnProperty("ssc_to")&&!(0,u.default)(t.ssc_to))throw new Error(c.MANIFEST_PARSE_ERRORS.SSC_TO,t.ssc_to);var E=void 0;t.hasOwnProperty("ssc_pv")&&(E=t.ssc_pv);var A=c.SSC_TO.UNKNOWN;t.hasOwnProperty("ssc_to")&&(A=t.ssc_to);var R=null;if(p.isReported(E,A)&&(R=new f.default(E,A,p.isValid(E,A),c.SSC_NOT_BLOCKED)),!t.hasOwnProperty("uuid")||!(0,l.default)(t.uuid))throw new Error(c.MANIFEST_PARSE_ERRORS.UUID,t.uuid);if(!t.hasOwnProperty("ssid")||!(0,l.default)(t.ssid))throw new Error(c.MANIFEST_PARSE_ERRORS.SSID,t.ssid);if(!t.hasOwnProperty("secure")||!(0,d.default)(t.secure))throw new Error(c.MANIFEST_PARSE_ERRORS.SECURE,t.secure);if(!t.hasOwnProperty("aid")||!(0,u.default)(t.aid))throw new Error(c.MANIFEST_PARSE_ERRORS.AID,t.aid);if(!t.hasOwnProperty("country")||!(0,l.default)(t.country))throw new Error(c.MANIFEST_PARSE_ERRORS.COUNTRY,t.country);if(t.hasOwnProperty("pimps")&&!(0,s.default)(t.pimps))throw new Error(c.MANIFEST_PARSE_ERRORS.PIMPS,t.pimps);var S=(0,o.default)({timeout:a(t),numWaterfalls:t.dj.length,sscResult:R},t,{pixels:null,ef:!1,td:!1,ts:!1,urlparams:null,passthru:null,pimps:{}});S.enableFlashIframe=!0,S.dj=[];for(var v=0;v<t.dj.length;v++){S.dj.push([]);for(var I=0;I<t.dj[v].length;I++){var g=t.dj[v][I];if(!g.hasOwnProperty("a_cc")||!(0,l.default)(g.a_cc))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_A_CC,g.a_cc);var O=new h.default(g.a_cc),m=null;if(g.hasOwnProperty("ssc_id")){if(!(0,u.default)(g.ssc_id))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_SSC_ID,g.ssc_id);m=new h.default(O.getPreviousCallChain(g.ssc_id,!1))}if(g.hasOwnProperty("td")&&!(0,d.default)(g.td))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_TD,g.td);if(g.hasOwnProperty("ts")&&!(0,d.default)(g.ts))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_TS,g.ts);if(g.hasOwnProperty("pixels")&&null!==g.pixels){if(!(0,s.default)(g.pixels))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_OBJECT,g.pixels);var T=g.pixels;for(var y in T)if(T.hasOwnProperty(y)){if(!c.VPAID_EVENTS.hasOwnProperty(y))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_VPAID_EVENT,y);if(!(0,_.default)(T[y]))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_ARRAY,T[y]);for(var P=T[y],V=0;V<P.length;V++)if(!(0,l.default)(P[V]))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_URL,P[V])}}S.dj[v].push((0,o.default)({waterfallIdx:v,timeout:a(g),callChain:O,predecessorCallChain:m},g,{ssc_id:c.SSC_NO_ID,ssc_uid:null,td:!1,ts:!1,pixels:null}))}}return S};n.getTimeoutFromObj=a},{"./call_chain":199,"./events":201,"./ssc_result":207,"./ssc_util":209,"lodash/defaults":132,"lodash/isArray":144,"lodash/isBoolean":146,"lodash/isInteger":149,"lodash/isObject":152,"lodash/isString":154}],188:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.getPixelParams=void 0;r(t("lodash/map"));var a=r(t("lodash/now")),o=r(t("lodash/isInteger")),s=r(t("lodash/isNull")),_=i(t("./events")),d=i(t("./utils"));n.getPixelParams=function(t,e,n,i,r,l,u,c,h,p,f,E){var A={};A[_.VID_IO_PARAMS.instanceId]=n,A[_.VID_IO_PARAMS.event]=h;for(var R in f)f.hasOwnProperty(R)&&(A[R]=f[R]);if((0,s.default)(p)||(A[_.VID_IO_PARAMS.auctionCallChain]=p.a_cc,A[_.VID_IO_PARAMS.dtidx]=p.waterfallIdx+1),A[_.VID_IO_PARAMS.yh_id]=17,A[_.VID_IO_PARAMS.platform]="js",A[_.VID_IO_PARAMS.bv]=e,A[_.VID_IO_PARAMS.cb]=d.getCb(),A[_.VID_IO_PARAMS.timestamp]=(0,a.default)(),((0,o.default)(E)||!(0,s.default)(l)&&(0,o.default)(l.supplyTagId))&&(A[_.VID_IO_PARAMS.id]=(0,o.default)(E)?E:l.supplyTagId),!(0,s.default)(l)&&((0,o.default)(E)||(A[_.VID_IO_PARAMS.aid]=l.aid),A[_.VID_IO_PARAMS.d]=l.domain,A[_.VID_IO_PARAMS.w]=l.width,A[_.VID_IO_PARAMS.h]=l.height,A[_.VID_IO_PARAMS.cc]=l.country,A[_.VID_IO_PARAMS.v]=l.v,A[_.VID_IO_PARAMS.uuid]=l.uuid,A[_.VID_IO_PARAMS.dtnum]=l.numWaterfalls,l.hasOwnProperty("passthru")))for(var S in l.passthru)l.passthru.hasOwnProperty(S)&&(A[S]=l.passthru[S]);return!(0,s.default)(p)&&p.hasOwnProperty("ol")&&p.ol>0?A[_.VID_IO_PARAMS.ol]=p.ol:!(0,s.default)(l)&&l.ol>0&&(A[_.VID_IO_PARAMS.ol]=l.ol),!(0,s.default)(l)&&l.ov>0&&(A[_.VID_IO_PARAMS.ov]=l.ov),A[_.VID_IO_PARAMS.vpaidWidth]=u,A[_.VID_IO_PARAMS.vpaidHeight]=c,A[_.VID_IO_PARAMS.domain_match]=i.domain_match,A[_.VID_IO_PARAMS.domain_match_source]=i.domain_match_source,(0,s.default)(r)||((0,s.default)(r.clientWidth)||(0,s.default)(r.clientHeight)?(A[_.VID_IO_PARAMS.detected_size_width]=u,A[_.VID_IO_PARAMS.detected_size_height]=c,A[_.VID_IO_PARAMS.detected_size_match_source]="vpaid"):(A[_.VID_IO_PARAMS.detected_size_width]=r.clientWidth,A[_.VID_IO_PARAMS.detected_size_height]=r.clientHeight,A[_.VID_IO_PARAMS.detected_size_match_source]="client")),A}},{"./events":201,"./utils":211,"lodash/isInteger":149,"lodash/isNull":151,"lodash/map":160,"lodash/now":163}],189:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(n,"__esModule",{value:!0});var a=r(t("./events")),o=r(t("./utils")),s=i(t("./ad_state")),_=i(t("./ad_demand_request")),d=i(t("./ad_js_bridge_manager")),l=i(t("../../../timeouts.json")),u=function(t,e,n,i,r,a){s.default.call(this,"AdProcessor",t.uuid,e,n,t.timeout),this.adUnits=[],this.currentWaterfallIndex_=-1,this.manifest_=t,this.jsBridgeManager_=new d.default(this.manifest_.uuid,i),this.videoElementManager_=r,this.historyManager_=a};(u.prototype=Object.create(s.default.prototype)).setAdUnits=function(t){this.adUnits=t},u.prototype.processAds=function(){this.isAdDead_||(this.currentWaterfallIndex_++,this.currentWaterfallIndex_>=this.adUnits.length?(this.ad_&&(this.unregisterVpaidEventListeners_(this.ad_),this.unregisterVidIOEventListeners_(this.ad_)),this.supplyError(a.VD_ERROR_CODES.NO_FILL,!1),setTimeout(function(){this.callEvent_(a.VPAID_EVENTS.AdError,a.VD_ERROR_CODES.NO_FILL)}.bind(this),l.default.SUPPLY_ERROR_PIXEL_TIMEOUT)):this.adUnits[this.currentWaterfallIndex_].load(this.selectAdFromBroadcast_.bind(this)))},u.prototype.selectAdFromBroadcast_=function(t){if(0===t.length)this.processAds();else{var e=t[0];this.ad_&&(this.unregisterVpaidEventListeners_(this.ad_),this.unregisterVidIOEventListeners_(this.ad_)),this.ad_=new _.default(this.manifest_,this.timeoutManager_,this.initParams_,e.demandTag_,e.vast_,this.jsBridgeManager_,this.videoElementManager_,this.historyManager_),this.registerVpaidEventListeners_(this.ad_),this.registerVidIOEventListeners_(this.ad_),this.ad_.load()}},u.prototype.on_js_demand_error=function(){s.default.prototype.on_js_demand_error.apply(this,o.getArgs(arguments)),this.processAds()},u.prototype.supplyError=function(t,e){this.callVidIOEvent_(a.VID_IO_EVENTS.js_supply_error,null,{on_page_time:this.timeoutManager_.getTimeOnPage(),reason:t,timeout:e},null)},u.prototype.stopAd=function(){this.isAdImpression_||this.supplyError(a.VD_ERROR_CODES.STOP_AD_CALLED,!0),setTimeout(function(){s.default.prototype.stopAd.apply(this,o.getArgs(arguments))}.bind(this),l.default.SUPPLY_ERROR_PIXEL_TIMEOUT)},u.prototype.skipAd=function(){this.isAdImpression_||this.supplyError(a.VD_ERROR_CODES.SKIP_AD_CALLED,!0),setTimeout(function(){s.default.prototype.skipAd.apply(this,o.getArgs(arguments))}.bind(this),l.default.SUPPLY_ERROR_PIXEL_TIMEOUT)},u.prototype.onAdLoaded=function(){this.isStartAd_&&this.ad_&&!this.ad_.isStartAd_&&this.ad_.startAd(),s.default.prototype.onAdLoaded.apply(this,o.getArgs(arguments))},u.prototype.onAdSkipped=function(){this.isAdImpression_&&s.default.prototype.onAdSkipped.call(this)},u.prototype.onAdStopped=function(){this.isAdImpression_&&s.default.prototype.onAdStopped.call(this)},u.prototype.onAdError=function(t){this.isAdImpression_&&s.default.prototype.onAdError.call(this,t||a.VD_ERROR_CODES.PLAY_ERROR)},n.default=u},{"../../../timeouts.json":215,"./ad_demand_request":179,"./ad_js_bridge_manager":183,"./ad_state":190,"./events":201,"./utils":211}],190:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils")),r=function(t){return t&&t.__esModule?t:{default:t}}(t("./ad_vd")),a=function(t,e,n,i,a){r.default.call(this,"AdState("+t+")"),this.uuid_=e,this.timeoutManager_=n,this.initParams_=i,this.supplyTagTimeout_=a,this.isAdLoaded_=!1,this.isStartAd_=!1,this.isAdStarted_=!1,this.isAdVideoStart_=!1,this.isAdImpression_=!1,this.isDeadAd_=!1,this.isAdDead_=!1};(a.prototype=Object.create(r.default.prototype)).startAd=function(){this.isStartAd_=!0,r.default.prototype.startAd.apply(this,i.getArgs(arguments))},a.prototype.stopAd=function(t,e){this.isDeadAd_=!0,r.default.prototype.stopAd.apply(this,i.getArgs(arguments))},a.prototype.skipAd=function(){this.isDeadAd_=!0,r.default.prototype.skipAd.apply(this,i.getArgs(arguments))},a.prototype.onAdLoaded=function(){this.isAdLoaded_=!0,r.default.prototype.onAdLoaded.apply(this,i.getArgs(arguments))},a.prototype.onAdStarted=function(){this.isAdStarted_=!0,r.default.prototype.onAdStarted.apply(this,i.getArgs(arguments))},a.prototype.onAdVideoStart=function(){this.isAdVideoStart_=!0,r.default.prototype.onAdVideoStart.apply(this,i.getArgs(arguments))},a.prototype.onAdImpression=function(){this.isAdImpression_=!0,r.default.prototype.onAdImpression.apply(this,i.getArgs(arguments))},a.prototype.onAdStopped=function(){this.isAdDead_=!0,r.default.prototype.onAdStopped.apply(this,i.getArgs(arguments))},a.prototype.onAdSkipped=function(){this.isAdDead_=!0,r.default.prototype.onAdSkipped.apply(this,i.getArgs(arguments))},a.prototype.onAdError=function(t){this.isAdDead_=!0,r.default.prototype.onAdError.apply(this,i.getArgs(arguments))},n.default=a},{"./ad_vd":194,"./utils":211}],191:[function(t,e,n){"use strict";function i(t){for(var e=null,n=0;n<t.length;n++){var i=t[n];(null===e||i.timeout<e.timeout)&&(e=i)}return e}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(t("lodash/mapValues")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./events")),o=function(t){this.now_=t,this.start_=this.now_(),this.supplyTagTimeout_=null,this.manifest_=null,this.response_starts_={},this.dtoTime_=null};o.prototype.setManifest=function(t){this.manifest_=t,this.supplyTagTimeout_=this.manifest_.timeout,this.manifest_.dto&&(this.dtoTime_=(0,r.default)(this.manifest_.dto,function(){return 0}))},o.prototype.getSupplyTagRemaining=function(){return this.supplyTagTimeout_-this.getTimeOnPage()},o.prototype.getTimeOnPage=function(){return this.now_()-this.start_},o.prototype.startResponse=function(t){if(t>0&&null!==this.dtoTime_)for(var e=this.getResponseTime(t-1),n=this.getDtoKeys(t-1),i=0;i<n.length;i++){var r=n[i];this.dtoTime_[r]+=e}this.response_starts_[t]=this.now_()},o.prototype.getRequestTime=function(t){return this.getResponseStart(t)-this.start_},o.prototype.getResponseTime=function(t){return this.now_()-this.getResponseStart(t)},o.prototype.getTimeoutInfo=function(t,e){var n=[];if(n.push({timeout:this.getSupplyTagRemaining(),reason:a.VD_ERROR_CODES.SUPPLY_TAG_TIMEOUT},{timeout:this.getDemandTagRemaining(t),reason:a.VD_ERROR_CODES.DEMAND_PARTNER_TIMEOUT}),null!==this.dtoTime_)for(var r=this.getDtoKeys(t),o=0;o<r.length;o++){var s=r[o];n.push({timeout:this.manifest_.dto[s]-this.dtoTime_[s],reason:a.VD_ERROR_CODES.DTO_TIMEOUT})}return null!==e&&(n=n.concat(e)),i(n)},o.prototype.getResponseStart=function(t){return this.response_starts_[t]},o.prototype.getDemandTag=function(t){return this.manifest_.dj[t][0]},o.prototype.getDemandTagRemaining=function(t){return this.getDemandTag(t).timeout-this.getResponseTime(t)},o.prototype.getDtoKeys=function(t){if(t>=0&&t<this.manifest_.dj.length){for(var e={},n=this.getDemandTag(t).callChain.getCallChainLinks(),i=0;i<n.length;i++){var r=n[i].getDemandTagId();0!==r&&(e[r]=!0)}var a=[];for(var o in this.dtoTime_)this.dtoTime_.hasOwnProperty(o)&&e.hasOwnProperty(o)&&a.push(o);return a}return[]},n.default=o},{"./events":201,"lodash/mapValues":161}],192:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.getVastResponse=n.getVast=n.extendPixels=void 0;var a=r(t("../lib/swfobjectdoc")),o=r(t("lodash/extend")),s=r(t("lodash/mapValues")),_=i(t("./utils")),d=i(t("./events")),l=r(t("./ad_vast_parser")),u=r(t("../../../flash_config.json")),c=n.extendPixels=function(t,e){var n={errorPixels:t.errorPixels.concat(e.errorPixels),impressionPixels:t.impressionPixels.concat(e.impressionPixels),clickTracking:t.clickTracking.concat(e.clickTracking),trackingEvents:{}};return(0,s.default)(t.trackingEvents,function(t,i){n.trackingEvents[i]=[].concat(t,e.trackingEvents[i])}),n},h=n.getVast=function t(e,n,i,r,s,h,p,f,E,A,R,S,v,I,g,O,m,T){var y=_.getRequestMethod(A,I);if(y){var P=y.xhr;P.responseType="document";try{"function"==typeof P.overrideMimeType&&P.overrideMimeType("text/xml")}catch(t){}P.timeout=R.timeout,P.onload=function(){try{if(200!==P.status)return void(y.withCredentials?t(e,n,i,r,s,h,p,f,E,A,R,S,v,!1,g,O,m,T):S(!1,d.VD_ERROR_CODES.BAD_XHR_STATUS+"_"+P.status));var I=null;if(null!==P.responseXML)I=P.responseXML;else if("function"!=typeof P.overrideMimeType&&null!==P.responseText)try{I=(new DOMParser).parseFromString(P.responseText,"application/xml")}catch(t){return void S(!1,d.VD_ERROR_CODES.DOM_PARSER_PARSE_FAILURE)}if(null===I)return void S(!1,d.VD_ERROR_CODES.RESPONSE_XML_NULL);var V=void 0;try{V=new l.default(E,A,I).findVideoAd()}catch(t){return void S(!1,d.VD_ERROR_CODES.FIND_VIDEO_AD_EXCEPTION+"_"+t.message)}var D=void 0;try{D=(0,o.default)({},V,c(m,V))}catch(t){return void S(!1,d.VD_ERROR_CODES.EXTEND_VAST_EXCEPTION+"_"+t.message)}if(null!==D.wrapperUrl)h(D,D.wrapperUrl);else{var C=void 0;try{(C=v.videoSlot)||(C=O.videoSlot_=_.getDocumentAndWindow(v.slot).document.createElement("video"))}catch(t){return void S(!1,d.VD_ERROR_CODES.CREATE_VIDEO_ELEMENT_EXCEPTION+"_"+t.message)}try{D.hasPlayableMedia=!1;for(var L=0;L<D.media.length;L++){var N=D.media[L];if(_.canPlayVideo(C,N.mimetype)){D.hasPlayableMedia=!0;break}}}catch(t){return void S(!1,d.VD_ERROR_CODES.CAN_PLAY_VIDEO_EXCEPTION+"_"+t.message)}try{var b=_.getDocumentAndWindow(v.slot),w={jsVpaid:null!==D.jsVpaidUrl,media:D.media.length>0,playableMedia:D.hasPlayableMedia,flashVpaid:null!==D.flashVpaidUrl,xFlvMedia:D.xFlvMedia.length>0,canPlayFlash:new a.default(b.document,b.window).hasFlashPlayerVersion(u.default.TARGET_PLAYER),flashEnabled:T};if(w.jsVpaid||w.media||w.flashVpaid||w.xFlvMedia)if(w.jsVpaid||w.playableMedia||w.flashEnabled&&w.canPlayFlash&&(w.flashVpaid||w.xFlvMedia)){var M=null!==D.ortb_detail?D.ortb_detail:{};e(d.VID_IO_EVENTS.js_demand_response,r,(0,o.default)({cc_i:r.callChain.getCallChainIndices(n.demand_events.response,!0).join(","),response_time:i.getResponseTime(r.waterfallIdx),wrapper_count:s,has_ad:!0,timeout:!1},w,M)),p(D,f)}else{var x=!w.canPlayFlash&&(w.flashVpaid||w.xFlvMedia),j=w.media&&w.playableMedia,U=[];w.flashEnabled?x&&U.push(d.VD_ERROR_CODES.FLASH_NOT_SUPPORTED):U.push(d.VD_ERROR_CODES.FLASH_DISABLED),j&&U.push(d.VD_ERROR_CODES.UNSUPPORTED_MEDIA),S(!1,U.join("_"),w)}else S(!1,d.VD_ERROR_CODES.EMPTY_VAST)}catch(t){S(!1,d.VD_ERROR_CODES.JS_DEMAND_RESPONSE_EXCEPTION+"_"+t.message)}}}catch(t){S(!1,d.VD_ERROR_CODES.VAST_ONLOAD_EXCEPTION+"_"+t.message)}},P.ontimeout=function(){S(!0,R.reason)},P.onerror=function(){y.withCredentials?t(e,n,i,r,s,h,p,f,E,A,R,S,v,!1,g,O,m,T):S(!1,d.VD_ERROR_CODES.XHR_ERROR)},P.send()}else S(!1,d.VD_ERROR_CODES.NO_XHR)};n.getVastResponse=function(t,e,n,i,r,a,o,s,_,l,u,c,p,f){function E(){return n.getTimeoutInfo(r.waterfallIdx,[{reason:d.VD_ERROR_CODES.VASTS_NO_TIME,timeout:_-n.getResponseTime(r.waterfallIdx)},{reason:d.VD_ERROR_CODES.VAST_TIMEOUT,timeout:s}])}function A(i,a){t(d.VID_IO_EVENTS.js_demand_response,r,{cc_i:r.callChain.getCallChainIndices(e.demand_events.response,!0).join(","),response_time:n.getResponseTime(r.waterfallIdx),wrapper_count:v,has_ad:!1,timeout:i,reason:a}),o()}function R(s,_,d,l){l.timeout<=0?A(!0,l.reason):h(t,e,n,r,s,S,a,o,i,d,l,A,u,!0,c,p,_,f)}function S(t,e){++v>l?A(!1,d.VD_ERROR_CODES.TOO_MANY_WRAPPERS):R(v,t,e,E())}var v=0,I=void 0;try{I=E()}catch(t){return void A(!1,d.VD_ERROR_CODES.AD_VAST_GET_TIMEOUT_INFO_FAIL)}if(I.timeout<=0)A(!0,I.reason);else try{R(v,d.getVastPixels(),r.url,I)}catch(t){A(!1,d.VD_ERROR_CODES.AD_VAST_GV_FAIL+"_"+t.message)}}},{"../../../flash_config.json":1,"../lib/swfobjectdoc":175,"./ad_vast_parser":193,"./events":201,"./utils":211,"lodash/extend":134,"lodash/mapValues":161}],193:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(t("lodash/defaults")),o=r(t("lodash/forEach")),s=r(t("url")),_=i(t("./events")),d=i(t("./utils")),l=i(t("./vast_parser_utils")),u=function(t,e,n){this.endpoint_=t,this.baseUrl_=e,this.vastTag_=n};u.prototype.findVideoAd=function(){var t=(0,a.default)({wrapperUrl:null,duration:null,media:[],jsVpaidUrl:null,flashVpaidUrl:null,xFlvMedia:[],adParameters:"",clickThrough:null,noad:null,companions:"",icons:!1,linear:!1,skipOffset:_.VPAID_CONSTANTS.NOT_IMPLEMENTED,ortb_detail:null},_.getVastPixels()),e=this.vastTag_.getElementsByTagName("Ad"),n=null;if(e.length>0){n=e[0];try{t.impressionPixels=this.getUnorderedUrls("Impression",n)}catch(t){throw new Error(_.VD_ERROR_CODES.VAST_IMPRESSION_PIXELS_ERROR+"_"+t.message)}try{t.errorPixels=this.getUnorderedUrls("Error",n)}catch(t){throw new Error(_.VD_ERROR_CODES.VAST_ERROR_PIXELS_ERROR+"_"+t.message)}}if(d.isBc(this.endpoint_,this.baseUrl_)){var i=null;try{i=this.vastTag_.getElementsByTagName("Extension")}catch(t){throw new Error(_.VD_ERROR_CODES.VAST_ERROR_EXTENSIONS+"_"+t.message)}try{for(var r=0;r<i.length;r++){var o=i[r];o.getAttribute("type")===_.ORTB_DETAIL&&(t.ortb_detail={bf:d.getORtbElement(o,"bf",parseFloat),bp:d.getORtbElement(o,"bp",parseFloat),scode:d.getORtbElement(o,"scode",parseInt),bid_result:d.getORtbElement(o,"bid_result",parseInt),seat_id:d.getORtbElement(o,"seat_id",function(t){return t})})}}catch(t){throw new Error(_.VD_ERROR_CODES.VAST_ERROR_ORTB_DETAIL+"_"+t.message)}}var s=void 0,u=void 0;try{s=l.getFirstElement("Wrapper",this.vastTag_),u=l.getFirstElement("Linear",this.vastTag_)}catch(t){throw new Error(_.VD_ERROR_CODES.VAST_GET_LINEAR_WRAPPER_XML_ERROR+"_"+t.message)}if(null!==s)try{var c=l.getFirstElement("VASTAdTagURI",s);t.wrapperUrl=null!==c?this.getUrl(c.textContent):null,t.impressionPixels=this.getUnorderedUrls("Impression",s),t.errorPixels=this.getUnorderedUrls("Error",s);var h=l.getFirstElement("Linear",s);null!==h&&this.setTrackingEvents(t,h),t.clickTracking=this.getUnorderedUrls("ClickTracking",s)}catch(t){throw new Error(_.VD_ERROR_CODES.VAST_IS_WRAPPER_XML_ERROR+"_"+t.message)}else if(null!==u)try{t.linear=!0;for(var p=u.getElementsByTagName("MediaFile"),f=0;f<p.length;f++){var E=p[f];if(E.hasAttribute("type")){var A=E.getAttribute("type");"video/x-flv"===A?t.xFlvMedia.push(this.getMedia(E)):"application/javascript"===A?t.jsVpaidUrl=this.getUrl(E.textContent):"application/x-shockwave-flash"===A?t.flashVpaidUrl=this.getUrl(E.textContent):0===A.indexOf("video")&&t.media.push(this.getMedia(E))}}var R=l.getFirstElement("AdParameters",u);null!==R&&(t.adParameters=R.textContent);var S=l.getTextFromTagName("Duration",u);if(null!==S){var v=l.parseDuration(S);null!==v&&(t.duration=v)}var I=u.getAttribute("skipOffset");if(null!==I){var g=l.getSkipOffset(I.textContent,t.duration);t.skipOffset=null===g?g:_.VPAID_CONSTANTS.NOT_IMPLEMENTED}this.setTrackingEvents(t,u),t.clickTracking=this.getUnorderedUrls("ClickTracking",u),t.clickThrough=this.getUrlFromTagName("ClickThrough",u)}catch(t){throw new Error(_.VD_ERROR_CODES.VAST_IS_LINEAR_XML_ERROR+"_"+t.message)}else try{t.noad=this.getUrlFromTagName("Error",this.vastTag_)}catch(t){throw new Error(_.VD_ERROR_CODES.VAST_NOAD_XML_ERROR+"_"+t.message)}return t},u.prototype.getMedia=function(t){function e(t){return"true"===t}var n={mimetype:t.getAttribute("type"),url:this.getUrl(t.textContent)},i={delivery:function(t){return t},width:parseInt,height:parseInt,bitrate:parseInt,scalable:e,maintainAspectRatio:e};return(0,o.default)(i,function(e,i){t.hasAttribute(i)&&(n[i]=e(t.getAttribute(i)))}),n},u.prototype.getUrlFromTagName=function(t,e){var n=l.getFirstElement(t,e);return null!==n?this.getUrl(n.textContent):null},u.prototype.getUrl=function(t){var e=t.trim();return e?s.default.format(s.default.resolve(this.baseUrl_,e)):null},u.prototype.setTrackingEvents=function(t,e){for(var n=e.getElementsByTagName("Tracking"),i=0;i<n.length;i++){var r=n[i],a=r.getAttribute("event");if(t.trackingEvents.hasOwnProperty(a)){var o=this.getUrl(r.textContent);o&&t.trackingEvents[a].push(o)}}},u.prototype.getUnorderedUrls=function(t,e){for(var n=[],i=e.getElementsByTagName(t),r=0;r<i.length;r++){var a=this.getUrl(i[r].textContent);null!==a&&n.push(a)}return n},n.default=u},{"./events":201,"./utils":211,"./vast_parser_utils":212,"lodash/defaults":132,"lodash/forEach":138,url:4}],194:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){_.prototype["on_"+t]=function(){var e=o.getArgs(arguments);this.callVidIOEvent_.apply(this,[t].concat(e))}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(t("./events")),o=i(t("./utils")),s=function(t){return t&&t.__esModule?t:{default:t}}(t("./ad_vpaid")),_=function(t){s.default.call(this,"AdVd("+t+")",o.identityWrapper),this.vidIOEventListeners_={};for(var e in a.VID_IO_EVENTS)a.VID_IO_EVENTS.hasOwnProperty(e)&&r(e)};_.prototype=Object.create(s.default.prototype),_.prototype.registerVidIOEventListeners_=function(t){for(var e in a.VID_IO_EVENTS)a.VID_IO_EVENTS.hasOwnProperty(e)&&t.subscribeVidIOEvent(this["on_"+e],e,this)},_.prototype.unregisterVidIOEventListeners_=function(t){for(var e in a.VID_IO_EVENTS)a.VID_IO_EVENTS.hasOwnProperty(e)&&t.unsubscribeVidIOEvent(e)},_.prototype.callVidIOEvent_=function(t,e,n,i){var r=Array.prototype.slice.call(arguments,1);if(this.vidIOEventListeners_.hasOwnProperty(t))for(var a=0;a<this.vidIOEventListeners_[t].length;a++)this.vidIOEventListeners_[t][a].apply(this.vidIOEventListeners_[t][a],r)},_.prototype.subscribeVidIOEvent=function(t,e,n){this.vidIOEventListeners_.hasOwnProperty(e)||(this.vidIOEventListeners_[e]=[]),this.vidIOEventListeners_[e].push(t.bind(n))},_.prototype.unsubscribeVidIOEvent=function(t){this.vidIOEventListeners_.hasOwnProperty(t)&&(this.vidIOEventListeners_[t]=[])},n.default=_},{"./ad_vpaid":196,"./events":201,"./utils":211}],195:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(t){this.uuid_=t,this.videoSlot_=null}},{}],196:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){_.prototype["on"+t]=function(){var e=o.getArgs(arguments);this.callEvent_.apply(this,[t].concat(e))}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(t("./events")),o=i(t("./utils")),s=function(t){return t&&t.__esModule?t:{default:t}}(t("./ad_event_listener")),_=function(t,e){s.default.call(this,"AdVpaid("+t+")"),this.wrapper_=e,this.ad_=null,this.initParams_=null,this.creativeData_=null,this.previousVolume_=a.DEFAULT_VOLUME,this.volume_=a.DEFAULT_VOLUME,this.handshakeVersion_=a.HANDSHAKE_VERSION_2_0;for(var n in a.VPAID_EVENTS)a.VPAID_EVENTS.hasOwnProperty(n)&&r(n)};_.prototype=Object.create(s.default.prototype),_.prototype.handshakeVersion=function(t){try{if(t){var e=""+t;e.length>1&&2===parseInt(e[0])&&(this.handshakeVersion_=e)}}catch(t){}return this.handshakeVersion_},_.prototype.initAd=function(t,e,n,i,r,a){this.initParams_={width:t,height:e,viewMode:n,desiredBitrate:i,environmentVars:a},this.creativeData_=r},_.prototype.resizeAd=function(t,e,n){if(this.initParams_.width=t,this.initParams_.height=e,this.initParams_.viewMode=n,this.ad_)return this.wrapper_(this.ad_.resizeAd(t,e,n))},_.prototype.startAd=function(){this.ad_&&this.wrapper_(this.ad_.startAd())},_.prototype.stopAd=function(t,e){if(this.ad_)return this.wrapper_(this.ad_.stopAd(t,e))},_.prototype.pauseAd=function(){if(this.ad_)return this.wrapper_(this.ad_.pauseAd())},_.prototype.resumeAd=function(){if(this.ad_)return this.wrapper_(this.ad_.resumeAd())},_.prototype.expandAd=function(){if(this.ad_)return this.wrapper_(this.ad_.expandAd())},_.prototype.collapseAd=function(){if(this.ad_)return this.wrapper_(this.ad_.collapseAd())},_.prototype.skipAd=function(){if(this.ad_)return this.wrapper_(this.ad_.skipAd())},_.prototype.getAdVolumeInternal=function(){return null!==this.ad_&&(this.volume_=this.wrapper_(this.ad_.getAdVolume())),this.volume_},_.prototype.getAdVolume=function(){return this.getAdVolumeInternal()},_.prototype.setAdVolumeInternal=function(t){this.previousVolume_=this.volume_,this.volume_=t,this.ad_&&this.wrapper_(this.ad_.setAdVolume(t))},_.prototype.setAdVolume=function(t){this.setAdVolumeInternal(t)},_.prototype.getAdExpanded=function(){return!this.ad_||this.wrapper_(this.ad_.getAdExpanded())},_.prototype.getAdCompanions=function(){return this.ad_?this.wrapper_(this.ad_.getAdCompanions()):""},_.prototype.getAdDuration=function(){return this.ad_?this.wrapper_(this.ad_.getAdDuration()):a.VPAID_CONSTANTS.UNKNOWN},_.prototype.getAdHeight=function(){return this.ad_?this.wrapper_(this.ad_.getAdHeight()):a.VPAID_CONSTANTS.UNKNOWN},_.prototype.getAdViewMode=function(){return this.ad_?this.wrapper_(this.ad_.getAdViewMode()):a.VPAID_CONSTANTS.UNKNOWN},_.prototype.getAdIcons=function(){return!!this.ad_&&this.wrapper_(this.ad_.getAdIcons())},_.prototype.getAdLinear=function(){return!this.ad_||this.wrapper_(this.ad_.getAdLinear())},_.prototype.getAdRemainingTime=function(){return this.ad_?this.wrapper_(this.ad_.getAdRemainingTime()):a.VPAID_CONSTANTS.UNKNOWN},_.prototype.getAdSkippableState=function(){return!!this.ad_&&this.wrapper_(this.ad_.getAdSkippableState())},_.prototype.getAdWidth=function(){return this.ad_?this.wrapper_(this.ad_.getAdWidth()):a.VPAID_CONSTANTS.UNKNOWN},_.prototype.registerVpaidEventListeners_=function(t){for(var e in a.VPAID_EVENTS)a.VPAID_EVENTS.hasOwnProperty(e)&&t.subscribe(this["on"+e],e,this)},_.prototype.unregisterVpaidEventListeners_=function(t){for(var e in a.VPAID_EVENTS)a.VPAID_EVENTS.hasOwnProperty(e)&&t.unsubscribe(e)},n.default=_},{"./ad_event_listener":180,"./events":201,"./utils":211}],197:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(t("lodash/map")),o=i(t("./events")),s=i(t("./utils")),_=r(t("./ad_vpaid")),d=function(t,e,n){_.default.call(this,"VpaidVideoWrapper",s.identityWrapper),this.uuid_=t,this.vast_=e,this.videoElementManager_=n,this.lastQuartileIndex_=0,this.hasPlayedTimeout_=0,this.expanded_=!1,this.isPaused_=!1,this.metaDataLoaded_=!1,this.width_=o.VPAID_CONSTANTS.UNKNOWN,this.height_=o.VPAID_CONSTANTS.UNKNOWN,this.viewMode_=o.VPAID_CONSTANTS.UNKNOWN,this.videoSlotListeners_={},this.clickCounter_=0};(d.prototype=Object.create(_.default.prototype)).initAd=function(t,e,n,i,r,a){_.default.prototype.initAd.apply(this,s.getArgs(arguments));var d=this;this.width_=t,this.height_=e,this.viewMode_=n;try{if(!this.initParams_.environmentVars.hasOwnProperty("videoSlot")||null===this.initParams_.environmentVars.videoSlot){if(null===this.videoElementManager_.videoSlot_)return void this.callFinalEvent_(o.VPAID_EVENTS.AdError,o.VD_ERROR_CODES.CREATE_VIDEO_SLOT_LOGIC_ERROR);this.initParams_.environmentVars.videoSlot=this.videoElementManager_.videoSlot_,this.initParams_.environmentVars.slot.appendChild(this.initParams_.environmentVars.videoSlot)}}catch(t){return void this.callFinalEvent_(o.VPAID_EVENTS.AdError,o.VD_ERROR_CODES.CREATE_VIDEO_SLOT_ERROR)}try{this.volume_=this.initParams_.environmentVars.videoSlot.volume,this.callEvent_(o.VPAID_EVENTS.AdVolumeChange)}catch(t){return void this.callFinalEvent_(o.VPAID_EVENTS.AdError,o.VD_ERROR_CODES.GET_VOLUME_ERROR)}try{this.addVideoSlotEventListener_(o.VIDEO_EVENTS.click,function(t){d.adClicked()})}catch(t){return void this.callFinalEvent_(o.VPAID_EVENTS.AdError,o.VD_ERROR_CODES.ADD_CLICK_LISTENER)}var l=!1;try{for(var u=0;u<this.vast_.media.length;u++){var c=this.vast_.media[u];if(s.canPlayVideo(this.initParams_.environmentVars.videoSlot,c.mimetype)){this.initParams_.environmentVars.videoSlot.setAttribute(o.VIDEO_ATTRIBUTES.src,c.url),this.initParams_.environmentVars.videoSlot.setAttribute(o.VIDEO_ATTRIBUTES.type,c.url),l=!0;break}}}catch(t){return void this.callFinalEvent_(o.VPAID_EVENTS.AdError,o.VD_ERROR_CODES.FOUND_SOURCE_ERROR)}if(l){try{this.initParams_.environmentVars.videoSlot.readyState>this.initParams_.environmentVars.videoSlot.HAVE_METADATA?this.metaDataLoaded_=!0:this.addVideoSlotEventListener_(o.VIDEO_EVENTS.loadedmetadata,this.loadedMetaDataHandler_.bind(this)),this.addVideoSlotEventListener_(o.VIDEO_EVENTS.timeupdate,this.timeUpdateHandler_.bind(this)),this.addVideoSlotEventListener_(o.VIDEO_EVENTS.ended,this.ended.bind(this))}catch(t){return void this.callFinalEvent_(o.VPAID_EVENTS.AdError,o.VD_ERROR_CODES.ADD_EVENT_LISTENERS_ERROR)}this.callEvent_(o.VPAID_EVENTS.AdLoaded)}else this.callFinalEvent_(o.VPAID_EVENTS.AdError,o.VD_ERROR_CODES.NO_SOURCE)},d.prototype.addVideoSlotEventListener_=function(t,e){this.videoSlotListeners_[t]=e,this.initParams_.environmentVars.videoSlot.addEventListener(t,e,!1)},d.prototype.callFinalEvent_=function(){var t=this;(0,a.default)(this.videoSlotListeners_,function(e,n){t.initParams_.environmentVars.videoSlot.removeEventListener(n,e)}),_.default.prototype.callEvent_.apply(this,s.getArgs(arguments))},d.prototype.loadedMetaDataHandler_=function(){this.metaDataLoaded_=!0},d.prototype.timeUpdateHandler_=function(){if(!(this.lastQuartileIndex_>=o.QUARTILE_EVENTS.length))for(var t=100*this.initParams_.environmentVars.videoSlot.currentTime/this.initParams_.environmentVars.videoSlot.duration;t>=o.QUARTILE_EVENTS[this.lastQuartileIndex_].value&&(this.callEvent_(o.QUARTILE_EVENTS[this.lastQuartileIndex_].event),this.lastQuartileIndex_+=1,!(this.lastQuartileIndex_>=o.QUARTILE_EVENTS.length)););},d.prototype.startAd=function(){this.initParams_.environmentVars.videoSlot.play(),this.isPlayingTimer_(),this.callEvent_(o.VPAID_EVENTS.AdStarted)},d.prototype.isPlayingTimer_=function(){this.hasPlayed_()?(this.callEvent_(o.VPAID_EVENTS.AdImpression),this.hasPlayedTimeout_>0&&clearTimeout(this.hasPlayedTimeout_)):this.hasPlayedTimeout_=setTimeout(this.isPlayingTimer_.bind(this),o.RETRY_MS)},d.prototype.hasPlayed_=function(){return this.initParams_.environmentVars.videoSlot.currentTime>0},d.prototype.getAdWidth=function(){return this.width_},d.prototype.getAdHeight=function(){return this.height_},d.prototype.getAdViewMode=function(){return this.viewMode_},d.prototype.getAdRemainingTime=function(){var t=this.getAdDuration();return null!==this.initParams_.environmentVars.videoSlot&&this.initParams_.environmentVars.videoSlot.hasOwnProperty("currentTime")&&null!==this.initParams_.environmentVars.videoSlot.currentTime&&this.initParams_.environmentVars.videoSlot.currentTime>=0?t-Math.max(this.initParams_.environmentVars.videoSlot.currentTime,t):o.VPAID_CONSTANTS.UNKNOWN},d.prototype.getAdDuration=function(){return null!==this.initParams_.environmentVars.videoSlot&&this.initParams_.environmentVars.videoSlot.hasOwnProperty("duration")&&null!==this.initParams_.environmentVars.videoSlot.duration&&this.initParams_.environmentVars.videoSlot.duration>0?this.initParams_.environmentVars.videoSlot.duration:null!==this.vast_.duration?this.vast_.duration:o.VPAID_CONSTANTS.UNKNOWN},d.prototype.getAdCompanions=function(){return this.vast_.companions},d.prototype.getAdIcons=function(){return this.vast_.icons},d.prototype.getAdLinear=function(){return this.vast_.linear},d.prototype.collapseAd=function(){this.expanded_=!1},d.prototype.expandAd=function(){this.expanded_=!0,this.initParams_.environmentVars.videoSlot.requestFullscreen?this.initParams_.environmentVars.videoSlot.requestFullscreen():this.initParams_.environmentVars.videoSlot.msRequestFullscreen?this.initParams_.environmentVars.videoSlot.msRequestFullscreen():this.initParams_.environmentVars.videoSlot.mozRequestFullScreen?this.initParams_.environmentVars.videoSlot.mozRequestFullScreen():this.initParams_.environmentVars.videoSlot.webkitRequestFullscreen&&this.initParams_.environmentVars.videoSlot.webkitRequestFullscreen(),this.callEvent_(o.VPAID_EVENTS.AdExpandedChange)},d.prototype.getAdExpanded=function(){return this.expanded_},d.prototype.getAdSkippableState=function(){return this.vast_.skipOffset===o.VPAID_CONSTANTS.NOT_IMPLEMENTED||this.getAdRemainingTime()<this.vast_.skipOffset},d.prototype.skipAd=function(){this.getAdSkippableState()&&this.callEvent_(o.VPAID_EVENTS.AdSkipped)},d.prototype.getAdVolume=function(){return null!==this.initParams_.environmentVars.videoSlot&&(this.volume_=this.initParams_.environmentVars.videoSlot.volume),this.volume_},d.prototype.setAdVolume=function(t){null!==this.initParams_.environmentVars.videoSlot&&(this.initParams_.environmentVars.videoSlot.volume=t),t!==this.volume_&&(this.volume_=t,this.callEvent_(o.VPAID_EVENTS.AdVolumeChange))},d.prototype.resumeAd=function(){this.isPaused_=!1,this.initParams_.environmentVars.videoSlot.play(),this.callEvent_(o.VPAID_EVENTS.AdPlaying)},d.prototype.pauseAd=function(){this.isPaused_=!0,this.initParams_.environmentVars.videoSlot.pause(),this.callEvent_(o.VPAID_EVENTS.AdPaused)},d.prototype.resizeAd=function(t,e,n){this.width_===t&&this.height_===e&&this.viewMode_===n||(this.width_=t,this.height_=e,this.viewMode_=n,this.callEvent_(o.VPAID_EVENTS.AdSizeChange))},d.prototype.stopAd=function(){var t=this;this.hasPlayedTimeout_>0&&clearTimeout(this.hasPlayedTimeout_),setTimeout(function(){t.callFinalEvent_(o.VPAID_EVENTS.AdStopped)},o.STOP_AD_TIMEOUT)},d.prototype.ended=function(t){this.callEvent_(o.VPAID_EVENTS.AdVideoComplete),this.stopAd(t)},d.prototype.adClicked=function(){this.vast_.clickThrough&&(!1===this.isPaused_?(this.pauseAd(),this.callEvent_(o.VPAID_EVENTS.AdClickThru,this.vast_.clickThrough,"adClickId-"+this.clickCounter_++,!1),window.open(this.vast_.clickThrough,"_blank")):this.resumeAd())},n.default=d},{"./ad_vpaid":196,"./events":201,"./utils":211,"lodash/map":160}],198:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(t("lodash/defaults")),a=i(t("./ad_container")),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils")),s=function(){this.containers_=[],this.loaded_=0,this.totalCount_=0,this.containersLoadedCb_=null};s.prototype.initialize=function(t,e,n,i,r,a,o,s,_,d,l,u,c,h){this.containers_=this.createContainers(t,e,n,i,r,a,o,s,_,d,l,u,c,h)},s.prototype.createContainers=function(t,e,n,i,s,_,d,l,u,c,h,p,f,E){var A=[];this.totalCount_=d.length;for(var R=0;R<d.length;R++){var S=d[R],v=new a.default(t,e,n,s,_,(0,r.default)({url:o.promoteProtocol(S.url,o.getProtocol(i))},S),this,l,u,c,h,p,f,E);A.push(v)}return A},s.prototype.load=function(t){var e=this.containers_;this.containersLoadedCb_=t;for(var n=0;n<e.length;n++)e[n].preInit()},s.prototype.containersLoaded=function(){for(var t=this.containers_,e=[],n=0;n<t.length;n++)t[n].hasAd()&&e.push(t[n]);this.containersLoadedCb_(e)},s.prototype.containerLoaded=function(){this.loaded_++,this.loaded_===this.totalCount_&&this.containersLoaded()},n.default=s},{"./ad_container":177,"./utils":211,"lodash/defaults":132}],199:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(t("./call_chain_link")),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./events")),a=function(t){if(/[^0-9a-z\-_.]/.test(t))throw new Error(r.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN);this._callChainLinks=[];for(var e=t.split(r.CALL_CHAIN_LINK_SEPARATOR),n=0;n<e.length;n++){var a=e[n].split(r.CALL_CHAIN_VARIABLE_SEPARATOR);if(a.length<2)throw new Error(r.CALL_CHAIN_ERRORS.NOT_A_VALID_CALL_CHAIN_LINK);for(var o=0,s=null,_=null,d=null,l=[],u=0;u<a.length;u++){if(2!==(s=a[u].split(r.CALL_CHAIN_VARIABLE_ID_SEPARATOR)).length)throw new Error(r.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_LINK_GENERAL);if(_=s[0],d=parseInt(s[1]),isNaN(d)||0===d)throw new Error(r.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_ID);if(/[^a-z]/.test(_)||_.length<1)throw new Error(r.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_TAG);switch(_){case r.CALL_CHAIN_IDENTIFIERS.SUPPLY:o=d;break;default:l.push({id:d,tag:_})}}if(0===o)throw new Error(r.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_LINK_NO_SUPPLY_TAG);this._callChainLinks.push(new i.default(o,l))}};a.prototype.getCallChainLinks=function(){return this._callChainLinks},a.prototype.getCallChainLinkStrings=function(){for(var t=[],e=0;e<this._callChainLinks.length;e++)t.push(this._callChainLinks[e].toString());return t},a.prototype.getVidIoCallChainLinkStrings=function(){for(var t=[],e=0;e<this._callChainLinks.length;e++)t.push(this._callChainLinks[e].toVidIoString());return t},a.prototype.toString=function(){return this.getCallChainLinkStrings().join(r.CALL_CHAIN_LINK_SEPARATOR)},a.prototype.toVidIoString=function(){return this.getVidIoCallChainLinkStrings().join(r.CALL_CHAIN_LINK_SEPARATOR)},a.prototype.getPreviousCallChain=function(t){for(var e=0;e<this._callChainLinks.length;e++)if(this._callChainLinks[e].getSupplyTagId()===t)return this.getCallChainLinkStrings().slice(0,e).join(r.CALL_CHAIN_LINK_SEPARATOR);throw new Error(r.CALL_CHAIN_ERRORS.NO_SUPPLY_TAG_FOUND)},a.prototype.getCurrentCallChainBySupplyTag=function(t,e){for(var n=0;n<this._callChainLinks.length;n++)if(this._callChainLinks[n].getSupplyTagId()===t){if(e)return this.getCallChainLinkStrings().slice(0,n+1).join(r.CALL_CHAIN_LINK_SEPARATOR);var i=this.getCallChainLinkStrings().slice(0,n).join(r.CALL_CHAIN_LINK_SEPARATOR);return i+(i.length>0?r.CALL_CHAIN_LINK_SEPARATOR:"")+r.CALL_CHAIN_IDENTIFIERS.SUPPLY+r.CALL_CHAIN_VARIABLE_ID_SEPARATOR+t}throw new Error(r.CALL_CHAIN_ERRORS.NO_SUPPLY_TAG_FOUND)},a.prototype.getCallChainIndices=function(t,e){for(var n=[],i=this.getCallChainLinks(),r=i.length,a=0;a<r;a++){var o=this.getCurrentCallChainBySupplyTag(i[a].getSupplyTagId(),!0);(!t.hasOwnProperty(o)||e&&a===r-1)&&(t[o]=!0,n.push(a))}return n},a.prototype.getSupplyTagHistory=function(t){for(var e=[],n=this.getCallChainLinks(),i=0;i<n.length;i++){var r=this.getCurrentCallChainBySupplyTag(n[i].getSupplyTagId(),!1);t.hasOwnProperty(r)||(t[r]=!0,e.push(i))}return e},a.prototype.sendBr=function(t,e){var n=this.getCurrentCallChainBySupplyTag(e,!1),i=!t.hasOwnProperty(n);return i&&(t[n]=!0),i},n.default=a},{"./call_chain_link":200,"./events":201}],200:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(t("lodash/map")),a=i(t("lodash/join")),o=i(t("lodash/find")),s=i(t("lodash/filter")),_=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./events")),d=function(t,e){this._supplyTagId=t,this._otherTags=e};d.prototype.getSupplyTagId=function(){return this._supplyTagId},d.prototype.getDemandTagId=function(){return this.getFirstOtherTagId(_.CALL_CHAIN_IDENTIFIERS.DEMAND)},d.prototype.getOtherTags=function(){return this._otherTags},d.prototype.getFirstOtherTagId=function(t){var e=(0,o.default)(this._otherTags,function(e){return e.tag===t});return e?e.id:0},d.prototype.getString=function(t){var e=[{id:this.getSupplyTagId(),tag:_.CALL_CHAIN_IDENTIFIERS.SUPPLY}].concat(t),n=(0,r.default)(e,function(t){return t.tag+_.CALL_CHAIN_VARIABLE_ID_SEPARATOR+t.id});return(0,a.default)(n,_.CALL_CHAIN_VARIABLE_SEPARATOR)},d.prototype.toString=function(){return this.getString(this.getOtherTags())},d.prototype.toVidIoString=function(){return this.getString((0,s.default)(this.getOtherTags(),function(t){return!_.CALL_CHAIN_IDENTIFIER_BLACKLIST.hasOwnProperty(t.tag)}))},n.default=d},{"./events":201,"lodash/filter":135,"lodash/find":136,"lodash/join":157,"lodash/map":160}],201:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.DEFAULT_DURATION=30,n.NO_TIMEOUT=1e9,n.NO_MAX_WRAPPERS=100,n.HANDSHAKE_VERSION_1_0="1.0",n.HANDSHAKE_VERSION_2_0="2.0",n.MOAT_DUMMY_VALUE=1,n.DIGEST_LENGTH=8,n.DEFAULT_VOLUME=1,n.ALLOW_SCRIPTS="allow-scripts";var i=n.VID_IO_EVENTS={ad_request:"ad_request",js_opportunity:"js_opportunity",js_vpaid_br:"js_vpaid_br",js_demand_request:"js_demand_request",js_demand_response:"js_demand_response",js_demand_opportunity:"js_demand_opportunity",js_demand_error:"js_demand_error",js_demand_missed_opportunity:"js_demand_missed_opportunity",js_impression:"js_impression",js_supply_error:"js_supply_error",js_click:"js_click",js_first_quartile:"js_first_quartile",js_midpoint:"js_midpoint",js_third_quartile:"js_third_quartile",js_complete:"js_complete"},r=(n.PIXEL_MUTEX_EVENTS={js_impression:"js_impression",js_supply_error:"js_supply_error"},n.PIXEL_ONCE_EVENTS={js_click:"js_click",js_first_quartile:"js_first_quartile",js_midpoint:"js_midpoint",js_third_quartile:"js_third_quartile",js_complete:"js_complete"},n.MANIFEST_PARSE_ERRORS={PIMPS:"PIMPS",UUID:"UUID",SECURE:"SECURE",AID:"AID",SUPPLY_TAG_ID:"SUPPLY_TAG_ID",TO:"TO",V:"V",COUNTRY:"COUNTRY",SSID:"SSID",WIDTH:"WIDTH",HEIGHT:"HEIGHT",DOMAIN:"DOMAIN",IMP_PXL:"IMP_PXL",TD:"TD",TS:"TS",URLPARAMS:"URLPARAMS",OL:"OL",OV:"OV",SSC_PV:"SSC_PV",SSC_TO:"SSC_TO",PP:"PP",DF_ARRAY:"DF_ARRAY",DJ_ARRAY:"DJ_ARRAY",BROADCAST_ARRAY:"BROADCAST_ARRAY",WATERFALL_OBJECT:"WATERFALL_OBJECT",WATERFALL_ID:"WATERFALL_ID",WATERFALL_URL:"WATERFALL_URL",WATERFALL_TO:"WATERFALL_TO",WATERFALL_A_CC:"WATERFALL_A_CC",WATERFALL_TD:"WATERFALL_TD",WATERFALL_TS:"WATERFALL_TS",WATERFALL_SSC_F:"WATERFALL_SSC_F",WATERFALL_SSC_ID:"WATERFALL_SSC_ID",WATERFALL_PIXELS_OBJECT:"WATERFALL_PIXELS_OBJECT",WATERFALL_PIXELS_VPAID_EVENT:"WATERFALL_PIXELS_VPAID_EVENT",WATERFALL_PIXELS_ARRAY:"WATERFALL_PIXELS_ARRAY",WATERFALL_PIXELS_URL:"WATERFALL_PIXELS_URL",WATERFALL_CALL_CHAIN:"WATERFALL_CALL_CHAIN",WATERFALL_CALL_CHAIN_2:"WATERFALL_CALL_CHAIN_2",WATERFALL_PREDECESSORS:"WATERFALL_PREDECESSORS",WATERFALL_PREDECESSORS_2:"WATERFALL_PREDECESSORS_2",WATERFALL_OL:"WATERFALL_OL",PASSTHRU:"PASSTHRU",PIXELS_OBJECT:"PIXELS_OBJECT",PIXELS_INVALID_EVENT:"PIXELS_INVALID_EVENT",PIXELS_ARRAY:"PIXELS_ARRAY",PIXELS_URL:"PIXELS_URL"},n.CALL_CHAIN_ERRORS={INVALID_CALL_CHAIN:"INVALID_CALL_CHAIN",INVALID_SUPPLY_DEMAND_PAIR:"INVALID_SUPPLY_DEMAND_PAIR",NO_SUPPLY_TAG_FOUND:"NO_SUPPLY_TAG_FOUND",INVALID_CALL_CHAIN_LINK_GENERAL:"INVALID_CALL_CHAIN_LINK_GENERAL",INVALID_CALL_CHAIN_LINK:"INVALID_CALL_CHAIN_LINK",INVALID_CALL_CHAIN_ID:"INVALID_CALL_CHAIN_ID",INVALID_CALL_CHAIN_TAG:"INVALID_CALL_CHAIN_TAG",INVALID_CALL_CHAIN_LINK_NO_SUPPLY_TAG:"INVALID_CALL_CHAIN_LINK_NO_SUPPLY_TAG",NOT_A_VALID_CALL_CHAIN_LINK:"NOT_A_VALID_CALL_CHAIN_LINK"},n.VD_ERROR_CODES={TIMEOUT_MANAGER_INIT_ERROR:"TIMEOUT_MANAGER_INIT_ERROR",VIDEO_ELEMENT_MANAGER_INIT_ERROR:"VIDEO_ELEMENT_MANAGER_INIT_ERROR",PROCESSOR_INIT_ERROR:"PROCESSOR_INIT_ERROR",SSC_RESULT_MANAGER_INIT_ERROR:"SSC_RESULT_MANAGER_INIT_ERROR",LOADER_INIT_ERROR:"LOADER_INIT_ERROR",INIT_AD_ERROR:"INIT_AD_ERROR",SCRIPT_ON_ERROR:"SCRIPT_ON_ERROR",IFRAME_ON_ERROR:"IFRAME_ON_ERROR",AD_ERROR:"AD_ERROR",JSON_PARSE_ERROR:"JSON_PARSE_ERROR",JSON_PARSE_UNKNOWN_ERROR:"JSON_PARSE_UNKNOWN_ERROR",JSON_PARSE_UNKNOWN_ERROR_2:"JSON_PARSE_UNKNOWN_ERROR_2",MANIFEST_PARSE_ERROR:"MANIFEST_PARSE_ERROR",LOCATION_DATA_PARSE_ERROR:"LOCATION_DATA_PARSE_ERROR",MANIFEST_PARSE_UNKNOWN_ERROR:"MANIFEST_PARSE_UNKNOWN_ERROR",MANIFEST_PARSE_UNKNOWN_ERROR_2:"MANIFEST_PARSE_UNKNOWN_ERROR_2",JSON_RESPONSE_PARSE_ERROR:"JSON_RESPONSE_PARSE_ERROR",JSON_MANIFEST_PARSE_ERROR:"JSON_MANIFEST_PARSE_ERROR",JSON_TIMEOUT:"JSON_TIMEOUT",NO_FILL:"NO_FILL",PLAY_ERROR:"PLAY_ERROR",NO_RESPONSES:"NO_RESPONSES",STOP_AD_CALLED:"STOP_AD_CALLED",SKIP_AD_CALLED:"SKIP_AD_CALLED",NO_SOURCE:"NO_SOURCE",UNKNOWN_REJECTION:"UNKNOWN_REJECTION",VAST_ERROR_EVENT:"VAST_ERROR_EVENT",VPAID_TIMEOUT:"VPAID_TIMEOUT",VIDEO_TIMEOUT:"VIDEO_TIMEOUT",IS_PLAYING_TIMEOUT:"IS_PLAYING_TIMEOUT",NO_XHR:"NO_XHR",BAD_XHR_STATUS:"BAD_XHR_STATUS",FLASH_DISABLED:"FLASH_DISABLED",FLASH_NOT_SUPPORTED:"FLASH_NOT_SUPPORTED",UNSUPPORTED_MEDIA:"UNSUPPORTED_MEDIA",EMPTY_VAST:"EMPTY_VAST",VAST_TIMEOUT:"VAST_TIMEOUT",TOO_MANY_WRAPPERS:"TOO_MANY_WRAPPERS",VASTS_NO_TIME:"VASTS_NO_TIME",AD_STOPPED:"AD_STOPPED",AD_SKIPPED:"AD_SKIPPED",AD_TIMEOUT:"AD_TIMEOUT",XHR_ERROR:"XHR_ERROR",DEMAND_TAG_ERROR:"DEMAND_TAG_ERROR",SUPPLY_TAG_TIMEOUT:"SUPPLY_TAG_TIMEOUT",DEMAND_PARTNER_TIMEOUT:"DEMAND_PARTNER_TIMEOUT",DTO_TIMEOUT:"DTO_TIMEOUT",FLASH_DISPLAY_LOAD_ERROR:"FLASH_DISPLAY_LOAD_ERROR",VAST_LOGIC_ERROR:"VAST_LOGIC_ERROR",CHILD_HANDSHAKE_ERROR:"CHILD_HANDSHAKE_ERROR",CHILD_INIT_AD_ERROR:"CHILD_INIT_AD_ERROR",CHILD_SET_VOLUME_ERROR:"CHILD_SET_VOLUME_ERROR",VAST_WRAPPER_BEGIN_ERROR:"VAST_WRAPPER_BEGIN_ERROR",JS_VPAID_BEGIN_ERROR:"JS_VPAID_BEGIN_ERROR",GET_JS_VPAID_AD_ERROR:"GET_JS_VPAID_AD_ERROR",CREATE_VIDEO_SLOT_ERROR:"CREATE_VIDEO_SLOT_ERROR",GET_VOLUME_ERROR:"GET_VOLUME_ERROR",ADD_CLICK_LISTENER:"ADD_CLICK_LISTENER",FOUND_SOURCE_ERROR:"FOUND_SOURCE_ERROR",ADD_EVENT_LISTENERS_ERROR:"ADD_EVENT_LISTENERS_ERROR",RESPONSE_XML_NULL:"RESPONSE_XML_NULL",DOM_PARSER_PARSE_FAILURE:"RESPONSE_PARSE_FAILURE",JS_VPAID_EMBED_FAIL:"JS_VPAID_EMBED_FAIL",AD_BRIDGE_CREATE_ERROR:"AD_BRIDGE_CREATE_ERROR",JS_VPAID_BRIDGE_LOAD_ERROR:"JS_VPAID_BRIDGE_LOAD_ERROR",JS_VPAID_BRIDGE_SUBSCRIBE_FAIL:"JS_VPAID_BRIDGE_SUBSCRIBE_FAIL",CREATE_VIDEO_SLOT_LOGIC_ERROR:"CREATE_VIDEO_SLOT_LOGIC_ERROR",VAST_IMPRESSION_PIXELS_ERROR:"VAST_IMPRESSION_PIXELS_ERROR",VAST_ERROR_PIXELS_ERROR:"VAST_ERROR_PIXELS_ERROR",VAST_IS_LINEAR_XML_ERROR:"VAST_IS_LINEAR_XML_ERROR",VAST_IS_WRAPPER_XML_ERROR:"VAST_IS_WRAPPER_XML_ERROR",VAST_NOAD_XML_ERROR:"VAST_NOAD_XML_ERROR",VAST_ERROR_ORTB_DETAIL:"VAST_ERROR_ORTB_DETAIL",VAST_ERROR_EXTENSIONS:"VAST_ERROR_EXTENSIONS",FIND_VIDEO_AD_EXCEPTION:"FIND_VIDEO_AD_EXCEPTION",CREATE_VIDEO_ELEMENT_EXCEPTION:"CREATE_VIDEO_ELEMENT_EXCEPTION",CAN_PLAY_VIDEO_EXCEPTION:"CAN_PLAY_VIDEO_EXCEPTION",JS_DEMAND_RESPONSE_EXCEPTION:"JS_DEMAND_RESPONSE_EXCEPTION",VAST_ONLOAD_EXCEPTION:"VAST_ONLOAD_EXCEPTION",EXTEND_VAST_EXCEPTION:"EXTEND_VAST_EXCEPTION",VAST_GET_LINEAR_WRAPPER_XML_ERROR:"VAST_GET_LINEAR_WRAPPER_XML_ERROR",INIT_AD_STATE_INFO_ERROR:"INIT_AD_STATE_INFO_ERROR",INIT_AD_TD_MISMATCH_ERROR:"INIT_AD_TD_MISMATCH_ERROR",INIT_AD_TS_MISMATCH_ERROR:"INIT_AD_TS_MISMATCH_ERROR",INIT_AD_GET_NEW_AD_PARAMETERS_ERROR:"INIT_AD_GET_NEW_AD_PARAMETERS_ERROR",INIT_AD_POST_INIT_ERROR:"INIT_AD_POST_INIT_ERROR",PRE_INIT_STATE_INFO_FAIL:"PRE_INIT_STATE_INFO_FAIL",PRE_INIT_TD_MISMATCH_FAIL:"PRE_INIT_TD_MISMATCH_FAIL",PRE_INIT_TS_MISMATCH_FAIL:"PRE_INIT_TS_MISMATCH_FAIL",PRE_INIT_MISSED_OPPORTUNITY_FAIL:"PRE_INIT_MISSED_OPPORTUNITY_FAIL",POST_INIT_WATERFALL_CHECK_ERROR:"POST_INIT_WATERFALL_CHECK_ERROR",DO_GET_VAST_RESPONSE_START_RESPONSE_FAIL:"DO_GET_VAST_RESPONSE_START_RESPONSE_FAIL",AD_VAST_GET_TIMEOUT_INFO_FAIL:"AD_VAST_GET_TIMEOUT_INFO_FAIL",AD_VAST_GET_OPTIONS_FAIL:"AD_VAST_GET_OPTIONS_FAIL",AD_VAST_GET_CALL_CHAIN_VARS_FAIL:"AD_VAST_GET_CALL_CHAIN_VARS_FAIL",AD_VAST_SEND_AD_REQUEST_FAIL:"AD_VAST_SEND_AD_REQUEST_FAIL",AD_VAST_GV_FAIL:"AD_VAST_GV_FAIL",SSC_NO_XHR:"SSC_NO_XHR",SSC_TIMEOUT:"SSC_TIMEOUT",SSC_BAD_XHR_STATUS:"SSC_BAD_XHR_STATUS",SSC_JSON_PARSE_ERROR:"SSC_JSON_PARSE_ERROR",SSC_RESULT_ERROR:"SSC_RESULT_ERROR",SSC_XHR_ERROR:"SSC_XHR_ERROR",SSC_UNKNOWN_ERROR:"SSC_UNKNOWN_ERROR",SSC_UNKNOWN_ERROR_2:"SSC_UNKNOWN_ERROR_2",SSC_MAKE_DEMAND_REQUEST_ERROR:"SSC_MAKE_DEMAND_REQUEST_ERROR",SSC_MAKE_DEMAND_REQUEST_ERROR_2:"SSC_MAKE_DEMAND_REQUEST_ERROR_2",SSC_JS_VPAID_BR_ERROR:"SSC_JS_VPAID_BR_ERROR",SSC_JS_VPAID_BR_ERROR_2:"SSC_JS_VPAID_BR_ERROR_2",SSC_CALL_LOG_EVENT_ERROR:"SSC_CALL_LOG_EVENT_ERROR"},n.SSC_RESPONSE_PARSE_ERRORS={DATA_V:"DATA_V",DATA_U:"DATA_U",DATA_S:"DATA_S",DATA_R:"DATA_R"},n.VPAID_EVENTS={AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog"});n.MANIFEST_PIXEL_EVENTS={initAd:"initAd"},n.PIXEL_EVENTS={AdStarted:"AdStarted",AdImpression:"AdImpression",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdError:"AdError",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdUserAcceptInvitation:"AdUserAcceptInvitation"},n.VPAID_MUTEX_EVENTS={AdError:"AdError",AdStopped:"AdStopped",AdSkipped:"AdSkipped"},n.VPAID_ONCE_EVENTS={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete"},n.VIDEO_EVENTS={abort:"abort",canplay:"canplay",canplaythrough:"canplaythrough",click:"click",durationchange:"durationchange",emptied:"emptied",ended:"ended",error:"error",loadeddata:"loadeddata",loadedmetadata:"loadedmetadata",loadstart:"loadstart",pause:"pause",play:"play",playing:"playing",progress:"progress",ratechange:"ratechange",suspend:"suspend",seeked:"seeked",seeking:"seeking",timeupdate:"timeupdate",waiting:"waiting"},n.ELEMENT_EVENTS={click:"click"},n.VIDEO_ATTRIBUTES={currentTime:"currentTime",duration:"duration",ended:"ended",paused:"paused",playbackRate:"playbackRate",src:"src",type:"type"},n.VPAID_CONSTANTS={NOT_IMPLEMENTED:-1,UNKNOWN:-2},n.VID_IO_PARAMS={instanceId:"instanceId",event:"event",dtidx:"dtidx",dtnum:"dtnum",yh_id:"yh_id",platform:"platform",bv:"bv",cb:"cb",timestamp:"timestamp",id:"id",aid:"aid",d:"d",w:"w",h:"h",cc:"cc",v:"v",ol:"ol",ov:"ov",uuid:"uuid",auctionCallChain:"a_cc",callChainIndicies:"cc_i",initialStage_notnull:"i_sn",initialStage_w:"i_w",initialStage_h:"i_h",initialStageWidth:"i_sw",initialStageHeight:"i_sh",initialStageDisplayState:"i_sds",initialStateInfoExternalInterface__objectID:"i_E_o",initialStateInfoExternalInterface__available:"i_E_a",initialStateInfoExternalInterface__error__getQualifiedClassName:"i_E_e",initialNo_element:"i_ne",initialOffsetWidth:"i_ow",initialOffsetHeight:"i_oh",initialClientWidth:"i_cw",initialClientHeight:"i_ch",initialScrollWidth:"i_Sw",initialScrollHeight:"i_Sh",initialGetBoundingClientRect__left:"i_bl",initialGetBoundingClientRect__top:"i_bt",initialGetBoundingClientRect__right:"i_br",initialGetBoundingClientRect__bottom:"i_bb",initialVpaidWidth:"vw",initialVpaidHeight:"vh",initialVpaidViewMode:"i_vv",loaderInfo__swfVersion:"l_s",loaderInfo__loaderURL:"l_l",loaderInfo__actionScriptVersion:"l_a",ExternalInterface__available:"E_a",ExternalInterface__error__getQualifiedClassName:"E_e",window__top__location__href:"d_wtlh",window__location__href:"d_wlh",window__top__location:"d_wtl",window__location__ancestorOrigins:"d_wla",Security__pageDomain:"d_Sp",document__referrer:"d_dr",ancestorOrigins:"d_ao",parentHostnames:"d_ph",domain_match:"d_m",domain_match_source:"d_ms",overflow_required:"o_r",overflow_optional:"o_o",overflow_exclude:"o_e",environmentInfoError:"e_e",stage_notnull:"s_sn",stage_w:"s_w",stage_h:"s_h",stageWidth:"s_sw",stageHeight:"s_sh",stageDisplayState:"s_sds",stateInfoExternalInterface__objectID:"s_E_o",stateInfoExternalInterface__available:"s_E_a",stateInfoExternalInterface__error__getQualifiedClassName:"s_E_e",no_element:"s_ne",offsetWidth:"s_ow",offsetHeight:"s_oh",clientWidth:"s_cw",clientHeight:"s_ch",scrollWidth:"s_Sw",scrollHeight:"s_Sh",getBoundingClientRect__left:"s_bl",getBoundingClientRect__top:"s_bt",getBoundingClientRect__right:"s_br",getBoundingClientRect__bottom:"s_bb",vpaidWidth:"s_vw",vpaidHeight:"s_vh",vpaidViewMode:"s_vv",detected_size_width:"ds_w",detected_size_height:"ds_h",detected_size_match_source:"ds_ms"},n.SSC_NOT_BLOCKED=0,n.SSC_NO_ID=0,n.SSC_TO={UNKNOWN:-1,NOT_CALLED:0,TIMEOUT:1,ERROR:2,NON_ERROR:3,OTHER:4},n.NO_PP=-1,n.VIEW_MODE_NORMAL="normal",n.MAX_URL_LENGTH=2e3,n.MAX_URL_LENGTH_IE=2083,n.MAX_URL_LENGTH_APACHE=8190,n.OTHER_PIXEL_PARAMS={response_time:"response_time",reason:"reason",time_on_page:"time_on_page",request_time:"request_time",timeout:"timeout",child_handshake_version:"child_handshake_version",creativeData:"creativeData",location:"location",message:"message"},n.TRACKING_EVENTS={creativeView:[],start:[],firstQuartile:[],midpoint:[],thirdQuartile:[],complete:[],mute:[],unmute:[],pause:[],rewind:[],resume:[],fullscreen:[],exitFullscreen:[],expand:[],collapse:[],acceptInvitationLinear:[],acceptInvitation:[],closeLinear:[],skip:[],progress:[]},n.VAST_ERRORCODES={VAST_ERRORCODE_100:100,VAST_ERRORCODE_101:101,VAST_ERRORCODE_102:102,VAST_ERRORCODE_200:200,VAST_ERRORCODE_201:201,VAST_ERRORCODE_202:202,VAST_ERRORCODE_203:203,VAST_ERRORCODE_300:300,VAST_ERRORCODE_301:301,VAST_ERRORCODE_302:302,VAST_ERRORCODE_303:303,VAST_ERRORCODE_400:400,VAST_ERRORCODE_401:401,VAST_ERRORCODE_402:402,VAST_ERRORCODE_403:403,VAST_ERRORCODE_405:405,VAST_ERRORCODE_500:500,VAST_ERRORCODE_501:501,VAST_ERRORCODE_502:502,VAST_ERRORCODE_503:503,VAST_ERRORCODE_600:600,VAST_ERRORCODE_601:601,VAST_ERRORCODE_602:602,VAST_ERRORCODE_603:603,VAST_ERRORCODE_604:604,VAST_ERRORCODE_900:900,VAST_ERRORCODE_901:901},n.VAST_MACROS={ERRORCODE:"[ERRORCODE]",CACHEBUSTING:"[CACHEBUSTING]"},n.QUARTILE_EVENTS=[{event:r.AdVideoStart,pixel:null,value:0},{event:r.AdVideoFirstQuartile,pixel:i.js_first_quartile,value:25},{event:r.AdVideoMidpoint,pixel:i.js_midpoint,value:50},{event:r.AdVideoThirdQuartile,pixel:i.js_third_quartile,value:75}],n.RETRY_MS=200,n.STOP_AD_TIMEOUT=75,n.PROCESSOR_STATES={begin:0,AdLoaded:1,AdStarted:2,AdStopped:3},n.VOLUME_EVENTS={AdLoaded:!0,AdStarted:!0,AdVideoStart:!0},n.LOG_EVENTS={SSC_INIT:"SSC_INIT",MOAT_INIT:"MOAT_INIT",IAS_INIT:"IAS_INIT",CREATE_VIDEO_SLOT:"CREATE_VIDEO_SLOT",CREATE_VIDEO_SLOT_LOGIC_ERROR:"CREATE_VIDEO_SLOT_LOGIC_ERROR",CREATE_VAST_VIDEO_SLOT:"CREATE_VAST_VIDEO_SLOT",CREATE_VIDEO_SLOT_ERROR:"CREATE_VIDEO_SLOT_ERROR",BRIDGE_SHOW:"BRIDGE_SHOW",BRIDGE_HIDE:"BRIDGE_HIDE",JS_VPAID_SLOT_CLICK:"JS_VPAID_SLOT_CLICK",VPAID_VIDEO_WRAPPER_SLOT_CLICK:"VPAID_VIDEO_WRAPPER_SLOT_CLICK",FLASH_BRIDGE_SLOT_CLICK:"FLASH_BRIDGE_SLOT_CLICK",JS_VPAID_VIDEO_SLOT_CLICK:"JS_VPAID_VIDEO_SLOT_CLICK",SSC_ENDPOINT:"SSC_ENDPOINT",SSC_VALID_EVENT:"SSC_VALID_EVENT",VAST_FIRE_PIXEL:"VAST_FIRE_PIXEL",VAST_FIRE_PIXEL_ERROR:"VAST_FIRE_PIXEL_ERROR"},n.FLASH_DIV_ID="vdDiv",n.FLASH_OBJECT_ID="vdObj",n.BRIDGE_EVENTS={EMBED_SUCCESS:"EMBED_SUCCESS",EMBED_FAIL:"EMBED_FAIL",SWF_IS_READY:"SWF_IS_READY",SWF_IS_READY_TIMEOUT:"SWF_IS_READY_TIMEOUT"},n.CREATIVE_TYPES={MEDIA:"MEDIA",JS_VPAID:"JS_VPAID",XFLV:"XFLV",FLASH_VPAID:"FLASH_VPAID"},n.VAST_PIXEL_TYPES={VAST_ERROR:"VAST_ERROR",VAST_IMPRESSION:"VAST_IMPRESSION",VAST_CLICKTRACKING:"VAST_CLICKTRACKING",VAST_CREATIVEVIEW:"VAST_CREATIVEVIEW",VAST_START:"VAST_START",VAST_FIRSTQUARTILE:"VAST_FIRSTQUARTILE",VAST_MIDPOINT:"VAST_MIDPOINT",VAST_THIRDQUARTILE:"VAST_THIRDQUARTILE",VAST_COMPLETE:"VAST_COMPLETE",VAST_MUTE:"VAST_MUTE",VAST_UNMUTE:"VAST_UNMUTE",VAST_PAUSE:"VAST_PAUSE",VAST_REWIND:"VAST_REWIND",VAST_RESUME:"VAST_RESUME",VAST_FULLSCREEN:"VAST_FULLSCREEN",VAST_EXITFULLSCREEN:"VAST_EXITFULLSCREEN",VAST_EXPAND:"VAST_EXPAND",VAST_COLLAPSE:"VAST_COLLAPSE",VAST_ACCEPTINVITATIONLINEAR:"VAST_ACCEPTINVITATIONLINEAR",VAST_ACCEPTINVITATION:"VAST_ACCEPTINVITATION",VAST_CLOSELINEAR:"VAST_CLOSELINEAR",VAST_SKIP:"VAST_SKIP",VAST_PROGRESS:"VAST_PROGRESS"},n.JSON_PIXEL_PARAMS={url:"url",w:"w",h:"h",declaredDomain:"decl_d",declaredWidth:"decl_w",declaredHeight:"decl_h",detectedDomain:"det_d",detectedWidth:"det_w",detectedHeight:"det_h",fullUrl:"fullUrl",td:"td",ts:"ts",cb:"cb"},n.ERROR_LOG_EVENT="ERROR_LOG_EVENT",n.IAS_EXTRA_PARAMS={aCc:"a_cc",aId:"advId",country:"country",declaredDomain:"decl_d",declaredWidth:"decl_w",declaredHeight:"decl_h",detectedDomain:"det_d",detectedWidth:"det_w",detectedHeight:"det_h",ssId:"ssid"},n.IAS_EVENTS={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError"},n.getVastPixels=function(){return{errorPixels:[],impressionPixels:[],clickTracking:[],trackingEvents:{creativeView:[],start:[],firstQuartile:[],midpoint:[],thirdQuartile:[],complete:[],mute:[],unmute:[],pause:[],rewind:[],resume:[],fullscreen:[],exitFullscreen:[],expand:[],collapse:[],acceptInvitationLinear:[],acceptInvitation:[],closeLinear:[],skip:[],progress:[]}}},n.ORTB_DETAIL="ortb-detail",n.CALL_CHAIN_IDENTIFIERS={SUPPLY:"s",DEMAND:"d",ACCOUNT:"a"},n.CALL_CHAIN_IDENTIFIER_BLACKLIST={sf:!0,a:!0},n.SIZE={S:0,M:350,L:500,UNKNOWN:-1},n.CALL_CHAIN_LINK_SEPARATOR="_",n.CALL_CHAIN_VARIABLE_SEPARATOR="-",n.CALL_CHAIN_VARIABLE_ID_SEPARATOR=".",n.POST_IMP_PROVIDER_ID_IAS="i",n.POST_IMP_PROVIDER_ID_MOAT="m",n.POST_IMP_PROVIDER_ID_WHITEOPS="w"},{}],202:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,e){this.mutexEvents_=t,this.onceEvents_=e,this.sentFinalEvent_=!1,this.sentOnceEvent_={}};i.prototype.sendEventType=function(t){var e=void 0;return this.isMutexEvent(t)?(e=this.sentFinalEvent(),this.sentFinalEvent_=!0,!e):!this.isOnceEvent(t)||(e=this.sentOnceEvent(t),this.sentOnceEvent_[t]=!0,!e)},i.prototype.sentFinalEvent=function(){return this.sentFinalEvent_},i.prototype.sentOnceEvent=function(t){return this.sentOnceEvent_.hasOwnProperty(t)&&this.sentOnceEvent_[t]},i.prototype.isMutexEvent=function(t){return this.mutexEvents_.hasOwnProperty(t)},i.prototype.isOnceEvent=function(t){return this.onceEvents_.hasOwnProperty(t)},n.default=i},{}],203:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.initMoatTracking=function(t,e,n,i,r){return function(t,e,n,i,r){var a=document.createElement("script"),o=[];e={adData:{ids:e,duration:n,url:r},dispatchEvent:function(t){this.sendEvent?(o&&(o.push(t),t=o,o=!1),this.sendEvent(t)):o.push(t)}},n="_moatApi"+Math.floor(1e8*Math.random());var s=void 0,_=void 0;try{s=t.ownerDocument,_=s.defaultView||s.parentWindow}catch(t){s=document,_=window}return _[n]=e,a.type="text/javascript",t&&t.insertBefore(a,t.childNodes[0]||null),a.src="https://z.moatads.com/"+i+"/moatvideo.js#"+n,e}(t,e,n,i,r)}},{}],204:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shouldFire=n.shouldFireLink=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("lodash/indexOf")),r=n.shouldFireLink=function(t,e,n){var r=t.pimps,a=(r.s||{})[n]||[],o=(r.d||{})[n]||[],s=e.getSupplyTagId(),_=e.getDemandTagId();return(0,i.default)(a,s)>-1||(0,i.default)(o,_)>-1};n.shouldFire=function(t,e,n){for(var i=e.callChain.getCallChainLinks(),a=0;a<i.length;a++){var o=i[a];if(r(t,o,n))return!0}return!1}},{"lodash/indexOf":142}],205:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e,n,i,r,o){var _={ai:o,si:e.getSupplyTagId(),sr:e.getDemandTagId(),dm:n+"x"+i,di:t.domain,c1:r,ui:t.ssid,r1:e.toString(),ti:t.uuid,gt:t.country,dt:s.default.dt};return t.hasOwnProperty("ssc_pv")&&""!==t.ssc_pv&&(_.pv=t.ssc_pv),t.hasOwnProperty("ssc_to")&&t.ssc_to>a.SSC_TO.UNKNOWN&&(_.to=t.ssc_to),_}Object.defineProperty(n,"__esModule",{value:!0}),n.load=n.getDatas=void 0;var a=i(t("./events")),o=i(t("./utils")),s=function(t){return t&&t.__esModule?t:{default:t}}(t("../../../ssc.json")),_=i(t("./post_imp_detection")),d=n.getDatas=function(t,e,n,i,o){for(var s=[],d=e.callChain.getCallChainLinks(),l=0;l<d.length;l++){var u=d[l];if(_.shouldFireLink(t,u,a.POST_IMP_PROVIDER_ID_WHITEOPS)){var c=void 0;c=0===l?t.aid:u.getFirstOtherTagId(a.CALL_CHAIN_IDENTIFIERS.ACCOUNT),s.push(r(t,u,n,i,o,c))}}return s};n.load=function(t,e,n,i,r,a,_){for(var l=d(e,n,i,r,a),u=0;u<l.length;u++)o.addScript(t,o.makeUrl(o.getProtocol(_),s.default.url,l[u]));return l}},{"../../../ssc.json":214,"./events":201,"./post_imp_detection":204,"./utils":211}],206:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(t("lodash/isString")),a=i(t("lodash/isInteger")),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./events")),s=function(t){if(!t.hasOwnProperty("v")||!(0,a.default)(t.v))throw new Error(o.SSC_RESPONSE_PARSE_ERRORS.DATA_V,t.v);if(!t.hasOwnProperty("u")||!(0,r.default)(t.u))throw new Error(o.SSC_RESPONSE_PARSE_ERRORS.DATA_U,t.u);if(!t.hasOwnProperty("s")||!(0,a.default)(t.s))throw new Error(o.SSC_RESPONSE_PARSE_ERRORS.DATA_S,t.s);if(!t.hasOwnProperty("r")||!(0,a.default)(t.r))throw new Error(o.SSC_RESPONSE_PARSE_ERRORS.DATA_R,t.r);this.valid_=1===t.v,this.pv_=t.u,this.to_=t.s,this.r_=t.r};s.prototype.getSsc_valid=function(){return this.valid_},s.prototype.getSsc_pv=function(){return this.pv_},s.prototype.getSsc_to=function(){return this.to_},s.prototype.getR=function(){return this.r_},n.default=s},{"./events":201,"lodash/isInteger":149,"lodash/isString":154}],207:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./events")),r=function(t,e,n,i){this.ssc_pv_=t,this.ssc_to_=e,this.ssc_valid_=n,this.r_=i};r.prototype.getSsc_pv=function(){return this.ssc_pv_},r.prototype.getSsc_to=function(){return this.ssc_to_},r.prototype.isResult=function(){return this.ssc_to_>i.SSC_TO.NOT_CALLED||this.ssc_valid_},r.prototype.getSsc_valid=function(){return this.ssc_valid_},r.prototype.getR=function(){return this.r_},n.default=r},{"./events":201}],208:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){this.sscResult_=t};i.prototype.isSscResult=function(){return null!==this.sscResult_},i.prototype.getSscResult=function(){return this.sscResult_},i.prototype.setSscResult=function(t){this.sscResult_=t},n.default=i},{}],209:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isValid=n.isReported=void 0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./events"));n.isReported=function(t,e){return null!==t||e>i.SSC_TO.UNKNOWN},n.isValid=function(t,e){return e===i.SSC_TO.NON_ERROR}},{"./events":201}],210:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getStateInfo=function(t,e,n){var i={no_element:null,offsetWidth:null,offsetHeight:null,clientWidth:null,clientHeight:null,detectedHeight:null,detectedWidth:null,detectedSizeSource:null,scrollWidth:null,scrollHeight:null,getBoundingClientRect__left:null,getBoundingClientRect__top:null,getBoundingClientRect__right:null,getBoundingClientRect__bottom:null,other:{}};try{window.jwplayer&&(i.other.jwplayer_version=window.jwplayer.version),window.vidible&&(i.other.vidible_version=window.vidible.version()),window.videojs&&(i.other.videojs_version=videojs.VERSION),window.google&&window.google.ima&&(i.other.google_ima_version=window.google.ima.VERSION)}catch(t){}try{if(i.no_element=null===t,!i.no_element){i.offsetWidth=t.offsetWidth,i.offsetHeight=t.offsetHeight,i.clientWidth=t.clientWidth,i.clientHeight=t.clientHeight,i.scrollWidth=t.scrollWidth,i.scrollHeight=t.scrollHeight;var r=t.getBoundingClientRect();null!==r&&(i.getBoundingClientRect__left=r.left,i.getBoundingClientRect__top=r.top,i.getBoundingClientRect__right=r.right,i.getBoundingClientRect__bottom=r.bottom)}isNaN(parseFloat(i.clientWidth))?i.detectedWidth=e:i.detectedWidth=parseFloat(i.clientWidth),isNaN(parseFloat(i.clientHeight))?i.detectedHeight=n:i.detectedHeight=parseFloat(i.clientHeight),i.detectedSizeSource=isNaN(parseFloat(i.clientHeight))?"vpaid":"client"}catch(t){}return i}},{}],211:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.identityWrapper=n.getHistoryManager=n.getSscEndpoint=n.getORtbElement=n.isBc=n.sizeMatch=n.getSize=n.printError=n.addScript=n.getScriptLocation=n.getDocumentAndWindow=n.getArgs=n.getDigest=n.canPlayVideo=n.getRequestMethod=n.checkVPAIDInterface=n.firePixels=n.addImage=n.makeUrl=n.promoteProtocol=n.getProtocol=n.getCb=n.INSECURE_PROTOCOL=n.SECURE_PROTOCOL=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("lodash/isArray")),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./events")),a=n.SECURE_PROTOCOL="https:",o=n.INSECURE_PROTOCOL="http:",s=(n.getCb=function(){return Math.floor(1e7*Math.random())},n.getProtocol=function(t){return t?a:o}),_=(n.promoteProtocol=function(t,e){return e===a&&function(t,e,n){return t.substr(n||0,e.length)===e}(t,o)?e+t.substr(o.length):t},n.makeUrl=function(t,e,n){var i=t+"//"+e;if(null===n)return i;var r=[];for(var a in n)n.hasOwnProperty(a)&&r.push(a+"="+encodeURIComponent(n[a]));return i+"?"+r.join("&")}),d=n.addImage=function(t,e){var n=t.createElement("img");n.src=e,n.style.width="1px",n.style.height="1px",n.style.display="none",t.body.appendChild(n)},l=(n.firePixels=function(t,e){if((0,i.default)(e))for(var n=0;n<e.length;n++)d(t,e[n])},n.checkVPAIDInterface=function(t){return t.handshakeVersion&&"function"==typeof t.handshakeVersion&&t.initAd&&"function"==typeof t.initAd&&t.startAd&&"function"==typeof t.startAd&&t.stopAd&&"function"==typeof t.stopAd&&t.skipAd&&"function"==typeof t.skipAd&&t.resizeAd&&"function"==typeof t.resizeAd&&t.pauseAd&&"function"==typeof t.pauseAd&&t.resumeAd&&"function"==typeof t.resumeAd&&t.expandAd&&"function"==typeof t.expandAd&&t.collapseAd&&"function"==typeof t.collapseAd&&t.subscribe&&"function"==typeof t.subscribe&&t.unsubscribe&&"function"==typeof t.unsubscribe&&t.getAdVolume&&"function"==typeof t.getAdVolume&&t.getAdExpanded&&"function"==typeof t.getAdExpanded&&t.getAdCompanions&&"function"==typeof t.getAdCompanions&&t.getAdDuration&&"function"==typeof t.getAdDuration&&t.getAdHeight&&"function"==typeof t.getAdHeight&&t.getAdIcons&&"function"==typeof t.getAdIcons&&t.getAdLinear&&"function"==typeof t.getAdLinear&&t.getAdRemainingTime&&"function"==typeof t.getAdRemainingTime&&t.getAdSkippableState&&"function"==typeof t.getAdSkippableState&&t.getAdWidth&&"function"==typeof t.getAdWidth},n.getRequestMethod=function(t,e){var n=new XMLHttpRequest,i=!1;if("withCredentials"in n)n.open("GET",t,!0),e&&(n.withCredentials=i=!0);else{if("undefined"==typeof XDomainRequest)return null;(n=new XDomainRequest).open("GET",t)}return{xhr:n,withCredentials:i}},n.canPlayVideo=function(t,e){return t.canPlayType&&""!==t.canPlayType(e).replace(/no/,"")||!t.canPlayType},n.getDigest=function(t){return t&&t.length>r.DIGEST_LENGTH?t.slice(0,r.DIGEST_LENGTH):t},n.getArgs=function(t){return Array.prototype.slice.call(t,0)},n.getDocumentAndWindow=function(t){var e=void 0,n=void 0;try{e=t.ownerDocument,n=e.defaultView||e.parentWindow}catch(t){e=document,n=window}return null!==e&&null!==n||(e=document,n=window),{document:e,window:n}},n.getScriptLocation=function(t){return null!==t.getElementsByTagName("script")?t.getElementsByTagName("script")[0]:null});n.addScript=function(t,e){var n=t.createElement("script");n.type="text/javascript",n.async=!0;var i=l(t);null!==i?i.parentNode.insertBefore(n,i):t.head.appendChild(n),n.src=e},n.printError=function(t){return t.fileName+":"+t.lineNumber+" "+t.message},n.getSize=function(t){return isNaN(t)||t<=0?r.SIZE.UNKNOWN:t<r.SIZE.M?r.SIZE.S:t<=r.SIZE.L?r.SIZE.M:r.SIZE.L},n.sizeMatch=function(t,e){return this.getSize(t.width)===this.getSize(e.detectedWidth)},n.isBc=function(t,e){var n=e.slice(0,e.indexOf(":"))+"://"+t+"/bc/";return 0===e.indexOf(n)},n.getORtbElement=function(t,e,n){try{var i=t.getElementsByTagName(e)[0].textContent.trim();try{return n(i)}catch(t){return i}}catch(t){return""}},n.getSscEndpoint=function(t,e,n,i,r,a,o,d){return _(s(e),n+"/ssc",{uid:i,country:r,height:o,width:a,domain:d})},n.getHistoryManager=function(){return{demand_events:{request:{},response:{},opportunity:{},error:{}},blockedRequests:{},supplyTagOpportunities:{}}},n.identityWrapper=function(t){return t}},{"./events":201,"lodash/isArray":144}],212:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=n.getFirstElement=function(t,e){var n=e.getElementsByTagName(t);return n.length>0?n[0]:null},r=(n.getTextFromTagName=function(t,e){var n=i(t,e);if(null!==n){var r=n.textContent.trim();if(""!==r)return r}return null},n.parseDuration=function(t){var e=t.trim().split(":");if(3!==e.length)return null;var n=e[2].split("."),i=parseInt(n[0]);2===n.length&&(i+=parseFloat("0."+n[1]));var r=60*parseInt(e[1]),a=60*parseInt(e[0])*60;return isNaN(a)||isNaN(r)||isNaN(i)||r>3600||i>60?null:a+r+i});n.getSkipOffset=function(t,e){var n=t.trim();return"%"===n[n.length-1]?null!==e&&e>0?parseFloat(n)/100*e:null:r(n)}},{}],213:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(t("lodash/defaults")),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./events")),a=function(t,e,n){this.pixelNotifier_=t,this.historyManager_=e,this.demandTag_=n};a.prototype.internalError=function(t,e){this.pixelNotifier_(r.VID_IO_EVENTS.js_demand_response,this.demandTag_,{cc_i:this.demandTag_.callChain.getCallChainIndices(this.historyManager_.demand_events.response,!0).join(","),response_time:0,wrapper_count:0,has_ad:!1,timeout:e,reason:t},null)},a.prototype.missedOpportunity=function(t,e){this.pixelNotifier_(r.VID_IO_EVENTS.js_demand_missed_opportunity,this.demandTag_,{cc_i:this.demandTag_.callChain.getCallChainIndices(this.historyManager_.demand_events.opportunity,!0).join(","),td:t,ts:e},null)},a.prototype.fireChain=function(t,e){for(var n=e.getSupplyTagHistory(this.historyManager_.supplyTagOpportunities),i=e.getCallChainLinks(),a=0;a<n.length;a++){var o=n[a];if(o>0){var s=i[o].getSupplyTagId();this.pixelNotifier_(r.VID_IO_EVENTS.ad_request,null,t,s),this.pixelNotifier_(r.VID_IO_EVENTS.js_opportunity,null,t,s)}}},a.prototype.fireFlashDemandRequest=function(t,e,n){var a=(0,i.default)({},t);null!==n&&(a.cc_i=n.join(",")),this.pixelNotifier_(r.VID_IO_EVENTS.js_demand_request,e,a)},a.prototype.demandRequest=function(t){this.fireChain(t,this.demandTag_.callChain),this.fireFlashDemandRequest(t,this.demandTag_,this.demandTag_.callChain.getCallChainIndices(this.historyManager_.demand_events.request,!0))},a.prototype.js_vpaid_br=function(t,e){if(this.demandTag_.callChain.sendBr(this.historyManager_.blockedRequests,this.demandTag_.ssc_id)){this.fireChain(t,this.demandTag_.predecessorCallChain);var n=this.demandTag_.predecessorCallChain.getCallChainIndices(this.historyManager_.demand_events.request,!1);n.length>0&&this.fireFlashDemandRequest(t,(0,i.default)({callChain:this.demandTag_.predecessorCallChain,a_cc:this.demandTag_.predecessorCallChain.toString()},this.demandTag_),n),this.pixelNotifier_(r.VID_IO_EVENTS.js_vpaid_br,null,{ssc_r:e},this.demandTag_.ssc_id)}},n.default=a},{"./events":201,"lodash/defaults":132}],214:[function(t,e,n){e.exports={url:"s.update.morgdog.springserve.com/2/465673/analytics.js",dt:"4656731475874383737000"}},{}],215:[function(t,e,n){e.exports={MAX_WRAPPERS:10,VAST_TIMEOUT:3e3,VASTS_TIMEOUT:15e3,VPAID_SCRIPT_TIMEOUT:5e3,SUPPLY_ERROR_PIXEL_TIMEOUT:1e3,JSON_TIMEOUT:2e4,SSC_TIMEOUT:2e4}},{}]},{},[186])(186)});